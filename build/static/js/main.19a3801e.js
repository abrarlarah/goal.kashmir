/*! For license information please see main.19a3801e.js.LICENSE.txt */
(()=>{var e={730(e,t,n){"use strict";var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case j:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ie(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,Se=null;function je(e){if(e=xs(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),ke(e.stateNode,e.type,t))}}function Ee(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Te(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var _e=!1;function Ae(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ce(e,t,n)}finally{_e=!1,(null!==Ne||null!==Se)&&(Ie(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Pe=!1}function Me(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Fe=!1,Ue=null,Ve={onError:function(e){Oe=!0,Le=e}};function Be(e,t,n,r,s,i,a,o,l){Oe=!1,Le=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ke(s),e;if(a===r)return Ke(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,Ye=s.unstable_requestPaint,$e=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=dt(o):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~s)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Nt,St,jt,Et=!1,Tt=[],Ct=null,It=null,_t=null,At=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=ys(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void jt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==_t&&Ft(_t)&&(_t=null),At.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==It&&Bt(It,e),null!==_t&&Bt(_t,e),At.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var s=xt,i=qt.transition;qt.transition=null;try{xt=1,Wt(e,t,n,r)}finally{xt=s,qt.transition=i}}function Gt(e,t,n,r){var s=xt,i=qt.transition;qt.transition=null;try{xt=4,Wt(e,t,n,r)}finally{xt=s,qt.transition=i}}function Wt(e,t,n,r){if(Kt){var s=Xt(e,t,n,r);if(null===s)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Ot(Ct,e,t,n,r,s),!0;case"dragenter":return It=Ot(It,e,t,n,r,s),!0;case"mouseover":return _t=Ot(_t,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return At.set(i,Ot(At.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dt.set(i,Ot(Dt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var i=xs(s);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Kr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=ys(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(yn),bn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function jn(){return Sn}var En=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(En),Cn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),_n=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Rn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Fr(e,0)}function Xn(e){if(W(bs(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Wn)){var t=[];Hn(t,Wn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Wn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function jr(e){if(Nr[e])return Nr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=jr("animationend"),Tr=jr("animationiteration"),Cr=jr("animationstart"),Ir=jr("transitionend"),_r=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){_r.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Le;Oe=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,o,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var s=Ht;break;case 4:s=Gt;break;default:s=Wt}n=s.bind(null,t,n,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=ys(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=i,s=we(n),a=[];e:{var o=_r.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Er:case Tr:case Cr:l=vn;break;case Ir:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bs(l),f=null==c?o:bs(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,ys(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Kn(o))if($n)g=ar;else{g=sr;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bs(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,s)}var y;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(y=en()):(Jt="value"in($t=s)?$t.value:$t.textContent,zn=!0)),0<(v=Gr(r,x)).length&&(x=new bn(x,e,null,n,s),a.push({event:x,listeners:v}),y?x.data=y:null!==(y=Bn(n))&&(x.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=De(e,n))&&r.unshift(Hr(e,i,s)),null!=(i=De(e,t))&&r.push(Hr(e,i,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=De(n,i))&&a.unshift(Hr(n,l,o)):s||null!=(l=De(n,i))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[fs]||null}var ks=[],Ns=-1;function Ss(e){return{current:e}}function js(e){0>Ns||(e.current=ks[Ns],ks[Ns]=null,Ns--)}function Es(e,t){Ns++,ks[Ns]=e.current,e.current=t}var Ts={},Cs=Ss(Ts),Is=Ss(!1),_s=Ts;function As(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ds(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ps(){js(Is),js(Cs)}function Rs(e,t,n){if(Cs.current!==Ts)throw Error(i(168));Es(Cs,t),Es(Is,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,q(e)||"Unknown",s));return L({},n,r)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,_s=Cs.current,Es(Cs,e),Es(Is,Is.current),!0}function Ls(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ms(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,js(Is),js(Cs),Es(Cs,e)):js(Is),Es(Is,n)}var Fs=null,Us=!1,Vs=!1;function Bs(e){null===Fs?Fs=[e]:Fs.push(e)}function zs(){if(!Vs&&null!==Fs){Vs=!0;var e=0,t=xt;try{var n=Fs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Us=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),We(Ze,zs),s}finally{xt=t,Vs=!1}}return null}var qs=[],Ks=0,Hs=null,Gs=0,Ws=[],Qs=0,Xs=null,Ys=1,$s="";function Js(e,t){qs[Ks++]=Gs,qs[Ks++]=Hs,Hs=e,Gs=t}function Zs(e,t,n){Ws[Qs++]=Ys,Ws[Qs++]=$s,Ws[Qs++]=Xs,Xs=e;var r=Ys;e=$s;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ys=1<<32-at(t)+s|n<<s|r,$s=i+e}else Ys=1<<i|n<<s|r,$s=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Hs;)Hs=qs[--Ks],qs[Ks]=null,Gs=qs[--Ks],qs[Ks]=null;for(;e===Xs;)Xs=Ws[--Qs],Ws[Qs]=null,$s=Ws[--Qs],Ws[Qs]=null,Ys=Ws[--Qs],Ws[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=_c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:Ys,overflow:$s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=Lc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Rc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case k:return n.key===s?u(e,t,n,r):null;case D:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case D:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(s,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(s,d),si&&Js(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&Js(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(g=p(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),si&&Js(s,m),c}function g(s,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(s,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(s,m),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,m=v}if(y.done)return n(s,m),si&&Js(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return si&&Js(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(s,e)}),si&&Js(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&yi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((i=Rc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Lc(a,r.mode,l)).return=r,r=i}return o(r);case D:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(M(a))return g(r,i,a,l);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Oc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),ki=Ss(null),Ni=null,Si=null,ji=null;function Ei(){ji=Si=Ni=null}function Ti(e){var t=ki.current;js(ki),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){Ni=e,ji=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(ji!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ni)throw Error(i(308));Si=e,Ni.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ai=null;function Di(e){null===Ai?Ai=[e]:Ai.push(e)}function Pi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Di(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ri(e,n)}return null===(s=r.interleaved)?(t.next=t,Di(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ri(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Ki={},Hi=Ss(Ki),Gi=Ss(Ki),Wi=Ss(Ki);function Qi(e){if(e===Ki)throw Error(i(174));return e}function Xi(e,t){switch(Es(Wi,t),Es(Gi,e),Es(Hi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}js(Hi),Es(Hi,t)}function Yi(){js(Hi),js(Gi),js(Wi)}function $i(e){Qi(Wi.current);var t=Qi(Hi.current),n=le(t,e.type);t!==n&&(Es(Gi,e),Es(Hi,n))}function Ji(e){Gi.current===e&&(js(Hi),js(Gi))}var Zi=Ss(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,sa=b.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,s),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,s)}while(ua)}if(ra.current=$a,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Ml|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Na(e,t){var n=aa,r=ya(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,xo=!0),r=r.queue,Ma(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,_a(9,ja.bind(null,n,r,s,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&ia)||Sa(n,t,s)}return s}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Ca(e)}function Ea(e,t,n){return n(function(){Ta(t)&&Ca(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ri(e,1);null!==t&&tc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function Da(e,t,n,r){var s=va();aa.flags|=e,s.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var s=ya();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&pa(r,a.deps))return void(s.memoizedState=_a(t,n,i,r))}aa.flags|=e,s.memoizedState=_a(1|t,n,i,r)}function Ra(e,t){return Da(8390656,8,e,t)}function Ma(e,t){return Pa(2048,8,e,t)}function Oa(e,t){return Pa(4,2,e,t)}function La(e,t){return Pa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Fa.bind(null,t,e),n)}function Va(){}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ka(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{xt=n,sa.transition=r}}function Ha(){return ya().memoizedState}function Ga(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Xa(t,n);else if(null!==(n=Pi(e,t,n,r))){tc(n,e,r,Zl()),Ya(n,t,r)}}function Wa(e,t,n){var r=ec(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Xa(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Di(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Pi(e,t,s,r))&&(tc(n,e,r,s=Zl()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Xa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $a={readContext:_i,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:_i,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ka.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=va();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&ia)||Sa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ra(Ea.bind(null,r,a,e),[e]),r.flags|=2048,_a(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Cl.identifierPrefix;if(si){var n=$s;t=":"+t+"R"+(n=(Ys&~(1<<32-at(Ys)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:_i,useCallback:Ba,useContext:_i,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:ba,useRef:Aa,useState:function(){return ba(xa)},useDebugValue:Va,useDeferredValue:function(e){return qa(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Ha,unstable_isNewReconciler:!1},eo={readContext:_i,useCallback:Ba,useContext:_i,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:za,useReducer:wa,useRef:Aa,useState:function(){return wa(xa)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:qa(t,oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ya().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Ha,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),s=ec(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(tc(t,e,s,r),Vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),s=ec(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(tc(t,e,s,r),Vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ui(e,s,r))&&(tc(t,e,r,n),Vi(t,e,r))}};function so(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function io(e,t,n){var r=!1,s=Ts,i=t.contextType;return"object"===typeof i&&null!==i?i=_i(i):(s=Ds(t)?_s:Cs.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?As(e,s):Ts),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=_i(i):(i=Ds(t)?_s:Cs.current,s.context=As(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),zi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),uo(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wo(e,t,n,r,s){n=n.render;var i=t.ref;return Ii(t,s),r=ma(e,t,n,r,i,s),n=ga(),null===e||xo?(si&&n&&ei(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function ko(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);0!==(131072&e.flags)&&(xo=!0)}}return Eo(e,t,n,r,s)}function So(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Es(Dl,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Es(Dl,Al),Al|=r;return bo(e,t,s,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,s){var i=Ds(n)?_s:Cs.current;return i=As(t,i),Ii(t,s),n=ma(e,t,n,r,i,s),r=ga(),null===e||xo?(si&&r&&ei(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function To(e,t,n,r,s){if(Ds(n)){var i=!0;Os(t)}else i=!1;if(Ii(t,s),null===t.stateNode)zo(e,t),io(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_i(c):c=As(t,c=Ds(n)?_s:Cs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Mi=!1;var h=t.memoizedState;a.state=h,zi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Is.current||Mi?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Mi||so(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Li(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_i(l):l=As(t,l=Ds(n)?_s:Cs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Mi=!1,h=t.memoizedState,a.state=h,zi(t,r,a,s);var p=t.memoizedState;o!==d||h!==p||Is.current||Mi?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Mi||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,i,s)}function Co(e,t,n,r,s,i){jo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Ls(t,n,!1),qo(e,t,i);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,s&&Ls(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Xi(e,t.containerInfo)}function _o(e,t,n,r,s){return fi(),pi(s),t.flags|=256,bo(e,t,n,r),t.child}var Ao,Do,Po,Ro={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,s=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Es(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,s,0,null),e=Rc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Ro,e):Lo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),(a=Rc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Ro,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Cl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ri(e,s),tc(r,e,s,-1))}return pc(),Fo(e,t,o,r=co(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ws[Qs++]=Ys,Ws[Qs++]=$s,Ws[Qs++]=Xs,Ys=e.id,$s=e.overflow,Xs=t),t=Lo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,s}return e=(o=e.child).sibling,s=Dc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Lo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Vo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Bo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Es(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vo(t,!0,n,null,i);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Ds(t.type)&&Ps(),Ho(t),null;case 3:return r=t.stateNode,Yi(),js(Is),js(Cs),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ic(ii),ii=null))),Ho(t),null;case 5:Ji(t);var s=Qi(Wi.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ho(t),null}if(e=Qi(Hi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[fs]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)Ur(Mr[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":se(r,a),Ur("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Ao(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)Ur(Mr[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":Y(e,r),s=X(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Po(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Wi.current),Qi(Hi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Ho(t),null;case 13:if(js(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),a=!1}else null!==ii&&(ic(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Pl&&(Pl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Yi(),null===e&&zr(t.stateNode.containerInfo),Ho(t),null;case 10:return Ti(t.type._context),Ho(t),null;case 19:if(js(Zi),null===(a=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Es(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Bl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Ho(t),null}else 2*$e()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=Zi.current,Es(Zi,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Wo(e,t){switch(ti(t),t.tag){case 1:return Ds(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),js(Is),js(Cs),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(js(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return js(Zi),null;case 4:return Yi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qi(Hi.current);var i,a=null;switch(n){case"input":s=X(e,s),r=X(e,r),a=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Xo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&Zo(t,n,i)}s=s.next}while(s!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||Jo(n,t);case 6:var r=cl,s=ul;cl=null,dl(e,t,n),ul=s,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),zt(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Zo(n,t,a),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,dl(e,t,n),Xo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(a,o,s),cl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Nc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){Nc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(s,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(g){Nc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Nc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Vl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,pl(t,e),Xo=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){bl(h);continue}}null!==p?(p.return=f,$o=p):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),ll(e,al(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,al(e),a);break;default:throw Error(i(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$o=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var s=$o,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Qo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Qo;var c=Xo;if(Qo=a,(Xo=l)&&!c)for($o=s;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?wl(s):null!==l?(l.return=a,$o=l):wl(s);for(;null!==i;)$o=i,yl(i,t,n),i=i.sibling;$o=s,Qo=o,Xo=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,$o=i):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&rl(t)}catch(f){Nc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function bl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Nc(t,s,l)}}var i=t.return;try{rl(t)}catch(l){Nc(t,i,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var kl,Nl=Math.ceil,Sl=b.ReactCurrentDispatcher,jl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Cl=null,Il=null,_l=0,Al=0,Dl=Ss(0),Pl=0,Rl=null,Ml=0,Ol=0,Ll=0,Fl=null,Ul=null,Vl=0,Bl=1/0,zl=null,ql=!1,Kl=null,Hl=null,Gl=!1,Wl=null,Ql=0,Xl=0,Yl=null,$l=-1,Jl=0;function Zl(){return 0!==(6&Tl)?$e():-1!==$l?$l:$l=$e()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==_l?_l&-_l:null!==mi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(i(185));vt(e,n,r),0!==(2&Tl)&&e===Cl||(e===Cl&&(0===(2&Tl)&&(Ol|=n),4===Pl&&ac(e,_l)),nc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=$e()+500,Us&&zs()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Cl?_l:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Us=!0,Bs(e)}(oc.bind(null,e)):Bs(oc.bind(null,e)),as(function(){0===(6&Tl)&&zs()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Jl=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?_l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var s=Tl;Tl|=2;var a=fc();for(Cl===e&&_l===t||(zl=null,Bl=$e()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}Ei(),Sl.current=a,Tl=s,null!==Il?t=0:(Cl=null,_l=0,t=Pl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t)throw n=Rl,dc(e,0),ac(e,r),nc(e,$e()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Rl,dc(e,0),ac(e,r),nc(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:bc(e,Ul,zl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(bc.bind(null,e,Ul,zl),t);break}bc(e,Ul,zl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=rs(bc.bind(null,e,Ul,zl),r);break}bc(e,Ul,zl);break;default:throw Error(i(329))}}}return nc(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ul,Ul=n,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Ll,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Tl))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Rl,dc(e,0),ac(e,t),nc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ul,zl),nc(e,$e()),null}function lc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=$e()+500,Us&&zs())}}function cc(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&wc();var t=Tl;Tl|=1;var n=El.transition,r=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=r,El.transition=n,0===(6&(Tl=t))&&zs()}}function uc(){Al=Dl.current,js(Dl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ps();break;case 3:Yi(),js(Is),js(Cs),na();break;case 5:Ji(r);break;case 4:Yi();break;case 13:case 19:js(Zi);break;case 10:Ti(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Cl=e,Il=e=Dc(e.current,null),_l=Al=t,Pl=0,Rl=null,Ll=Ol=Ml=0,Ul=Fl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ai=null}return e}function hc(e,t){for(;;){var n=Il;try{if(Ei(),ra.current=$a,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,da=0,jl.current=null,null===n||null===n.return){Pl=1,Rl=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),pc();break e}c=Error(i(426))}else if(si&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(c,l));break e}}a=c=lo(c,l),4!==Pl&&(Pl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Hl||!Hl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=$a,null===e?$a:e}function pc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Cl||0===(268435455&Ml)&&0===(268435455&Ol)||ac(Cl,_l)}function mc(e,t){var n=Tl;Tl|=2;var r=fc();for(Cl===e&&_l===t||(zl=null,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(Ei(),Tl=n,Sl.current=r,null!==Il)throw Error(i(261));return Cl=null,_l=0,Pl}function gc(){for(;null!==Il;)yc(Il)}function vc(){for(;null!==Il&&!Xe();)yc(Il)}function yc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?xc(e):Il=t,jl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Al)))return void(Il=n)}else{if(null!==(n=Wo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Pl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Pl&&(Pl=5)}function bc(e,t,n){var r=xt,s=El.transition;try{El.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Wl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Cl&&(Il=Cl=null,_l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Cc(tt,function(){return wc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var o=xt;xt=1;var l=Tl;Tl|=4,jl.current=null,function(e,t){if(es=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Kt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=el,el=!1}(e,n),ml(n,e),pr(ts),Kt=!!es,ts=es=null,e.current=n,vl(n,e,s),Ye(),Tl=l,xt=o,El.transition=a}else e.current=n;if(Gl&&(Gl=!1,Wl=e,Ql=s),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,zs()}(e,t,n,r)}finally{El.transition=s,xt=r}return null}function wc(){if(null!==Wl){var e=bt(Ql),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Ql=0,0!==(6&Tl))throw Error(i(331));var s=Tl;for(Tl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:tl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(sl(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var x=e.current;for($o=x;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=x;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Nc(l,l.return,k)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Tl=s,zs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(k){}r=!0}return r}finally{xt=n,El.transition=t}}return!1}function kc(e,t,n){e=Ui(e,t=fo(0,t=lo(n,t),1),1),t=Zl(),null!==e&&(vt(e,1,t),nc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Ui(t,e=po(t,e=lo(n,e),1),1),e=Zl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(_l&n)===n&&(4===Pl||3===Pl&&(130023424&_l)===_l&&500>$e()-Vl?dc(e,0):Ll|=n),nc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Ri(e,t))&&(vt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),jc(e,n)}function Cc(e,t){return We(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Rc(n.children,s,a,t);case S:o=8,s|=8;break;case j:return(e=_c(12,n,t,2|s)).elementType=j,e.lanes=a,e;case I:return(e=_c(13,n,t,s)).elementType=I,e.lanes=a,e;case _:return(e=_c(19,n,t,s)).elementType=_,e.lanes=a,e;case P:return Mc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=_c(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=_c(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=_c(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=_c(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=_c(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function Vc(e){if(!e)return Ts;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ds(n))return Ms(e,n,t)}return t}function Bc(e,t,n,r,s,i,a,o,l){return(e=Uc(n,r,!0,e,0,i,0,o,l)).context=Vc(null),n=e.current,(i=Fi(r=Zl(),s=ec(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,s),e.current.lanes=s,vt(e,s,r),nc(e,r),e}function zc(e,t,n,r){var s=t.current,i=Zl(),a=ec(s);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(s,t,a))&&(tc(e,s,a,i),Vi(e,s,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Is.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fi();break;case 5:$i(t);break;case 1:Ds(t.type)&&Os(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Es(ki,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Es(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Es(Zi,1&Zi.current),null!==(e=qo(e,t,n))?e.sibling:null);Es(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,si&&0!==(1048576&t.flags)&&Zs(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var s=As(t,Cs.current);Ii(t,n),s=ma(null,t,r,e,s,n);var a=ga();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(r)?(a=!0,Os(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Oi(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),bo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),s){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Io(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Li(e,t),zi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_o(e,t,r,n,s=lo(Error(i(423)),t));break e}if(r!==s){t=_o(e,t,r,n,s=lo(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=qo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return $i(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),jo(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Oo(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Es(ki,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!Is.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ci(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ii(t,n),r=r(s=_i(s)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),ko(e,t,r,s=to(r.type,s),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),zo(e,t),t.tag=1,Ds(r)?(e=!0,Os(t)):e=!1,Ii(t,n),io(t,r,s),oo(t,r,s,n),Co(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Jc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=qc(a);o.call(e)}}zc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=qc(a);i.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[ps]=a.current,zr(8===e.nodeType?e.parentNode:e),cc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[ps]=l.current,zr(8===e.nodeType?e.parentNode:e),cc(function(){zc(t,l,n,r)}),l}(n,t,e,s,r);return qc(a)}Qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zc(e,t,null,null)},Qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){zc(null,e,null,null)}),t[ps]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,$e()),0===(6&Tl)&&(Bl=$e()+500,zs()))}break;case 13:cc(function(){var t=Ri(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Hc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ec(e),n=Ri(e,t);if(null!==n)tc(n,e,t,Zl());Hc(e,t)}},St=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));W(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ie=cc;var Zc={usingClientEntryPoint:!1,Events:[xs,bs,ws,Ee,Te,lc]},eu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{st=nu.inject(tu),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,zr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,zr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(cc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){"use strict";var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,s)&&!S.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(T,"$&/")+"/"),I(a,t,s,"",function(e){return e})):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=I(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,s,u=i+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43(e,t,n){"use strict";e.exports=n(202)},579(e,t,n){"use strict";e.exports=n(153)},234(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(k);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,j=null,E=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function _(){if(null!==j){var e=t.unstable_now();C=e;var n=!0;try{n=j(!0,e)}finally{n?N():(S=!1,j=null)}}else S=!1}if("function"===typeof x)N=function(){x(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=_,N=function(){D.postMessage(null)}}else N=function(){v(_,0)};function P(e){j=e,S||(S=!0,N())}function R(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,R(w,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){"use strict";e.exports=n(234)},427(e,t,n){var r={"./Snow-3 - Copy.jpg":940,"./Snow-3.jpg":174,"./iu.jpg":282};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id=427},972(e,t,n){var r={"./ChatGPT Image Feb 9, 2026, 11_39_58 AM.png":851,"./Snow-3 - Copy.jpg":15,"./Snow-3.jpg":819,"./iu.jpg":232,"./shared image (6).jpg":889};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id=972},368(e,t,n){var r={"./Snow-3 - Copy.jpg":587,"./Snow-3.jpg":959,"./iu.jpg":996,"./shared image (6).jpg":901};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id=368},940(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3 - Copy.e2aed85986e8803be7b8.jpg"},174(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3.e2aed85986e8803be7b8.jpg"},282(e,t,n){"use strict";e.exports=n.p+"static/media/iu.a60e27ede2b5e10f956c.jpg"},851(e,t,n){"use strict";e.exports=n.p+"static/media/ChatGPT Image Feb 9, 2026, 11_39_58 AM.af44b4557789aa16e7e3.png"},15(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3 - Copy.e2aed85986e8803be7b8.jpg"},819(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3.e2aed85986e8803be7b8.jpg"},232(e,t,n){"use strict";e.exports=n.p+"static/media/iu.a60e27ede2b5e10f956c.jpg"},889(e,t,n){"use strict";e.exports=n.p+"static/media/shared image (6).320c8dcf2ebac095e8dc.jpg"},587(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3 - Copy.e2aed85986e8803be7b8.jpg"},959(e,t,n){"use strict";e.exports=n.p+"static/media/Snow-3.e2aed85986e8803be7b8.jpg"},996(e,t,n){"use strict";e.exports=n.p+"static/media/iu.a60e27ede2b5e10f956c.jpg"},901(e,t,n){"use strict";e.exports=n.p+"static/media/shared image (6).320c8dcf2ebac095e8dc.jpg"}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/goal.kashmir/",(()=>{"use strict";var e,t=n(43),r=n.t(t,2),s=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:h=!1}=s,f=l.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function x(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(a,y),m=e,()=>{l.removeEventListener(a,y),m=null}},createHref:e=>n(l,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let s=u(b.location,t,n);r&&r(s,t),g=v()+1;let i=c(s,g),a=b.createHref(s);try{f.pushState(i,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let s=u(b.location,t,n);r&&r(s,t),g=v();let i=c(s,g),a=b.createHref(s);f.replaceState(i,"",a),h&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let s=_(("string"===typeof t?h(t):t).pathname||"/",n);if(null==s)return null;let i=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=I(s);a=T(i[o],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=F([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))s(e,t,r);else s(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=y(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,b=3,w=2,k=1,N=10,S=-2,j=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=S),t&&(r+=w),n.filter(e=>!j(e)).reduce((e,t)=>e+(x.test(t)?b:""===t?k:N),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:F([i,u.pathname]),pathnameBase:U(F([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=F([i,u.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1),c=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:c,pathname:i,pathnameBase:a,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){void 0===t&&(t="/");let n,{pathname:r,search:s="",hash:i=""}="string"===typeof e?h(e):e;if(r)if(a=r,A.test(a))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),l(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?P(r.substring(1),"/"):P(r,t)}else n=t;var a;return{pathname:n,search:V(s),hash:B(i)}}function P(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=h(e):(s=i({},e),o(!s.pathname||!s.pathname.includes("?"),R("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),R("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),R("#","search","hash",s)));let a,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=D(s,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],K=(new Set(q),["get",...q]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const G=t.createContext(null);const W=t.createContext(null);const Q=t.createContext(null);const X=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const $=t.createContext(null);function J(){return null!=t.useContext(X)}function Z(){return J()||o(!1),t.useContext(X).location}function ee(e){t.useContext(Q).static||t.useLayoutEffect(e)}function te(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),n=pe(de.UseNavigateStable),r=t.useRef(!1);ee(()=>{r.current=!0});let s=t.useCallback(function(t,s){void 0===s&&(s={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,H({fromRouteId:n},s)))},[e,n]);return s}():function(){J()||o(!1);let e=t.useContext(G),{basename:n,future:r,navigator:s}=t.useContext(Q),{matches:i}=t.useContext(Y),{pathname:a}=Z(),l=JSON.stringify(O(i,r.v7_relativeSplatPath)),c=t.useRef(!1);ee(()=>{c.current=!0});let u=t.useCallback(function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void s.go(t);let i=L(t,JSON.parse(l),a,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:F([n,i.pathname])),(r.replace?s.replace:s.push)(i,r.state,r)},[n,s,l,a,e]);return u}()}function ne(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}function re(e,n){let{relative:r}=void 0===n?{}:n,{future:s}=t.useContext(Q),{matches:i}=t.useContext(Y),{pathname:a}=Z(),o=JSON.stringify(O(i,s.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(o),a,"path"===r),[e,o,a,r])}function se(n,r,s,i){J()||o(!1);let{navigator:a}=t.useContext(Q),{matches:l}=t.useContext(Y),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=Z();if(r){var g;let e="string"===typeof r?h(r):r;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||o(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=m(n,{pathname:y});let b=ce(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,s,i);return r&&b?t.createElement(X.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function ie(){let e=function(){var e;let n=t.useContext($),r=fe(de.UseRouteError),s=pe(de.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[s]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const ae=t.createElement(ie,null);class oe extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(G);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},s)}function ce(e,n,r,s){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var a;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(a=s)&&a.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,s,i)=>{let a,o=!1,h=null,f=null;var p;r&&(a=c&&s.route.id?c[s.route.id]:void 0,h=s.route.errorElement||ae,u&&(d<0&&0===i?(p="route-fallback",!1||me[p]||(me[p]=!0),o=!0,f=null):d===i&&(o=!0,f=s.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,i+1)),g=()=>{let n;return n=a?h:o?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(le,{match:s,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?t.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let n=t.useContext(G);return n||o(!1),n}function fe(e){let n=t.useContext(W);return n||o(!1),n}function pe(e){let n=function(){let e=t.useContext(Y);return e||o(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||o(!1),r.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ve(e){let{to:n,replace:r,state:s,relative:i}=e;J()||o(!1);let{future:a,static:l}=t.useContext(Q),{matches:c}=t.useContext(Y),{pathname:u}=Z(),d=te(),h=L(n,O(c,a.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:i}),[d,f,i,r,s]),null}function ye(e){o(!1)}function xe(n){let{basename:r="/",children:s=null,location:i,navigationType:a=e.Pop,navigator:l,static:c=!1,future:u}=n;J()&&o(!1);let d=r.replace(/^\/*/,"/"),f=t.useMemo(()=>({basename:d,navigator:l,static:c,future:H({v7_relativeSplatPath:!1},u)}),[d,u,l,c]);"string"===typeof i&&(i=h(i));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,x=t.useMemo(()=>{let e=_(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:a}},[d,p,m,g,v,y,a]);return null==x?null:t.createElement(Q.Provider,{value:f},t.createElement(X.Provider,{children:s,value:x}))}function be(e){let{children:t,location:n}=e;return se(we(t),n)}new Promise(()=>{});t.Component;function we(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,we(e.props.children,i));e.type!==ye&&o(!1),e.props.index&&e.props.children&&o(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,i)),r.push(a)}),r}var ke=n(950),Ne=n.t(ke,2);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Te=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(uO){}const Ce=t.createContext({isTransitioning:!1});new Map;const Ie=r.startTransition;Ne.flushSync,r.useId;function _e(e){let{basename:n,children:r,future:s,window:i}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n="/",search:r="",hash:s=""}=h(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))},function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},o)));let c=a.current,[p,m]=t.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},v=t.useCallback(e=>{g&&Ie?Ie(()=>m(e)):m(e)},[m,g]);return t.useLayoutEffect(()=>c.listen(v),[c,v]),t.useEffect(()=>ge(s),[s]),t.createElement(xe,{basename:n,children:r,location:p.location,navigationType:p.action,navigator:c,future:s})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=t.forwardRef(function(e,n){let r,{onClick:s,relative:i,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,m=je(e,Ee),{basename:g}=t.useContext(Q),v=!1;if("string"===typeof h&&De.test(h)&&(r=h,Ae))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=_(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(uO){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||o(!1);let{basename:s,navigator:i}=t.useContext(Q),{hash:a,pathname:l,search:c}=re(e,{relative:r}),u=l;return"/"!==s&&(u="/"===l?s:F([s,l])),i.createHref({pathname:u,search:c,hash:a})}(h,{relative:i}),x=function(e,n){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===n?{}:n,c=te(),u=Z(),h=re(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==s?s:d(u)===d(h);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,s,i,r,e,a,o,l])}(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p});return t.createElement("a",Se({},m,{href:r||y,onClick:v||a?s:function(e){s&&s(e),e.defaultPrevented||x(e)},ref:n,target:u}))});const Re=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,h=je(e,Te),f=re(c,{relative:h.relative}),p=Z(),m=t.useContext(W),{navigator:g,basename:v}=t.useContext(Q),y=null!=m&&function(e,n){void 0===n&&(n={});let r=t.useContext(Ce);null==r&&o(!1);let{basename:s}=Le(Me.useViewTransitionState),i=re(e,{relative:n.relative});if(!r.isTransitioning)return!1;let a=_(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=_(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=C(i.pathname,l)||null!=C(i.pathname,a)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=_(w,v)||w);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,S=b===x||!a&&b.startsWith(x)&&"/"===b.charAt(k),j=null!=w&&(w===x||!a&&w.startsWith(x)&&"/"===w.charAt(x.length)),E={isActive:S,isPending:j,isTransitioning:y},T=S?r:void 0;N="function"===typeof i?i(E):[i,S?"active":null,j?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(E):l;return t.createElement(Pe,Se({},h,{"aria-current":T,className:N,ref:n,style:I,to:c,viewTransition:u}),"function"===typeof d?d(E):d)});var Me,Oe;function Le(e){let n=t.useContext(G);return n||o(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));const Fe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Ve;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){return function(e){const t=Fe(e);return Ue.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ze=function(e){try{return Ue.decodeString(e,!0)}catch(uO){console.error("base64Decode failed: ",uO)}return null};const qe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ke=()=>{try{return qe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/goal.kashmir",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uO){return}const t=e&&ze(e[1]);return t&&JSON.parse(t)})()}catch(uO){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uO))}},He=e=>{var t,n;return null===(n=null===(t=Ke())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ge=e=>{const t=He(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},We=()=>{var e;return null===(e=Ke())||void 0===e?void 0:e.config},Qe=e=>{var t;return null===(t=Ke())||void 0===t?void 0:t["_".concat(e)]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(i)),""].join(".")}function $e(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){var e;const t=null===(e=Ke())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uO){return!1}}function Ze(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function et(){try{return"object"===typeof indexedDB}catch(uO){return!1}}function tt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(st,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new nt(n,i,t)}}const st=/\{\$([^}]+)}/g;function it(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(at(n)&&at(i)){if(!it(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function ot(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uO){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uO){"undefined"!==typeof console&&console.error&&console.error(uO)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function ht(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function ft(e){return e&&e._delegate?e._delegate:e}class pt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mt="[DEFAULT]";class gt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uO){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uO){if(r)return null;throw uO}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(uO){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uO){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===mt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const yt=[];var xt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xt||(xt={}));const bt={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},wt=xt.INFO,kt={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Nt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=kt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class St{constructor(e){this.name=e,this._logLevel=wt,this._logHandler=Nt,this._userLogHandler=null,yt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Et(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}function Tt(e,t,n){return(t=Et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){Tt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let _t,At;const Dt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ot=new WeakMap;let Lt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Rt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ft(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(At||(At=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bt(this),n),Vt(Dt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(e.apply(Bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(Bt(this),t,...r);return Rt.set(i,t.sort?t.sort():[t]),Vt(i)}}function Ut(e){return"function"===typeof e?Ft(e):(e instanceof IDBTransaction&&function(e){if(Pt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Pt.set(e,t)}(e),t=e,(_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Lt):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Vt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Dt.set(t,e)}).catch(()=>{}),Ot.set(t,e),t}(e);if(Mt.has(e))return Mt.get(e);const t=Ut(e);return t!==e&&(Mt.set(e,t),Ot.set(t,e)),t}const Bt=e=>Ot.get(e);const zt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Kt=new Map;function Ht(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Kt.get(t))return Kt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=qt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!zt.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Kt.set(t,i),i}Lt=(e=>It(It({},e),{},{get:(t,n,r)=>Ht(t,n)||e.get(t,n,r),has:(t,n)=>!!Ht(t,n)||e.has(t,n)}))(Lt);class Gt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Wt="@firebase/app",Qt="0.9.13",Xt=new St("@firebase/app"),Yt="@firebase/app-compat",$t="@firebase/analytics-compat",Jt="@firebase/analytics",Zt="@firebase/app-check-compat",en="@firebase/app-check",tn="@firebase/auth",nn="@firebase/auth-compat",rn="@firebase/database",sn="@firebase/database-compat",an="@firebase/functions",on="@firebase/functions-compat",ln="@firebase/installations",cn="@firebase/installations-compat",un="@firebase/messaging",dn="@firebase/messaging-compat",hn="@firebase/performance",fn="@firebase/performance-compat",pn="@firebase/remote-config",mn="@firebase/remote-config-compat",gn="@firebase/storage",vn="@firebase/storage-compat",yn="@firebase/firestore",xn="@firebase/firestore-compat",bn="firebase",wn="[DEFAULT]",kn={[Wt]:"fire-core",[Yt]:"fire-core-compat",[Jt]:"fire-analytics",[$t]:"fire-analytics-compat",[en]:"fire-app-check",[Zt]:"fire-app-check-compat",[tn]:"fire-auth",[nn]:"fire-auth-compat",[rn]:"fire-rtdb",[sn]:"fire-rtdb-compat",[an]:"fire-fn",[on]:"fire-fn-compat",[ln]:"fire-iid",[cn]:"fire-iid-compat",[un]:"fire-fcm",[dn]:"fire-fcm-compat",[hn]:"fire-perf",[fn]:"fire-perf-compat",[pn]:"fire-rc",[mn]:"fire-rc-compat",[gn]:"fire-gcs",[vn]:"fire-gcs-compat",[yn]:"fire-fst",[xn]:"fire-fst-compat","fire-js":"fire-js",[bn]:"fire-js-all"},Nn=new Map,Sn=new Map;function jn(e,t){try{e.container.addComponent(t)}catch(uO){Xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uO)}}function En(e){const t=e.name;if(Sn.has(t))return Xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Sn.set(t,e);for(const n of Nn.values())jn(n,e);return!0}function Tn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Cn=new rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}const _n="9.23.0";function An(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:wn,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw Cn.create("bad-app-name",{appName:String(s)});if(n||(n=We()),!n)throw Cn.create("no-options");const i=Nn.get(s);if(i){if(it(n,i.options)&&it(r,i.config))return i;throw Cn.create("duplicate-app",{appName:s})}const a=new vt(s);for(const l of Sn.values())a.addComponent(l);const o=new In(n,r,a);return Nn.set(s,o),o}function Dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;const t=Nn.get(e);if(!t&&e===wn&&We())return An();if(!t)throw Cn.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let s=null!==(r=kn[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xt.warn(e.join(" "))}En(new pt("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const Rn="firebase-heartbeat-store";let Mn=null;function On(){return Mn||(Mn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Vt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Vt(a.result),e.oldVersion,e.newVersion,Vt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Rn)}}).catch(e=>{throw Cn.create("idb-open",{originalErrorMessage:e.message})})),Mn}async function Ln(e,t){try{const n=(await On()).transaction(Rn,"readwrite"),r=n.objectStore(Rn);await r.put(t,Fn(e)),await n.done}catch(uO){if(uO instanceof nt)Xt.warn(uO.message);else{const t=Cn.create("idb-set",{originalErrorMessage:null===uO||void 0===uO?void 0:uO.message});Xt.warn(t.message)}}}function Fn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Un{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Vn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Vn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),zn(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Be(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Vn(){return(new Date).toISOString().substring(0,10)}class Bn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&tt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await On();return await t.transaction(Rn).objectStore(Rn).get(Fn(e))}catch(uO){if(uO instanceof nt)Xt.warn(uO.message);else{const t=Cn.create("idb-get",{originalErrorMessage:null===uO||void 0===uO?void 0:uO.message});Xt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zn(e){return Be(JSON.stringify({version:2,heartbeats:e})).length}var qn;qn="",En(new pt("platform-logger",e=>new Gt(e),"PRIVATE")),En(new pt("heartbeat",e=>new Un(e),"PRIVATE")),Pn(Wt,Qt,qn),Pn(Wt,Qt,"esm2017"),Pn("fire-js","");function Kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Hn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gn=Hn,Wn=new rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new St("@firebase/auth");function Xn(e){if(Qn.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qn.error("Auth (".concat(_n,"): ").concat(e),...n)}}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zn(e,...n)}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zn(e,...n)}function Jn(e,t,n){const r=Object.assign(Object.assign({},Gn()),{[t]:n});return new rt("auth","Firebase",r).create(t,{appName:e.name})}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Wn.create(e,...n)}function er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Zn(t,...r)}}function tr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xn(t),new Error(t)}function nr(e,t){e||tr(t)}function rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function sr(){return"http:"===ir()||"https:"===ir()}function ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ar{constructor(e,t){this.shortDelay=e,this.longDelay=t,nr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(sr()||Ze()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function or(e,t){nr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class lr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ur=new ar(3e4,6e4);function dr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hr(e,t,n,r){return fr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=ot(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),lr.fetch()(mr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},s))})}async function fr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cr),t);try{const t=new gr(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw vr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw vr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw vr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw vr(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Jn(e,o,a);Yn(e,o)}}catch(uO){if(uO instanceof nt)throw uO;Yn(e,"network-request-failed",{message:String(uO)})}}async function pr(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await hr(e,t,n,r,s);return"mfaPendingCredential"in i&&Yn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function mr(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r);return e.config.emulator?or(e.config,s):"".concat(e.config.apiScheme,"://").concat(s)}class gr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($n(this.auth,"network-request-failed")),ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(e,t,r);return s.customData._tokenResponse=n,s}function yr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uO){}}function xr(e){return 1e3*Number(e)}function br(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Xn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ze(n);return e?JSON.parse(e):(Xn("Failed to decode base64 JWT payload"),null)}catch(uO){return Xn("Caught error parsing JWT payload as JSON",null===uO||void 0===uO?void 0:uO.toString()),null}}async function wr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uO){throw uO instanceof nt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uO)&&e.auth.currentUser===e&&await e.auth.signOut(),uO}}class kr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uO){return void((null===uO||void 0===uO?void 0:uO.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Nr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yr(this.lastLoginAt),this.creationTime=yr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sr(e){var t;const n=e.auth,r=await e.getIdToken(),s=await wr(e,async function(e,t){return hr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));er(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=Kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nr(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){er(e.idToken,"internal-error"),er("undefined"!==typeof e.idToken,"internal-error"),er("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=br(e);return er(t,"internal-error"),er("undefined"!==typeof t.exp,"internal-error"),er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return er(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await fr(e,{},async()=>{const n=ot({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=mr(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lr.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new jr;return n&&(er("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(er("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(er("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Er(e,t){er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Tr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Kn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nr(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wr(this,this.stsTokenManager.getToken(this.auth,e));return er(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ft(e),r=await n.getIdToken(t),s=br(r);er(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yr(xr(s.auth_time)),issuedAtTime:yr(xr(s.iat)),expirationTime:yr(xr(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ft(e);await Sr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Sr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await wr(this,async function(e,t){return hr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:k}=t;er(y&&k,e,"internal-error");const N=jr.fromJSON(this.name,k);er("string"===typeof y,e,"internal-error"),Er(u,e.name),Er(d,e.name),er("boolean"===typeof x,e,"internal-error"),er("boolean"===typeof b,e,"internal-error"),Er(h,e.name),Er(f,e.name),Er(p,e.name),Er(m,e.name),Er(g,e.name),Er(v,e.name);const S=new Tr({uid:y,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new jr;r.updateFromServerResponse(t);const s=new Tr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Sr(s),s}}const Cr=new Map;function Ir(e){nr(e instanceof Function,"Expected a class definition");let t=Cr.get(e);return t?(nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cr.set(e,t),t)}class _r{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_r.type="NONE";const Ar=_r;function Dr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Pr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Dr(this.userKey,r.apiKey,s),this.fullPersistenceKey=Dr("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Pr(Ir(Ar),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Ir(Ar);const i=Dr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=Tr._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new Pr(s,e,n)):new Pr(s,e,n)}}function Rr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vr(t))return"Blackberry";if(Br(t))return"Webos";if(Or(t))return"Safari";if((t.includes("chrome/")||Lr(t))&&!t.includes("edge/"))return"Chrome";if(Ur(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/firefox\//i.test(e)}function Or(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/crios\//i.test(e)}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iemobile/i.test(e)}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/android/i.test(e)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/blackberry/i.test(e)}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/webos/i.test(e)}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qr(){return function(){const e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return zr(e)||Ur(e)||Br(e)||Vr(e)||/windows phone/i.test(e)||Fr(e)}function Hr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Rr($e());break;case"Worker":t="".concat(Rr($e()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}async function Gr(e,t){return hr(e,"GET","/v2/recaptchaConfig",dr(e,t))}function Wr(e){return void 0!==e&&void 0!==e.enterprise}class Qr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Xr(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$n("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Yr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $r{constructor(e){this.type="recaptcha-enterprise",this.auth=ts(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Wr(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Gr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Qr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Wr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Xr("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Jr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new $r(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Zr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(uO){r(uO)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uO){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uO||void 0===uO?void 0:uO.message})}}}class es{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ns(this),this.idTokenSubscription=new ns(this),this.beforeStateQueue=new Zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Pr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uO){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(uO){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(uO))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return er(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uO){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sr(e)}catch(uO){if((null===uO||void 0===uO?void 0:uO.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ft(e):null;return t&&er(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&er(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}async initializeRecaptchaConfig(){const e=await Gr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Qr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new $r(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;er(t,this,"argument-error"),this.redirectPersistenceManager=await Pr.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return er(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return er(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Qn.logLevel<=xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qn.warn("Auth (".concat(_n,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ts(e){return ft(e)}class ns{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rs(e,t,n){const r=ts(e);er(r._canInitEmulator,r,"emulator-config-failed"),er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=ss(t),{host:a,port:o}=function(e){const t=ss(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:is(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:is(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(i,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ss(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function is(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class as{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function os(e,t){return hr(e,"POST","/v1/accounts:update",t)}async function ls(e,t){return pr(e,"POST","/v1/accounts:signInWithPassword",dr(e,t))}class cs extends as{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new cs(e,t,"password")}static _fromEmailAndCode(e,t){return new cs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Jr(e,n,"signInWithPassword");return ls(e,t)}return ls(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Jr(e,n,"signInWithPassword");return ls(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",dr(e,t))}(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return os(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",dr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function us(e,t){return pr(e,"POST","/v1/accounts:signInWithIdp",dr(e,t))}class ds extends as{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Kn(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new ds(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return us(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,us(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,us(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}const hs={USER_NOT_FOUND:"user-not-found"};class fs extends as{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",dr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pr(e,"POST","/v1/accounts:signInWithPhoneNumber",dr(e,t));if(n.temporaryProof)throw vr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",dr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),hs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new fs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class ps{constructor(e){var t,n,r,s,i,a;const o=lt(ct(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);er(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,r=lt(ct(e)).deep_link_id;return(r?lt(ct(r)).link:null)||r||n||t||e}(e);try{return new ps(t)}catch(n){return null}}}class ms{constructor(){this.providerId=ms.PROVIDER_ID}static credential(e,t){return cs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ps.parseLink(t);return er(n,"argument-error"),cs._fromEmailAndCode(e,n.code,n.tenantId)}}ms.PROVIDER_ID="password",ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vs extends gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ys extends vs{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ys.credential(t.oauthAccessToken)}catch(n){return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com",ys.PROVIDER_ID="facebook.com";class xs extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xs.credential(n,r)}catch(s){return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com",xs.PROVIDER_ID="google.com";class bs extends vs{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch(n){return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com",bs.PROVIDER_ID="github.com";class ws extends vs{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ws.credential(n,r)}catch(s){return null}}}async function ks(e,t){return pr(e,"POST","/v1/accounts:signUp",dr(e,t))}ws.TWITTER_SIGN_IN_METHOD="twitter.com",ws.PROVIDER_ID="twitter.com";class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Tr._fromIdTokenResponse(e,n,r),i=Ss(n);return new Ns({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ss(n);return new Ns({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ss(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class js extends nt{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,js.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new js(e,t,n,r)}}function Es(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw js._fromErrorAndOperation(e,n,t,r);throw n})}async function Ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await wr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ns._forOperation(e,"link",r)}async function Cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,s="reauthenticate";try{const i=await wr(e,Es(r,s,t,e),n);er(i.idToken,r,"internal-error");const a=br(i.idToken);er(a,r,"internal-error");const{sub:o}=a;return er(e.uid===o,r,"user-mismatch"),Ns._forOperation(e,s,i)}catch(uO){throw(null===uO||void 0===uO?void 0:uO.code)==="auth/".concat("user-not-found")&&Yn(r,"user-mismatch"),uO}}async function Is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",s=await Es(e,r,t),i=await Ns._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function _s(e,t){return Is(ts(e),t)}new WeakMap;const As="__sak";class Ds{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(As,"1"),this.storage.removeItem(As),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ps extends Ds{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$e();return Or(e)||zr(e)}()&&function(){try{return!(!window||window===window.top)}catch(uO){return!1}}(),this.fallbackToPolling=Kr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);qr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ps.type="LOCAL";const Rs=Ps;class Ms extends Ds{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ms.type="SESSION";const Os=Ms;class Ls{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ls(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ls.receivers=[];class Us{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=Fs("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function Vs(){return window}function Bs(){return"undefined"!==typeof Vs().WorkerGlobalScope&&"function"===typeof Vs().importScripts}const zs="firebaseLocalStorageDb",qs="firebaseLocalStorage",Ks="fbase_key";class Hs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gs(e,t){return e.transaction([qs],t?"readwrite":"readonly").objectStore(qs)}function Ws(){const e=indexedDB.open(zs,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(qs,{keyPath:Ks})}catch(uO){n(uO)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(qs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zs);return new Hs(e).toPromise()}(),t(await Ws()))})})}async function Qs(e,t,n){const r=Gs(e,!0).put({[Ks]:t,value:n});return new Hs(r).toPromise()}function Xs(e,t){const n=Gs(e,!0).delete(t);return new Hs(n).toPromise()}class Ys{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ws()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uO){if(t++>3)throw uO;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ls._getInstance(Bs()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Us(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ws();return await Qs(e,As,"1"),await Xs(e,As),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qs(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Gs(e,!1).get(t),r=await new Hs(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xs(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Gs(e,!1).getAll();return new Hs(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ys.type="LOCAL";const $s=Ys;Yr("rcb"),new ar(3e4,6e4);const Js="recaptcha";async function Zs(e,t,n){var r;const s=await n.verify();try{let i;if(er("string"===typeof s,e,"argument-error"),er(n.type===Js,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){er("enroll"===t.type,e,"internal-error");const n=await function(e,t){return hr(e,"POST","/v2/accounts/mfaEnrollment:start",dr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{er("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;er(n,e,"missing-multi-factor-info");const a=await function(e,t){return hr(e,"POST","/v2/accounts/mfaSignIn:start",dr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return hr(e,"POST","/v1/accounts:sendVerificationCode",dr(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class ei{constructor(e){this.providerId=ei.PROVIDER_ID,this.auth=ts(e)}verifyPhoneNumber(e,t){return Zs(this.auth,e,ft(t))}static credential(e,t){return fs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ei.credentialFromTaggedObject(t)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fs._fromTokenResponse(n,r):null}}function ti(e,t){return t?Ir(t):(er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ei.PROVIDER_ID="phone",ei.PHONE_SIGN_IN_METHOD="phone";class ni extends as{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,t){return us(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ri(e){return Is(e.auth,new ni(e),e.bypassAuthState)}function si(e){const{auth:t,user:n}=e;return er(n,t,"internal-error"),Cs(n,new ni(e),e.bypassAuthState)}async function ii(e){const{auth:t,user:n}=e;return er(n,t,"internal-error"),Ts(n,new ni(e),e.bypassAuthState)}class ai{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uO){this.reject(uO)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(uO){this.reject(uO)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ri;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return si;default:Yn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oi=new ar(2e3,1e4);class li extends ai{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return er(e,this.auth,"internal-error"),e}async onExecution(){nr(1===this.filter.length,"Popup operations only handle one event");const e=Fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,oi.get())};e()}}li.currentPopupAction=null;const ci=new Map;class ui extends ai{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ci.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fi(t),r=hi(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(uO){e=()=>Promise.reject(uO)}ci.set(this.auth._key(),e)}return this.bypassAuthState||ci.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function di(e,t){ci.set(e._key(),t)}function hi(e){return Ir(e._redirectPersistence)}function fi(e){return Dr("pendingRedirect",e.config.apiKey,e.name)}async function pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ts(e),s=ti(r,t),i=new ui(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class mi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gi(e))}saveEventToCache(e){this.cachedEventUids.add(gi(e)),this.lastProcessedEventTime=Date.now()}}function gi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function vi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xi=/^https?/;async function bi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return hr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(wi(r))return}catch(n){}Yn(e,"unauthorized-domain")}function wi(e){const t=rr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!xi.test(n))return!1;if(yi.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ki=new ar(3e4,6e4);function Ni(){const e=Vs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Si=null;function ji(e){return Si=Si||function(e){return new Promise((t,n)=>{var r,s,i;function a(){Ni(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ni(),n($n(e,"network-request-failed"))},timeout:ki.get()})}if(null===(s=null===(r=Vs().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Vs().gapi)||void 0===i?void 0:i.load)){const t=Yr("iframefcb");return Vs()[t]=()=>{gapi.load?a():n($n(e,"network-request-failed"))},Xr("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Si=null,e})}(e),Si}const Ei=new ar(5e3,15e3),Ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ci=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ii(e){const t=e.config;er(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?or(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_n},s=Ci.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(ot(r).slice(1))}const _i={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uO){}}}function Di(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},_i),{width:r.toString(),height:s.toString(),top:i,left:a}),c=$e().toLowerCase();n&&(o=Lr(c)?"_blank":n),Mr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return zr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ai(null);const d=window.open(t||"",o,u);er(d,e,"popup-blocked");try{d.focus()}catch(uO){}return new Ai(d)}const Pi="__/auth/handler",Ri="emulator/auth/handler",Mi=encodeURIComponent("fac");async function Oi(e,t,n,r,s,i){er(e.config.authDomain,e,"auth-domain-config-required"),er(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_n,eventId:s};if(t instanceof gs){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof vs){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Mi,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pi);return or(t,Ri)}(e),"?").concat(ot(o).slice(1)).concat(c)}const Li="webStorageSupport";const Fi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=pi,this._overrideRedirectResult=di}async _openPopup(e,t,n,r){var s;nr(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Di(e,await Oi(e,t,n,rr(),r),Fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Vs().location.href=e}(await Oi(e,t,n,rr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(nr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ji(e),n=Vs().gapi;return er(n,e,"internal-error"),t.open({where:document.body,url:Ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ti,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=$n(e,"network-request-failed"),i=Vs().setTimeout(()=>{r(s)},Ei.get());function a(){Vs().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}(e),n=new mi(e);return t.register("authEvent",t=>{er(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Li,{type:Li},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Li];void 0!==s&&t(!!s),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kr()||Or()||zr()}};var Ui="@firebase/auth",Vi="0.23.2";class Bi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zi=Qe("authIdTokenMaxAge")||300;let qi=null;var Ki;Ki="Browser",En(new pt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;er(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ki,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(Ki)},c=new es(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),En(new pt("auth-internal",e=>(e=>new Bi(e))(ts(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Ui,Vi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ki)),Pn(Ui,Vi,"esm2017");Pn("firebase","9.23.0","app");let Hi,Gi;const Wi=new WeakMap,Qi=new WeakMap,Xi=new WeakMap,Yi=new WeakMap,$i=new WeakMap;let Ji={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gi||(Gi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(na(this),n),ta(Wi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ta(e.apply(na(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(na(this),t,...r);return Xi.set(i,t.sort?t.sort():[t]),ta(i)}}function ea(e){return"function"===typeof e?Zi(e):(e instanceof IDBTransaction&&function(e){if(Qi.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Qi.set(e,t)}(e),t=e,(Hi||(Hi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ji):e);var t}function ta(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(ta(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Wi.set(t,e)}).catch(()=>{}),$i.set(t,e),t}(e);if(Yi.has(e))return Yi.get(e);const t=ea(e);return t!==e&&(Yi.set(e,t),$i.set(t,e)),t}const na=e=>$i.get(e);const ra=["get","getKey","getAll","getAllKeys","count"],sa=["put","add","delete","clear"],ia=new Map;function aa(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ia.get(t))return ia.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=sa.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!ra.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return ia.set(t,i),i}!function(e){Ji=e(Ji)}(e=>It(It({},e),{},{get:(t,n,r)=>aa(t,n)||e.get(t,n,r),has:(t,n)=>!!aa(t,n)||e.has(t,n)}));const oa="@firebase/installations",la="0.6.4",ca=1e4,ua="w:".concat(la),da="FIS_v2",ha=36e5,fa=new rt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pa(e){return e instanceof nt&&e.code.includes("request-failed")}function ma(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ga(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function va(e,t){const n=(await t.json()).error;return fa.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ya(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xa(e,t){let{refreshToken:n}=t;const r=ya(e);return r.append("Authorization",function(e){return"".concat(da," ").concat(e)}(n)),r}async function ba(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wa(e){return new Promise(t=>{setTimeout(t,e)})}const ka=/^[cdef][\w-]{21}$/;function Na(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ka.test(t)?t:""}catch(e){return""}}function Sa(e){return"".concat(e.appName,"!").concat(e.appId)}const ja=new Map;function Ea(e,t){const n=Sa(e);Ta(n,t),function(e,t){const n=Ia();n&&n.postMessage({key:e,fid:t});_a()}(n,t)}function Ta(e,t){const n=ja.get(e);if(n)for(const r of n)r(t)}let Ca=null;function Ia(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=e=>{Ta(e.data.key,e.data.fid)}),Ca}function _a(){0===ja.size&&Ca&&(Ca.close(),Ca=null)}const Aa="firebase-installations-store";let Da=null;function Pa(){return Da||(Da=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ta(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ta(a.result),e.oldVersion,e.newVersion,ta(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",()=>s())}).catch(()=>{}),o}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Aa)}})),Da}async function Ra(e,t){const n=Sa(e),r=(await Pa()).transaction(Aa,"readwrite"),s=r.objectStore(Aa),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||Ea(e,t.fid),t}async function Ma(e){const t=Sa(e),n=(await Pa()).transaction(Aa,"readwrite");await n.objectStore(Aa).delete(t),await n.done}async function Oa(e,t){const n=Sa(e),r=(await Pa()).transaction(Aa,"readwrite"),s=r.objectStore(Aa),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||Ea(e,a.fid),a}async function La(e){let t;const n=await Oa(e.appConfig,n=>{const r=function(e){const t=e||{fid:Na(),registrationStatus:0};return Va(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(fa.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=ma(n),a=ya(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:s,authVersion:da,appId:n.appId,sdkVersion:ua},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await ba(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:ga(e.authToken)}}throw await va("Create Installation",u)}(e,t);return Ra(e.appConfig,n)}catch(uO){throw pa(uO)&&409===uO.customData.serverCode?await Ma(e.appConfig):await Ra(e.appConfig,{fid:t.fid,registrationStatus:0}),uO}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Fa(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Fa(e){let t=await Ua(e.appConfig);for(;1===t.registrationStatus;)await wa(100),t=await Ua(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await La(e);return n||t}return t}function Ua(e){return Oa(e,e=>{if(!e)throw fa.create("installation-not-found");return Va(e)})}function Va(e){return 1===(t=e).registrationStatus&&t.registrationTime+ca<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ba(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return"".concat(ma(e),"/").concat(n,"/authTokens:generate")}(n,t),i=xa(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:ua,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await ba(()=>fetch(s,l));if(c.ok){return ga(await c.json())}throw await va("Generate Auth Token",c)}async function za(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Oa(e.appConfig,r=>{if(!Ka(r))throw fa.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ha}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await qa(e.appConfig);for(;1===n.authToken.requestStatus;)await wa(100),n=await qa(e.appConfig);const r=n.authToken;return 0===r.requestStatus?za(e,t):r}(e,n),r;{if(!navigator.onLine)throw fa.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Ba(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ra(e.appConfig,r),n}catch(uO){if(!pa(uO)||401!==uO.customData.serverCode&&404!==uO.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ra(e.appConfig,n)}else await Ma(e.appConfig);throw uO}}(e,n),n}});return t?await t:r.authToken}function qa(e){return Oa(e,e=>{if(!Ka(e))throw fa.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ca<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Ka(e){return void 0!==e&&2===e.registrationStatus}async function Ha(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await La(e);t&&await t}(n);return(await za(n,t)).token}function Ga(e){return fa.create("missing-app-config-values",{valueName:e})}const Wa="installations",Qa=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ga("App Configuration");if(!e.name)throw Ga("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ga(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Tn(t,"heartbeat"),_delete:()=>Promise.resolve()}},Xa=e=>{const t=Tn(e.getProvider("app").getImmediate(),Wa).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await La(t);return r?r.catch(console.error):za(t).catch(console.error),n.fid}(t),getToken:e=>Ha(t,e)}};En(new pt(Wa,Qa,"PUBLIC")),En(new pt("installations-internal",Xa,"PRIVATE")),Pn(oa,la),Pn(oa,la,"esm2017");const Ya="analytics",$a="https://www.googletagmanager.com/gtag/js",Ja=new St("@firebase/analytics"),Za=new rt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function eo(e){if(!e.startsWith($a)){const t=Za.create("invalid-gtag-resource",{gtagURL:e});return Ja.warn(t.message),""}return e}function to(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function no(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:eo}),r=document.createElement("script"),s="".concat($a,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function ro(e,t,n,r){return async function(s){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===s){const[r,s]=a;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await to(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(uO){Ja.error(uO)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=a;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await to(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(uO){Ja.error(uO)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t]=a;e("consent","update",t)}else if("get"===s){const[t,n,r]=a;e("get",t,n,r)}else if("set"===s){const[t]=a;e("set",t)}else e(s,...a)}catch(uO){Ja.error(uO)}}}const so=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function io(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ao(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:so,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Za.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Za.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new lo;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),oo({appId:r,apiKey:s,measurementId:i},a,o,t)}async function oo(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:so;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Za.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(uO){if(l)return Ja.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===uO||void 0===uO?void 0:uO.message,"]")),{appId:o,measurementId:l};throw uO}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:io(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,s);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw Za.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(o),t}catch(uO){const r=uO;if(!function(e){if(!(e instanceof nt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(o),l)return Ja.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw uO}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?ht(s,i.intervalMillis,30):ht(s,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return i.setThrottleMetadata(o,u),Ja.debug("Calling attemptFetch again in ".concat(c," millis")),oo(e,u,n,i)}}class lo{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let co,uo;function ho(e){uo=e}function fo(e){co=e}async function po(e,t,n,r,s,i,a){var o;const l=ao(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ja.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Ja.error(e)),t.push(l);const c=async function(){if(!et())return Ja.warn(Za.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await tt()}catch(uO){return Ja.warn(Za.create("indexeddb-unavailable",{errorInfo:null===uO||void 0===uO?void 0:uO.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes($a)&&n.src.includes(e))return n;return null})(i)||no(i,u.measurementId),uo&&(s("consent","default",uo),ho(void 0)),s("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),co&&(s("set",co),fo(void 0)),u.measurementId}class mo{constructor(e){this.app=e}_delete(){return delete go[this.app.options.appId],Promise.resolve()}}let go={},vo=[];const yo={};let xo,bo,wo="dataLayer",ko="gtag",No=!1;function So(){const e=[];if(Ze()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Za.create("invalid-analytics-context",{errorInfo:t});Ja.warn(n.message)}}function jo(e,t,n){So();const r=e.options.appId;if(!r)throw Za.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Za.create("no-api-key");Ja.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=go[r])throw Za.create("already-exists",{id:r});if(!No){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(wo);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=ro(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(go,vo,yo,wo,ko);bo=e,xo=t,No=!0}go[r]=po(e,vo,yo,t,xo,wo,n);return new mo(e)}function Eo(e,t,n,r){e=ft(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(bo,go[e.app.options.appId],t,n,r).catch(e=>Ja.error(e))}const To="@firebase/analytics",Co="0.10.0";En(new pt(Ya,(e,t)=>{let{options:n}=t;return jo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),En(new pt("analytics-internal",function(e){try{const t=e.getProvider(Ya).getImmediate();return{logEvent:(e,n,r)=>Eo(t,e,n,r)}}catch(uO){throw Za.create("interop-component-reg-failed",{reason:uO})}},"PRIVATE")),Pn(To,Co),Pn(To,Co,"esm2017");var Io,_o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ao={},Do=Do||{},Po=_o||self;function Ro(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Oo="closure_uid_"+(1e9*Math.random()>>>0),Lo=0;function Fo(e,t,n){return e.call.apply(e.bind,arguments)}function Uo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vo(e,t,n){return(Vo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fo:Uo).apply(null,arguments)}function Bo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function qo(){this.s=this.s,this.o=this.o}qo.prototype.s=!1,qo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Oo)&&e[Oo]||(e[Oo]=++Lo))},qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ko=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ho(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Go(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ro(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function Wo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wo.prototype.h=function(){this.defaultPrevented=!0};var Qo=function(){if(!Po.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Po.addEventListener("test",()=>{},t),Po.removeEventListener("test",()=>{},t)}catch(n){}return e}();function Xo(e){return/^[\s\xa0]*$/.test(e)}function Yo(){var e=Po.navigator;return e&&(e=e.userAgent)?e:""}function $o(e){return-1!=Yo().indexOf(e)}function Jo(e){return Jo[" "](e),e}Jo[" "]=function(){};var Zo,el,tl=$o("Opera"),nl=$o("Trident")||$o("MSIE"),rl=$o("Edge"),sl=rl||nl,il=$o("Gecko")&&!(-1!=Yo().toLowerCase().indexOf("webkit")&&!$o("Edge"))&&!($o("Trident")||$o("MSIE"))&&!$o("Edge"),al=-1!=Yo().toLowerCase().indexOf("webkit")&&!$o("Edge");function ol(){var e=Po.document;return e?e.documentMode:void 0}e:{var ll="",cl=function(){var e=Yo();return il?/rv:([^\);]+)(\)|;)/.exec(e):rl?/Edge\/([\d\.]+)/.exec(e):nl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):al?/WebKit\/(\S+)/.exec(e):tl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cl&&(ll=cl?cl[1]:""),nl){var ul=ol();if(null!=ul&&ul>parseFloat(ll)){Zo=String(ul);break e}}Zo=ll}if(Po.document&&nl){var dl=ol();el=dl||(parseInt(Zo,10)||void 0)}else el=void 0;var hl=el;function fl(e,t){if(Wo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(il){e:{try{Jo(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:pl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fl.$.h.call(this)}}zo(fl,Wo);var pl={2:"touch",3:"pen",4:"mouse"};fl.prototype.h=function(){fl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ml="closure_listenable_"+(1e6*Math.random()|0),gl=0;function vl(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++gl,this.fa=this.ia=!1}function yl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function bl(e){const t={};for(const n in e)t[n]=e[n];return t}const wl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kl(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<wl.length;t++)n=wl[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nl(e){this.src=e,this.g={},this.h=0}function Sl(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Ko(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(yl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function jl(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}Nl.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=jl(e,t,r,s);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new vl(t,this.src,i,!!r,s)).ia=n,e.push(t)),t};var El="closure_lm_"+(1e6*Math.random()|0),Tl={};function Cl(e,t,n,r,s){if(r&&r.once)return _l(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Cl(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[ml]?e.O(t,n,Mo(r)?!!r.capture:!!r,s):Il(e,t,n,!1,r,s)}function Il(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=Mo(s)?!!s.capture:!!s,o=Ml(e);if(o||(e[El]=o=new Nl(e)),(n=o.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Rl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qo||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Pl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _l(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)_l(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[ml]?e.P(t,n,Mo(r)?!!r.capture:!!r,s):Il(e,t,n,!0,r,s)}function Al(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Al(e,t[i],n,r,s);else r=Mo(r)?!!r.capture:!!r,n=Ll(n),e&&e[ml]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=jl(i=e.g[t],n,r,s))&&(yl(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Ml(e))&&(t=e.g[t.toString()],e=-1,t&&(e=jl(t,n,r,s)),(n=-1<e?t[e]:null)&&Dl(n))}function Dl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ml])Sl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ml(t))?(Sl(n,e),0==n.h&&(n.src=null,t[El]=null)):yl(e)}}}function Pl(e){return e in Tl?Tl[e]:Tl[e]="on"+e}function Rl(e,t){if(e.fa)e=!0;else{t=new fl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Dl(e),e=n.call(r,t)}return e}function Ml(e){return(e=e[El])instanceof Nl?e:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(e){return"function"===typeof e?e:(e[Ol]||(e[Ol]=function(t){return e.handleEvent(t)}),e[Ol])}function Fl(){qo.call(this),this.i=new Nl(this),this.S=this,this.J=null}function Ul(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Wo(t,e);else if(t instanceof Wo)t.target=t.target||e;else{var s=t;kl(t=new Wo(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=Vl(a,r,!0,t)&&s}if(s=Vl(a=t.g=e,r,!0,t)&&s,s=Vl(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=Vl(a=t.g=n[i],r,!1,t)&&s}function Vl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Sl(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}zo(Fl,qo),Fl.prototype[ml]=!0,Fl.prototype.removeEventListener=function(e,t,n,r){Al(this,e,t,n,r)},Fl.prototype.N=function(){if(Fl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yl(n[r]);delete t.g[e],t.h--}}this.J=null},Fl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bl=Po.JSON.stringify;function zl(){var e=Xl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ql=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kl,e=>e.reset());class Kl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Gl(e){Po.setTimeout(()=>{throw e},0)}let Wl,Ql=!1,Xl=new class{constructor(){this.h=this.g=null}add(e,t){const n=ql.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Yl=()=>{const e=Po.Promise.resolve(void 0);Wl=()=>{e.then($l)}};var $l=()=>{for(var e;e=zl();){try{e.h.call(e.g)}catch(n){Gl(n)}var t=ql;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ql=!1};function Jl(e,t){Fl.call(this),this.h=e||1,this.g=t||Po,this.j=Vo(this.qb,this),this.l=Date.now()}function Zl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ec(e,t,n){if("function"===typeof e)n&&(e=Vo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Po.setTimeout(e,t||0)}function tc(e){e.g=ec(()=>{e.g=null,e.i&&(e.i=!1,tc(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}zo(Jl,Fl),(Io=Jl.prototype).ga=!1,Io.T=null,Io.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ul(this,"tick"),this.ga&&(Zl(this),this.start()))}},Io.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Io.N=function(){Jl.$.N.call(this),Zl(this),delete this.g};class nc extends qo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(Po.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(e){qo.call(this),this.h=e,this.g={}}zo(rc,qo);var sc=[];function ic(e,t,n,r){Array.isArray(n)||(n&&(sc[0]=n.toString()),n=sc);for(var s=0;s<n.length;s++){var i=Cl(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ac(e){xl(e.g,function(e,t){this.g.hasOwnProperty(t)&&Dl(e)},e),e.g={}}function oc(){this.g=!0}function lc(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return Bl(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}rc.prototype.N=function(){rc.$.N.call(this),ac(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oc.prototype.Ea=function(){this.g=!1},oc.prototype.info=function(){};var cc={},uc=null;function dc(){return uc=uc||new Fl}function hc(e){Wo.call(this,cc.Ta,e)}function fc(e){const t=dc();Ul(t,new hc(t))}function pc(e,t){Wo.call(this,cc.STAT_EVENT,e),this.stat=t}function mc(e){const t=dc();Ul(t,new pc(t,e))}function gc(e,t){Wo.call(this,cc.Ua,e),this.size=t}function vc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Po.setTimeout(function(){e()},t)}cc.Ta="serverreachability",zo(hc,Wo),cc.STAT_EVENT="statevent",zo(pc,Wo),cc.Ua="timingevent",zo(gc,Wo);var yc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bc(){}function wc(e){return e.h||(e.h=e.i())}function kc(){}bc.prototype.h=null;var Nc,Sc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jc(){Wo.call(this,"d")}function Ec(){Wo.call(this,"c")}function Tc(){}function Cc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new rc(this),this.P=_c,e=sl?125:void 0,this.V=new Jl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}zo(jc,Wo),zo(Ec,Wo),zo(Tc,bc),Tc.prototype.g=function(){return new XMLHttpRequest},Tc.prototype.i=function(){return{}},Nc=new Tc;var _c=45e3,Ac={},Dc={};function Pc(e,t,n){e.L=1,e.v=Jc(Wc(t)),e.s=n,e.S=!0,Rc(e,null)}function Rc(e,t){e.G=Date.now(),Fc(e),e.A=Wc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),du(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ic,e.g=hd(e.l,n?t:null,!e.s),0<e.O&&(e.M=new nc(Vo(e.Pa,e,e.g),e.O)),ic(e.U,e.g,"readystatechange",e.nb),t=e.I?bl(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),fc(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function Mc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Oc(e,t,n){let r,s=!0;for(;!e.J&&e.C<n.length;){if(r=Lc(e,n),r==Dc){4==t&&(e.o=4,mc(14),s=!1),lc(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ac){e.o=4,mc(15),lc(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}lc(e.j,e.m,r,null),qc(e,r)}Mc(e)&&r!=Dc&&r!=Ac&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mc(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sd(t),t.M=!0,mc(11))):(lc(e.j,e.m,n,"[Invalid Chunked Response]"),zc(e),Bc(e))}function Lc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dc:(n=Number(t.substring(n,r)),isNaN(n)?Ac:(r+=1)+n>t.length?Dc:(t=t.slice(r,r+n),e.C=r+n,t))}function Fc(e){e.Y=Date.now()+e.P,Uc(e,e.P)}function Uc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vc(Vo(e.lb,e),t)}function Vc(e){e.B&&(Po.clearTimeout(e.B),e.B=null)}function Bc(e){0==e.l.H||e.J||od(e.l,e)}function zc(e){Vc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Zl(e.V),ac(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||yu(n.i,e)))if(!e.K&&yu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ad(n),Yu(n)}rd(n),mc(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=vc(Vo(n.ib,n),6e3));if(1>=vu(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else cd(n,11)}else if((e.K||n.g==e)&&ad(n),!Xo(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(xu(i,i.h),i.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,$c(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=dd(r,r.J?r.pa:null,r.Y),a.K){bu(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Vc(o),Fc(o)),r.g=a}else nd(r);0<n.j.length&&Ju(n)}else"stop"!=c[0]&&"close"!=c[0]||cd(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cd(n,7):Xu(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}fc()}catch(c){}}function Kc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ro(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ro(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ro(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}(Io=Cc.prototype).setTimeout=function(e){this.P=e},Io.nb=function(e){e=e.target;const t=this.M;t&&3==qu(e)?t.l():this.Pa(e)},Io.Pa=function(e){try{if(e==this.g)e:{const u=qu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||sl||this.g&&(this.h.h||this.g.ja()||Ku(this.g)))){this.J||4!=u||7==t||fc(),Vc(this);var n=this.g.da();this.ca=n;t:if(Mc(this)){var r=Ku(this.g);e="";var s=r.length,i=4==qu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zc(this),Bc(this);var a="";break t}this.h.i=new Po.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xo(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mc(12),zc(this),Bc(this);break e}lc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,n)}this.S?(Oc(this,u,a),sl&&this.i&&3==u&&(ic(this.U,this.V,"tick",this.mb),this.V.start())):(lc(this.j,this.m,a,null),qc(this,a)),4==u&&zc(this),this.i&&!this.J&&(4==u?od(this.l,this):(this.i=!1,Fc(this)))}else(function(e){const t={};e=(e.g&&2<=qu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Xo(e[r]))continue;var n=Hl(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,mc(12)):(this.o=0,mc(13)),zc(this),Bc(this)}}}catch(u){}},Io.mb=function(){if(this.g){var e=qu(this.g),t=this.g.ja();this.C<t.length&&(Vc(this),Oc(this,e,t),this.i&&4!=e&&Fc(this))}},Io.cancel=function(){this.J=!0,zc(this)},Io.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(fc(),mc(17)),zc(this),this.o=2,Bc(this)):Uc(this,this.Y-e)};var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Gc){this.h=e.h,Qc(this,e.j),this.s=e.s,this.g=e.g,Xc(this,e.m),this.l=e.l;var t=e.i,n=new ou;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yc(this,n),this.o=e.o}else e&&(t=String(e).match(Hc))?(this.h=!1,Qc(this,t[1]||"",!0),this.s=Zc(t[2]||""),this.g=Zc(t[3]||"",!0),Xc(this,t[4]),this.l=Zc(t[5]||"",!0),Yc(this,t[6]||"",!0),this.o=Zc(t[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}function Wc(e){return new Gc(e)}function Qc(e,t,n){e.j=n?Zc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yc(e,t,n){t instanceof ou?(e.i=t,function(e,t){t&&!e.j&&(lu(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(cu(this,t),du(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=eu(t,iu)),e.i=new ou(t,e.h))}function $c(e,t,n){e.i.set(t,n)}function Jc(e){return $c(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,tu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eu(t,nu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(eu(t,nu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(eu(n,"/"==n.charAt(0)?su:ru,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",eu(n,au)),e.join("")};var nu=/[#\/\?@]/g,ru=/[#\?:]/g,su=/[#\?]/g,iu=/[#\?@]/g,au=/#/g;function ou(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function cu(e,t){lu(e),t=hu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function uu(e,t){return lu(e),t=hu(e,t),e.g.has(t)}function du(e,t,n){cu(e,t),0<n.length&&(e.i=null,e.g.set(hu(e,t),Ho(n)),e.h+=n.length)}function hu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Io=ou.prototype).add=function(e,t){lu(this),this.i=null,e=hu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Io.forEach=function(e,t){lu(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Io.ta=function(){lu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},Io.Z=function(e){lu(this);let t=[];if("string"===typeof e)uu(this,e)&&(t=t.concat(this.g.get(hu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Io.set=function(e,t){return lu(this),this.i=null,uu(this,e=hu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Io.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Io.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")};var fu=class{constructor(e,t){this.g=e,this.map=t}};function pu(e){this.l=e||mu,Po.PerformanceNavigationTiming?e=0<(e=Po.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Po.g&&Po.g.Ka&&Po.g.Ka()&&Po.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mu=10;function gu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vu(e){return e.h?1:e.g?e.g.size:0}function yu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xu(e,t){e.g?e.g.add(t):e.h=t}function bu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ho(e.i)}pu.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ku,Nu=class{stringify(e){return Po.JSON.stringify(e,void 0)}parse(e){return Po.JSON.parse(e,void 0)}};function Su(){this.g=new Nu}function ju(e,t,n){const r=n||"";try{Kc(e,function(e,n){let s=e;Mo(e)&&(s=Bl(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(uO){throw t.push(r+"type="+encodeURIComponent("_badmap")),uO}}function Eu(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function Tu(e){this.l=e.fc||null,this.j=e.ob||!1}function Cu(e,t){Fl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Iu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zo(Tu,bc),Tu.prototype.g=function(){return new Cu(this.l,this.j)},Tu.prototype.i=(ku={},function(){return ku}),zo(Cu,Fl);var Iu=0;function _u(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Au(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Du(e)}function Du(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Io=Cu.prototype).open=function(e,t){if(this.readyState!=Iu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Du(this)},Io.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Po).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Io.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Au(this)),this.readyState=Iu},Io.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Du(this)),this.g&&(this.readyState=3,Du(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Po.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_u(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Io.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Au(this):Du(this),3==this.readyState&&_u(this)}},Io.Za=function(e){this.g&&(this.response=this.responseText=e,Au(this))},Io.Ya=function(e){this.g&&(this.response=e,Au(this))},Io.ka=function(){this.g&&Au(this)},Io.setRequestHeader=function(e,t){this.v.append(e,t)},Io.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Io.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pu=Po.JSON.parse;function Ru(e){Fl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mu,this.L=this.M=!1}zo(Ru,Fl);var Mu="",Ou=/^https?$/i,Lu=["POST","PUT"];function Fu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Uu(e),Bu(e)}function Uu(e){e.F||(e.F=!0,Ul(e,"complete"),Ul(e,"error"))}function Vu(e){if(e.h&&"undefined"!=typeof Do&&(!e.C[1]||4!=qu(e)||2!=e.da()))if(e.v&&4==qu(e))ec(e.La,0,e);else if(Ul(e,"readystatechange"),4==qu(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var s=String(e.I).match(Hc)[1]||null;!s&&Po.self&&Po.self.location&&(s=Po.self.location.protocol.slice(0,-1)),r=!Ou.test(s?s.toLowerCase():"")}n=r}if(n)Ul(e,"complete"),Ul(e,"success");else{e.m=6;try{var i=2<qu(e)?e.g.statusText:""}catch(a){i=""}e.j=i+" ["+e.da()+"]",Uu(e)}}finally{Bu(e)}}}function Bu(e,t){if(e.g){zu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ul(e,"ready");try{n.onreadystatechange=r}catch(uO){}}}function zu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Po.clearTimeout(e.A),e.A=null)}function qu(e){return e.g?e.g.readyState:0}function Ku(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xd){return null}}function Hu(e){let t="";return xl(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Gu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$c(e,t,n))}function Wu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qu(e){this.Ga=0,this.j=[],this.l=new oc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wu("baseRetryDelayMs",5e3,e),this.hb=Wu("retryDelaySeedMs",1e4,e),this.eb=Wu("forwardChannelMaxRetries",2,e),this.xa=Wu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new pu(e&&e.concurrentRequestLimit),this.Ja=new Su,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xu(e){if($u(e),3==e.H){var t=e.W++,n=Wc(e.I);if($c(n,"SID",e.K),$c(n,"RID",t),$c(n,"TYPE","terminate"),ed(e,n),(t=new Cc(e,e.l,t)).L=2,t.v=Jc(Wc(n)),n=!1,Po.navigator&&Po.navigator.sendBeacon)try{n=Po.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Po.Image&&((new Image).src=t.v,n=!0),n||(t.g=hd(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Fc(t)}ud(e)}function Yu(e){e.g&&(sd(e),e.g.cancel(),e.g=null)}function $u(e){Yu(e),e.u&&(Po.clearTimeout(e.u),e.u=null),ad(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Po.clearTimeout(e.m),e.m=null)}function Ju(e){if(!gu(e.i)&&!e.m){e.m=!0;var t=e.Na;Wl||Yl(),Ql||(Wl(),Ql=!0),Xl.add(t,e),e.C=0}}function Zu(e,t){var n;n=t?t.m:e.W++;const r=Wc(e.I);$c(r,"SID",e.K),$c(r,"RID",n),$c(r,"AID",e.V),ed(e,r),e.o&&e.s&&Gu(r,e.o,e.s),n=new Cc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=td(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),xu(e.i,n),Pc(n,r,t)}function ed(e,t){e.na&&xl(e.na,function(e,n){$c(t,n,e)}),e.h&&Kc({},function(e,n){$c(t,n,e)})}function td(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Vo(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{ju(o,e,"req"+n+"_")}catch(ah){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function nd(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Wl||Yl(),Ql||(Wl(),Ql=!0),Xl.add(t,e),e.A=0}}function rd(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=vc(Vo(e.Ma,e),ld(e,e.A)),e.A++,!0)}function sd(e){null!=e.B&&(Po.clearTimeout(e.B),e.B=null)}function id(e){e.g=new Cc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wc(e.wa);$c(t,"RID","rpc"),$c(t,"SID",e.K),$c(t,"AID",e.V),$c(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&$c(t,"TO",e.qa),$c(t,"TYPE","xmlhttp"),ed(e,t),e.o&&e.s&&Gu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Jc(Wc(t)),n.s=null,n.S=!0,Rc(n,e)}function ad(e){null!=e.v&&(Po.clearTimeout(e.v),e.v=null)}function od(e,t){var n=null;if(e.g==t){ad(e),sd(e),e.g=null;var r=2}else{if(!yu(e.i,t))return;n=t.F,bu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;Ul(r=dc(),new gc(r,n)),Ju(e)}else nd(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function(e,t){return!(vu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=vc(Vo(e.Na,e,t),ld(e,e.C)),e.C++,!0))}(e,t)||2==r&&rd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:cd(e,5);break;case 4:cd(e,10);break;case 3:cd(e,6);break;default:cd(e,2)}}function ld(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function cd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Vo(e.pb,e);n||(n=new Gc("//www.google.com/images/cleardot.gif"),Po.location&&"http"==Po.location.protocol||Qc(n,"https"),Jc(n)),function(e,t){const n=new oc;if(Po.Image){const r=new Image;r.onload=Bo(Eu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bo(Eu,n,r,"TestLoadImage: error",!1,t),r.onabort=Bo(Eu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bo(Eu,n,r,"TestLoadImage: timeout",!1,t),Po.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else mc(2);e.H=0,e.h&&e.h.za(t),ud(e),$u(e)}function ud(e){if(e.H=0,e.ma=[],e.h){const t=wu(e.i);0==t.length&&0==e.j.length||(Go(e.ma,t),Go(e.ma,e.j),e.i.i.length=0,Ho(e.j),e.j.length=0),e.h.ya()}}function dd(e,t,n){var r=n instanceof Gc?Wc(n):new Gc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Xc(r,r.m);else{var s=Po.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Gc(null);r&&Qc(i,r),t&&(i.g=t),s&&Xc(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&$c(r,n,t),$c(r,"VER",e.ra),ed(e,r),r}function hd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ru(new Tu({ob:!0})):new Ru(e.va)).Oa(e.J),t}function fd(){}function pd(){if(nl&&!(10<=Number(hl)))throw Error("Environmental error: no available transport.")}function md(e,t){Fl.call(this),this.g=new Qu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Xo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yd(this)}function gd(e){jc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vd(){Ec.call(this),this.status=1}function yd(e){this.g=e}function xd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bd(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function wd(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}(Io=Ru.prototype).Oa=function(e){this.M=e},Io.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nc.g(),this.C=this.u?wc(this.u):wc(Nc),this.g.onreadystatechange=Vo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){return void Fu(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=Po.FormData&&e instanceof Po.FormData,!(0<=Ko(Lu,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zu(this),0<this.B&&((this.L=function(e){return nl&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vo(this.ua,this)):this.A=ec(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Fu(this,i)}},Io.ua=function(){"undefined"!=typeof Do&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ul(this,"timeout"),this.abort(8))},Io.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ul(this,"complete"),Ul(this,"abort"),Bu(this))},Io.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bu(this,!0)),Ru.$.N.call(this)},Io.La=function(){this.s||(this.G||this.v||this.l?Vu(this):this.kb())},Io.kb=function(){Vu(this)},Io.isActive=function(){return!!this.g},Io.da=function(){try{return 2<qu(this)?this.g.status:-1}catch(ku){return-1}},Io.ja=function(){try{return this.g?this.g.responseText:""}catch(ku){return""}},Io.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pu(t)}},Io.Ia=function(){return this.m},Io.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Io=Qu.prototype).ra=8,Io.H=1,Io.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Cc(this,this.l,e);let i=this.s;if(this.U&&(i?(i=bl(i),kl(i,this.U)):i=this.U),null!==this.o||this.O||(s.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=td(this,s,t),$c(n=Wc(this.I),"RID",e),$c(n,"CVER",22),this.F&&$c(n,"X-HTTP-Session-Id",this.F),ed(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Hu(i)))+"&"+t:this.o&&Gu(n,this.o,i)),xu(this.i,s),this.bb&&$c(n,"TYPE","init"),this.P?($c(n,"$req",t),$c(n,"SID","null"),s.aa=!0,Pc(s,n,null)):Pc(s,n,t),this.H=2}}else 3==this.H&&(e?Zu(this,e):0==this.j.length||gu(this.i)||Zu(this))},Io.Ma=function(){if(this.u=null,id(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=vc(Vo(this.jb,this),e)}},Io.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mc(10),Yu(this),id(this))},Io.ib=function(){null!=this.v&&(this.v=null,Yu(this),rd(this),mc(19))},Io.pb=function(e){e?(this.l.info("Successfully pinged google.com"),mc(2)):(this.l.info("Failed to ping google.com"),mc(1))},Io.isActive=function(){return!!this.h&&this.h.isActive(this)},(Io=fd.prototype).Ba=function(){},Io.Aa=function(){},Io.za=function(){},Io.ya=function(){},Io.isActive=function(){return!0},Io.Va=function(){},pd.prototype.g=function(e,t){return new md(e,t)},zo(md,Fl),md.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;mc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=dd(e,null,e.Y),Ju(e)},md.prototype.close=function(){Xu(this.g)},md.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Bl(e),e=n);t.j.push(new fu(t.fb++,e)),3==t.H&&Ju(t)},md.prototype.N=function(){this.g.h=null,delete this.j,Xu(this.g),delete this.g,md.$.N.call(this)},zo(gd,jc),zo(vd,Ec),zo(yd,fd),yd.prototype.Ba=function(){Ul(this.g,"a")},yd.prototype.Aa=function(e){Ul(this.g,new gd(e))},yd.prototype.za=function(e){Ul(this.g,new vd)},yd.prototype.ya=function(){Ul(this.g,"b")},zo(xd,function(){this.blockSize=-1}),xd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(0==s)for(;i<=n;)bd(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){bd(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){bd(this,r),s=0;break}}this.h=s,this.i+=t},xd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var kd={};function Nd(e){return-128<=e&&128>e?function(e,t){var n=kd;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new wd([0|e],0>e?-1:0)}):new wd([0|e],0>e?-1:0)}function Sd(e){if(isNaN(e)||!isFinite(e))return Ed;if(0>e)return Ad(Sd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=jd;return new wd(t,0)}var jd=4294967296,Ed=Nd(0),Td=Nd(1),Cd=Nd(16777216);function Id(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _d(e){return-1==e.h}function Ad(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new wd(n,~e.h).add(Td)}function Dd(e,t){return e.add(Ad(t))}function Pd(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Rd(e,t){this.g=e,this.h=t}function Md(e,t){if(Id(t))throw Error("division by zero");if(Id(e))return new Rd(Ed,Ed);if(_d(e))return t=Md(Ad(e),t),new Rd(Ad(t.g),Ad(t.h));if(_d(t))return t=Md(e,Ad(t)),new Rd(Ad(t.g),t.h);if(30<e.g.length){if(_d(e)||_d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Td,r=t;0>=r.X(e);)n=Od(n),r=Od(r);var s=Ld(n,1),i=Ld(r,1);for(r=Ld(r,2),n=Ld(n,2);!Id(r);){var a=i.add(r);0>=a.X(e)&&(s=s.add(n),i=a),r=Ld(r,1),n=Ld(n,1)}return t=Dd(e,s.R(t)),new Rd(s,t)}for(s=Ed;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(i=Sd(n)).R(t);_d(a)||0<a.X(e);)a=(i=Sd(n-=r)).R(t);Id(i)&&(i=Td),s=s.add(i),e=Dd(e,a)}return new Rd(s,e)}function Od(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new wd(n,e.h)}function Ld(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new wd(s,e.h)}(Io=wd.prototype).ea=function(){if(_d(this))return-Ad(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:jd+r)*t,t*=jd}return e},Io.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Id(this))return"0";if(_d(this))return"-"+Ad(this).toString(e);for(var t=Sd(Math.pow(e,6)),n=this,r="";;){var s=Md(n,t).g,i=((0<(n=Dd(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Id(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},Io.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Io.X=function(e){return _d(e=Dd(this,e))?-1:Id(e)?0:1},Io.abs=function(){return _d(this)?Ad(this):this},Io.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(65535&this.D(s))+(65535&e.D(s)),a=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new wd(n,-2147483648&n[n.length-1]?-1:0)},Io.R=function(e){if(Id(this)||Id(e))return Ed;if(_d(this))return _d(e)?Ad(this).R(Ad(e)):Ad(Ad(this).R(e));if(_d(e))return Ad(this.R(Ad(e)));if(0>this.X(Cd)&&0>e.X(Cd))return Sd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,a=65535&this.D(r),o=e.D(s)>>>16,l=65535&e.D(s);n[2*r+2*s]+=a*l,Pd(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Pd(n,2*r+2*s+1),n[2*r+2*s+1]+=a*o,Pd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*o,Pd(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new wd(n,0)},Io.gb=function(e){return Md(this,e).h},Io.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new wd(n,this.h&e.h)},Io.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new wd(n,this.h|e.h)},Io.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new wd(n,this.h^e.h)},pd.prototype.createWebChannel=pd.prototype.g,md.prototype.send=md.prototype.u,md.prototype.open=md.prototype.m,md.prototype.close=md.prototype.close,yc.NO_ERROR=0,yc.TIMEOUT=8,yc.HTTP_ERROR=6,xc.COMPLETE="complete",kc.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Fl.prototype.listen=Fl.prototype.O,Ru.prototype.listenOnce=Ru.prototype.P,Ru.prototype.getLastError=Ru.prototype.Sa,Ru.prototype.getLastErrorCode=Ru.prototype.Ia,Ru.prototype.getStatus=Ru.prototype.da,Ru.prototype.getResponseJson=Ru.prototype.Wa,Ru.prototype.getResponseText=Ru.prototype.ja,Ru.prototype.send=Ru.prototype.ha,Ru.prototype.setWithCredentials=Ru.prototype.Oa,xd.prototype.digest=xd.prototype.l,xd.prototype.reset=xd.prototype.reset,xd.prototype.update=xd.prototype.j,wd.prototype.add=wd.prototype.add,wd.prototype.multiply=wd.prototype.R,wd.prototype.modulo=wd.prototype.gb,wd.prototype.compare=wd.prototype.X,wd.prototype.toNumber=wd.prototype.ea,wd.prototype.toString=wd.prototype.toString,wd.prototype.getBits=wd.prototype.D,wd.fromNumber=Sd,wd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ad(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Sd(Math.pow(n,8)),s=Ed,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+a),n);8>a?(a=Sd(Math.pow(n,a)),s=s.R(a).add(Sd(o))):s=(s=s.R(r)).add(Sd(o))}return s};var Fd=Ao.createWebChannelTransport=function(){return new pd},Ud=Ao.getStatEventTarget=function(){return dc()},Vd=Ao.ErrorCode=yc,Bd=Ao.EventType=xc,zd=Ao.Event=cc,qd=Ao.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kd=Ao.FetchXmlHttpFactory=Tu,Hd=Ao.WebChannel=kc,Gd=Ao.XhrIo=Ru,Wd=Ao.Md5=xd,Qd=Ao.Integer=wd;const Xd="@firebase/firestore";class Yd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yd.UNAUTHENTICATED=new Yd(null),Yd.GOOGLE_CREDENTIALS=new Yd("google-credentials-uid"),Yd.FIRST_PARTY=new Yd("first-party-uid"),Yd.MOCK_USER=new Yd("mock-user");let $d="9.23.0";const Jd=new St("@firebase/firestore");function Zd(){return Jd.logLevel}function eh(e){if(Jd.logLevel<=xt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(rh);Jd.debug("Firestore (".concat($d,"): ").concat(e),...s)}}function th(e){if(Jd.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(rh);Jd.error("Firestore (".concat($d,"): ").concat(e),...s)}}function nh(e){if(Jd.logLevel<=xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(rh);Jd.warn("Firestore (".concat($d,"): ").concat(e),...s)}}function rh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat($d,") INTERNAL ASSERTION FAILED: ")+e;throw th(t),new Error(t)}function ih(e,t){e||sh()}function ah(e,t){return e}const oh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lh extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ch{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yd.UNAUTHENTICATED))}shutdown(){}}class hh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fh{constructor(e){this.t=e,this.currentUser=Yd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new ch;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ch,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{eh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(eh("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ch)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(eh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ih("string"==typeof t.accessToken),new uh(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ih(null===e||"string"==typeof e),new Yd(e)}}class ph{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Yd.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ph(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yd.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vh{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&eh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,eh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{eh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):eh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ih("string"==typeof e.token),this.T=e.token,new gh(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=yh(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function bh(e,t){return e<t?-1:e>t?1:0}function wh(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function kh(e){return e+"\0"}class Nh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lh(oh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lh(oh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lh(oh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lh(oh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nh.fromMillis(Date.now())}static fromDate(e){return Nh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Nh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bh(this.nanoseconds,e.nanoseconds):bh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sh(e)}static min(){return new Sh(new Nh(0,0))}static max(){return new Sh(new Nh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jh{constructor(e,t,n){void 0===t?t=0:t>e.length&&sh(),void 0===n?n=e.length-t:n>e.length-t&&sh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Eh extends jh{construct(e,t,n){return new Eh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new lh(oh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new Eh(e)}static emptyPath(){return new Eh([])}}const Th=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ch extends jh{construct(e,t,n){return new Ch(e,t,n)}static isValidIdentifier(e){return Th.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ch.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ch(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new lh(oh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new lh(oh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new lh(oh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new lh(oh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ch(t)}static emptyPath(){return new Ch([])}}class Ih{constructor(e){this.path=e}static fromPath(e){return new Ih(Eh.fromString(e))}static fromName(e){return new Ih(Eh.fromString(e).popFirst(5))}static empty(){return new Ih(Eh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Eh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Eh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ih(new Eh(e.slice()))}}class _h{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ah(e){return e.fields.find(e=>2===e.kind)}function Dh(e){return e.fields.filter(e=>2!==e.kind)}_h.UNKNOWN_ID=-1;class Ph{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rh(0,Lh.min())}}function Mh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Sh.fromTimestamp(1e9===r?new Nh(n+1,0):new Nh(n,r));return new Lh(s,Ih.empty(),t)}function Oh(e){return new Lh(e.readTime,e.key,-1)}class Lh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Lh(Sh.min(),Ih.empty(),-1)}static max(){return new Lh(Sh.max(),Ih.empty(),-1)}}function Fh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ih.comparator(e.documentKey,t.documentKey),0!==n?n:bh(e.largestBatchId,t.largestBatchId))}const Uh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Bh(e){if(e.code!==oh.FAILED_PRECONDITION||e.message!==Uh)throw e;eh("LocalStore","Unexpectedly lost primary lease")}class zh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof zh?t:zh.resolve(t)}catch(e){return zh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):zh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):zh.reject(t)}static resolve(e){return new zh((t,n)=>{t(e)})}static reject(e){return new zh((t,n)=>{n(e)})}static waitFor(e){return new zh((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=zh.resolve(!1);for(const n of e)t=t.next(e=>e?zh.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new zh((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new zh((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}class qh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ch,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Gh(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=$h(t.target.error);this.v.reject(new Gh(e,n))}}static open(e,t,n,r){try{return new qh(t,e.transaction(r,n))}catch(e){throw new Gh(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(eh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qh(t)}}class Kh{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Kh.S($e())&&th("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return eh("SimpleDb","Removing database:",e),Xh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!et())return!1;if(Kh.C())return!0;const e=$e(),t=Kh.S(e),n=0<t&&t<10,r=Kh.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/goal.kashmir",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(eh("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Gh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new lh(oh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new lh(oh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Gh(e,r))},r.onupgradeneeded=e=>{eh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next(()=>{eh("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.$(e);const t=qh.open(this.db,e,s?"readonly":"readwrite",n),i=r(t).next(e=>(t.P(),e)).catch(e=>(t.abort(e),zh.reject(e))).toPromise();return i.catch(()=>{}),await t.R,i}catch(e){const t=e,n="FirebaseError"!==t.name&&i<3;if(eh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Hh{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Xh(this.L.delete())}}class Gh extends lh{constructor(e,t){super(oh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Wh(e){return"IndexedDbTransactionError"===e.name}class Qh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(eh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(eh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Xh(n)}add(e){return eh("SimpleDb","ADD",this.store.name,e,e),Xh(this.store.add(e))}get(e){return Xh(this.store.get(e)).next(t=>(void 0===t&&(t=null),eh("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return eh("SimpleDb","DELETE",this.store.name,e),Xh(this.store.delete(e))}count(){return eh("SimpleDb","COUNT",this.store.name),Xh(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new zh((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new zh((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}J(e,t){eh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,(e,t,n)=>n.delete())}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new zh((n,r)=>{t.onerror=e=>{const t=$h(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}W(e,t){const n=[];return new zh((r,s)=>{e.onerror=e=>{s(e.target.error)},e.onsuccess=e=>{const s=e.target.result;if(!s)return void r();const i=new Hh(s),a=t(s.primaryKey,s.value,i);if(a instanceof zh){const e=a.catch(e=>(i.done(),zh.reject(e)));n.push(e)}i.isDone?r():null===i.K?s.continue():s.continue(i.K)}}).next(()=>zh.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xh(e){return new zh((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=$h(e.target.error);n(t)}})}let Yh=!1;function $h(e){const t=Kh.S($e());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new lh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Yh||(Yh=!0,setTimeout(()=>{throw e},0)),e}}return e}class Jh{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){eh("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{eh("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Wh(e)?eh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Bh(e)}await this.et(6e4)})}}class Zh{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.st(t,e))}st(e,t){const n=new Set;let r=t,s=!0;return zh.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return eh("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next(e=>{r-=e,n.add(t)});s=!1})).next(()=>t-r)}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const s=n.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,n)).next(n=>(eh("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>s.size)}))}rt(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Oh(t);Fh(r,n)>0&&(n=r)}),new Lh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function tf(e){return null==e}function nf(e){return 0===e&&1/e==-1/0}function rf(e){return"number"==typeof e&&Number.isInteger(e)&&!nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function sf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=of(t)),t=af(e.get(n),t);return of(t)}function af(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function of(e){return e+"\x01\x01"}function lf(e){const t=e.length;if(ih(t>=2),2===t)return ih("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Eh.emptyPath();const n=t-2,r=[];let s="";for(let i=0;i<t;){const t=e.indexOf("\x01",i);switch((t<0||t>n)&&sh(),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let a;0===s.length?a=n:(s+=n,a=s,s=""),r.push(a);break;case"\x10":s+=e.substring(i,t),s+="\0";break;case"\x11":s+=e.substring(i,t+1);break;default:sh()}i=t+2}return new Eh(r)}ef.ct=-1;const cf=["userId","batchId"];function uf(e,t){return[e,sf(t)]}function df(e,t,n){return[e,sf(t),n]}const hf={},ff=["prefixPath","collectionGroup","readTime","documentId"],pf=["prefixPath","collectionGroup","documentId"],mf=["collectionGroup","readTime","prefixPath","documentId"],gf=["canonicalId","targetId"],vf=["targetId","path"],yf=["path","targetId"],xf=["collectionId","parent"],bf=["indexId","uid"],wf=["uid","sequenceNumber"],kf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nf=["indexId","uid","orderedDocumentKey"],Sf=["userId","collectionPath","documentId"],jf=["userId","collectionPath","largestBatchId"],Ef=["userId","collectionGroup","largestBatchId"],Tf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cf=[...Tf,"documentOverlays"],If=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_f=If,Af=[..._f,"indexConfiguration","indexState","indexEntries"];class Df extends Vh{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Pf(e,t){const n=ah(e);return Kh.M(n.ht,t)}function Rf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Of(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Lf{constructor(e,t){this.comparator=e,this.root=t||Uf.EMPTY}insert(e,t){return new Lf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Uf.BLACK,null,null))}remove(e){return new Lf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Uf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ff(this.root,e,this.comparator,!0)}}class Ff{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Uf{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Uf.RED,this.left=null!=r?r:Uf.EMPTY,this.right=null!=s?s:Uf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Uf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Uf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Uf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Uf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Uf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sh();if(this.right.isRed())throw sh();const e=this.left.check();if(e!==this.right.check())throw sh();return e+(this.isRed()?0:1)}}Uf.EMPTY=null,Uf.RED=!0,Uf.BLACK=!1,Uf.EMPTY=new class{constructor(){this.size=0}get key(){throw sh()}get value(){throw sh()}get color(){throw sh()}get left(){throw sh()}get right(){throw sh()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Uf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vf{constructor(e){this.comparator=e,this.data=new Lf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Vf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vf(this.comparator);return t.data=e,t}}class Bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zf(e){return e.hasNext()?e.getNext():void 0}class qf{constructor(e){this.fields=e,e.sort(Ch.comparator)}static empty(){return new qf([])}unionWith(e){let t=new Vf(Ch.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wh(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Kf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Kf("Invalid base64 string: "+e):e}}(e);return new Hf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Hf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hf.EMPTY_BYTE_STRING=new Hf("");const Gf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wf(e){if(ih(!!e),"string"==typeof e){let t=0;const n=Gf.exec(e);if(ih(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qf(e.seconds),nanos:Qf(e.nanos)}}function Qf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xf(e){return"string"==typeof e?Hf.fromBase64String(e):Hf.fromUint8Array(e)}function Yf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $f(e){const t=e.mapValue.fields.__previous_value__;return Yf(t)?$f(t):t}function Jf(e){const t=Wf(e.mapValue.fields.__local_write_time__.timestampValue);return new Nh(t.seconds,t.nanos)}class Zf{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ep{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ep("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ep&&e.projectId===this.projectId&&e.database===this.database}}const tp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},np={nullValue:"NULL_VALUE"};function rp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yf(e)?4:vp(e)?9007199254740991:10:sh()}function sp(e,t){if(e===t)return!0;const n=rp(e);if(n!==rp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jf(e).isEqual(Jf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wf(e.timestampValue),r=Wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xf(e.bytesValue).isEqual(Xf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qf(e.geoPointValue.latitude)===Qf(t.geoPointValue.latitude)&&Qf(e.geoPointValue.longitude)===Qf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qf(e.integerValue)===Qf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Qf(e.doubleValue),r=Qf(t.doubleValue);return n===r?nf(n)===nf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wh(e.arrayValue.values||[],t.arrayValue.values||[],sp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rf(n)!==Rf(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!sp(n[s],r[s])))return!1;return!0}(e,t);default:return sh()}}function ip(e,t){return void 0!==(e.values||[]).find(e=>sp(e,t))}function ap(e,t){if(e===t)return 0;const n=rp(e),r=rp(t);if(n!==r)return bh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Qf(e.integerValue||e.doubleValue),r=Qf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return op(e.timestampValue,t.timestampValue);case 4:return op(Jf(e),Jf(t));case 5:return bh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xf(e),r=Xf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=bh(n[s],r[s]);if(0!==e)return e}return bh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=bh(Qf(e.latitude),Qf(t.latitude));return 0!==n?n:bh(Qf(e.longitude),Qf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=ap(n[s],r[s]);if(e)return e}return bh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tp.mapValue&&t===tp.mapValue)return 0;if(e===tp.mapValue)return 1;if(t===tp.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=bh(r[a],i[a]);if(0!==e)return e;const t=ap(n[r[a]],s[i[a]]);if(0!==t)return t}return bh(r.length,i.length)}(e.mapValue,t.mapValue);default:throw sh()}}function op(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bh(e,t);const n=Wf(e),r=Wf(t),s=bh(n.seconds,r.seconds);return 0!==s?s:bh(n.nanos,r.nanos)}function lp(e){return cp(e)}function cp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ih.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=cp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(cp(e.fields[s]));return n+"}"}(e.mapValue):sh();var t,n}function up(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function dp(e){return!!e&&"integerValue"in e}function hp(e){return!!e&&"arrayValue"in e}function fp(e){return!!e&&"nullValue"in e}function pp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mp(e){return!!e&&"mapValue"in e}function gp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mf(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=gp(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function yp(e){return"nullValue"in e?np:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?up(ep.empty(),Ih.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:sh()}function xp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?up(ep.empty(),Ih.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tp:sh()}function bp(e,t){const n=ap(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wp(e,t){const n=ap(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class kp{constructor(e){this.value=e}static empty(){return new kp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gp(t)}setAll(e){let t=Ch.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=gp(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];mp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mf(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new kp(gp(this.value))}}function Np(e){const t=[];return Mf(e.fields,(e,n)=>{const r=new Ch([e]);if(mp(n)){const e=Np(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new qf(t)}class Sp{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Sp(e,0,Sh.min(),Sh.min(),Sh.min(),kp.empty(),0)}static newFoundDocument(e,t,n,r){return new Sp(e,1,t,Sh.min(),n,r,0)}static newNoDocument(e,t){return new Sp(e,2,t,Sh.min(),Sh.min(),kp.empty(),0)}static newUnknownDocument(e,t){return new Sp(e,3,t,Sh.min(),Sh.min(),kp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jp{constructor(e,t){this.position=e,this.inclusive=t}}function Ep(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Ih.comparator(Ih.fromName(a.referenceValue),n.key):ap(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Tp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sp(e.position[n],t.position[n]))return!1;return!0}class Cp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ip(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class _p{}class Ap extends _p{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Bp(e,t,n):"array-contains"===t?new Hp(e,n):"in"===t?new Gp(e,n):"not-in"===t?new Wp(e,n):"array-contains-any"===t?new Qp(e,n):new Ap(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new zp(e,n):new qp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ap(t,this.value)):null!==t&&rp(this.value)===rp(t)&&this.matchesComparison(ap(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dp extends _p{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Dp(e,t)}matches(e){return Pp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pp(e){return"and"===e.op}function Rp(e){return"or"===e.op}function Mp(e){return Op(e)&&Pp(e)}function Op(e){for(const t of e.filters)if(t instanceof Dp)return!1;return!0}function Lp(e){if(e instanceof Ap)return e.field.canonicalString()+e.op.toString()+lp(e.value);if(Mp(e))return e.filters.map(e=>Lp(e)).join(",");{const t=e.filters.map(e=>Lp(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fp(e,t){return e instanceof Ap?function(e,t){return t instanceof Ap&&e.op===t.op&&e.field.isEqual(t.field)&&sp(e.value,t.value)}(e,t):e instanceof Dp?function(e,t){return t instanceof Dp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Fp(n,t.filters[r]),!0)}(e,t):void sh()}function Up(e,t){const n=e.filters.concat(t);return Dp.create(n,e.op)}function Vp(e){return e instanceof Ap?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(lp(e.value))}(e):e instanceof Dp?function(e){return e.op.toString()+" {"+e.getFilters().map(Vp).join(" ,")+"}"}(e):"Filter"}class Bp extends Ap{constructor(e,t,n){super(e,t,n),this.key=Ih.fromName(n.referenceValue)}matches(e){const t=Ih.comparator(e.key,this.key);return this.matchesComparison(t)}}class zp extends Ap{constructor(e,t){super(e,"in",t),this.keys=Kp("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qp extends Ap{constructor(e,t){super(e,"not-in",t),this.keys=Kp("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ih.fromName(e.referenceValue))}class Hp extends Ap{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hp(t)&&ip(t.arrayValue,this.value)}}class Gp extends Ap{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ip(this.value.arrayValue,t)}}class Wp extends Ap{constructor(e,t){super(e,"not-in",t)}matches(e){if(ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ip(this.value.arrayValue,t)}}class Qp extends Ap{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ip(this.value.arrayValue,e))}}class Xp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.dt=null}}function Yp(e){return new Xp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $p(e){const t=ah(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Lp(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),tf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>lp(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>lp(e)).join(",")),t.dt=e}return t.dt}function Jp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ip(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tp(e.startAt,t.startAt)&&Tp(e.endAt,t.endAt)}function Zp(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function em(e,t){return e.filters.filter(e=>e instanceof Ap&&e.field.isEqual(t))}function tm(e,t,n){let r=np,s=!0;for(const i of em(e,t)){let e=np,t=!0;switch(i.op){case"<":case"<=":e=yp(i.value);break;case"==":case"in":case">=":e=i.value;break;case">":e=i.value,t=!1;break;case"!=":case"not-in":e=np}bp({value:r,inclusive:s},{value:e,inclusive:t})<0&&(r=e,s=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];bp({value:r,inclusive:s},{value:e,inclusive:n.inclusive})<0&&(r=e,s=n.inclusive);break}return{value:r,inclusive:s}}function nm(e,t,n){let r=tp,s=!0;for(const i of em(e,t)){let e=tp,t=!0;switch(i.op){case">=":case">":e=xp(i.value),t=!1;break;case"==":case"in":case"<=":e=i.value;break;case"<":e=i.value,t=!1;break;case"!=":case"not-in":e=tp}wp({value:r,inclusive:s},{value:e,inclusive:t})>0&&(r=e,s=t)}if(null!==n)for(let i=0;i<e.orderBy.length;++i)if(e.orderBy[i].field.isEqual(t)){const e=n.position[i];wp({value:r,inclusive:s},{value:e,inclusive:n.inclusive})>0&&(r=e,s=n.inclusive);break}return{value:r,inclusive:s}}class rm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function sm(e,t,n,r,s,i,a,o){return new rm(e,t,n,r,s,i,a,o)}function im(e){return new rm(e)}function am(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function om(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lm(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function cm(e){return null!==e.collectionGroup}function um(e){const t=ah(e);if(null===t.wt){t.wt=[];const e=lm(t),n=om(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Cp(e)),t.wt.push(new Cp(Ch.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Cp(Ch.keyField(),e))}}}return t.wt}function dm(e){const t=ah(e);if(!t._t)if("F"===t.limitType)t._t=Yp(t.path,t.collectionGroup,um(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of um(t)){const t="desc"===s.dir?"asc":"desc";e.push(new Cp(s.field,t))}const n=t.endAt?new jp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jp(t.startAt.position,t.startAt.inclusive):null;t._t=Yp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function hm(e,t){t.getFirstInequalityField(),lm(e);const n=e.filters.concat([t]);return new rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fm(e,t,n){return new rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pm(e,t){return Jp(dm(e),dm(t))&&e.limitType===t.limitType}function mm(e){return"".concat($p(dm(e)),"|lt:").concat(e.limitType)}function gm(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Vp(e)).join(", "),"]")),tf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>lp(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>lp(e)).join(",")),"Target(".concat(t,")")}(dm(e)),"; limitType=").concat(e.limitType,")")}function vm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ih.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of um(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ep(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,um(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ep(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,um(e),t))}(e,t)}function ym(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xm(e){return(t,n)=>{let r=!1;for(const s of um(e)){const e=bm(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function bm(e,t,n){const r=e.field.isKeyField()?Ih.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?ap(r,s):sh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sh()}}class wm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mf(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Of(this.inner)}size(){return this.innerSize}}const km=new Lf(Ih.comparator);function Nm(){return km}const Sm=new Lf(Ih.comparator);function jm(){let e=Sm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Em(e){let t=Sm;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Tm(){return Im()}function Cm(){return Im()}function Im(){return new wm(e=>e.toString(),(e,t)=>e.isEqual(t))}const _m=new Lf(Ih.comparator),Am=new Vf(Ih.comparator);function Dm(){let e=Am;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Pm=new Vf(bh);function Rm(){return Pm}function Mm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function Om(e){return{integerValue:""+e}}function Lm(e,t){return rf(t)?Om(t):Mm(e,t)}class Fm{constructor(){this._=void 0}}function Um(e,t,n){return e instanceof zm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Yf(t)&&(t=$f(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qm?Km(e,t):e instanceof Hm?Gm(e,t):function(e,t){const n=Bm(e,t),r=Qm(n)+Qm(e.gt);return dp(n)&&dp(e.gt)?Om(r):Mm(e.serializer,r)}(e,t)}function Vm(e,t,n){return e instanceof qm?Km(e,t):e instanceof Hm?Gm(e,t):n}function Bm(e,t){return e instanceof Wm?dp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class zm extends Fm{}class qm extends Fm{constructor(e){super(),this.elements=e}}function Km(e,t){const n=Xm(t);for(const r of e.elements)n.some(e=>sp(e,r))||n.push(r);return{arrayValue:{values:n}}}class Hm extends Fm{constructor(e){super(),this.elements=e}}function Gm(e,t){let n=Xm(t);for(const r of e.elements)n=n.filter(e=>!sp(e,r));return{arrayValue:{values:n}}}class Wm extends Fm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Qm(e){return Qf(e.integerValue||e.doubleValue)}function Xm(e){return hp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ym{constructor(e,t){this.field=e,this.transform=t}}class $m{constructor(e,t){this.version=e,this.transformResults=t}}class Jm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jm}static exists(e){return new Jm(void 0,e)}static updateTime(e){return new Jm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class eg{}function tg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dg(e.key,Jm.none()):new ag(e.key,e.data,Jm.none());{const n=e.data,r=kp.empty();let s=new Vf(Ch.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new og(e.key,r,new qf(s.toArray()),Jm.none())}}function ng(e,t,n){e instanceof ag?function(e,t,n){const r=e.value.clone(),s=cg(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof og?function(e,t,n){if(!Zm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cg(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(lg(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rg(e,t,n,r){return e instanceof ag?function(e,t,n,r){if(!Zm(e.precondition,t))return n;const s=e.value.clone(),i=ug(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof og?function(e,t,n,r){if(!Zm(e.precondition,t))return n;const s=ug(e.fieldTransforms,r,t),i=t.data;return i.setAll(lg(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Zm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Bm(r.transform,e||null);null!=s&&(null===n&&(n=kp.empty()),n.set(r.field,s))}return n||null}function ig(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wh(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qm&&t instanceof qm||e instanceof Hm&&t instanceof Hm?wh(e.elements,t.elements,sp):e instanceof Wm&&t instanceof Wm?sp(e.gt,t.gt):e instanceof zm&&t instanceof zm}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ag extends eg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class og extends eg{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lg(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cg(e,t,n){const r=new Map;ih(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Vm(a,o,n[s]))}return r}function ug(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Um(e,i,t))}return r}class dg extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hg extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ng(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Cm();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=tg(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Sh.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dm())}isEqual(e){return this.batchId===e.batchId&&wh(this.mutations,e.mutations,(e,t)=>ig(e,t))&&wh(this.baseMutations,e.baseMutations,(e,t)=>ig(e,t))}}class pg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ih(e.mutations.length===n.length);let r=_m;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new pg(e,t,n,r)}}class mg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class gg{constructor(e,t){this.count=e,this.unchangedNames=t}}var vg,yg;function xg(e){switch(e){default:return sh();case oh.CANCELLED:case oh.UNKNOWN:case oh.DEADLINE_EXCEEDED:case oh.RESOURCE_EXHAUSTED:case oh.INTERNAL:case oh.UNAVAILABLE:case oh.UNAUTHENTICATED:return!1;case oh.INVALID_ARGUMENT:case oh.NOT_FOUND:case oh.ALREADY_EXISTS:case oh.PERMISSION_DENIED:case oh.FAILED_PRECONDITION:case oh.ABORTED:case oh.OUT_OF_RANGE:case oh.UNIMPLEMENTED:case oh.DATA_LOSS:return!0}}function bg(e){if(void 0===e)return th("GRPC error has no .code"),oh.UNKNOWN;switch(e){case vg.OK:return oh.OK;case vg.CANCELLED:return oh.CANCELLED;case vg.UNKNOWN:return oh.UNKNOWN;case vg.DEADLINE_EXCEEDED:return oh.DEADLINE_EXCEEDED;case vg.RESOURCE_EXHAUSTED:return oh.RESOURCE_EXHAUSTED;case vg.INTERNAL:return oh.INTERNAL;case vg.UNAVAILABLE:return oh.UNAVAILABLE;case vg.UNAUTHENTICATED:return oh.UNAUTHENTICATED;case vg.INVALID_ARGUMENT:return oh.INVALID_ARGUMENT;case vg.NOT_FOUND:return oh.NOT_FOUND;case vg.ALREADY_EXISTS:return oh.ALREADY_EXISTS;case vg.PERMISSION_DENIED:return oh.PERMISSION_DENIED;case vg.FAILED_PRECONDITION:return oh.FAILED_PRECONDITION;case vg.ABORTED:return oh.ABORTED;case vg.OUT_OF_RANGE:return oh.OUT_OF_RANGE;case vg.UNIMPLEMENTED:return oh.UNIMPLEMENTED;case vg.DATA_LOSS:return oh.DATA_LOSS;default:return sh()}}(yg=vg||(vg={}))[yg.OK=0]="OK",yg[yg.CANCELLED=1]="CANCELLED",yg[yg.UNKNOWN=2]="UNKNOWN",yg[yg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yg[yg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yg[yg.NOT_FOUND=5]="NOT_FOUND",yg[yg.ALREADY_EXISTS=6]="ALREADY_EXISTS",yg[yg.PERMISSION_DENIED=7]="PERMISSION_DENIED",yg[yg.UNAUTHENTICATED=16]="UNAUTHENTICATED",yg[yg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yg[yg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yg[yg.ABORTED=10]="ABORTED",yg[yg.OUT_OF_RANGE=11]="OUT_OF_RANGE",yg[yg.UNIMPLEMENTED=12]="UNIMPLEMENTED",yg[yg.INTERNAL=13]="INTERNAL",yg[yg.UNAVAILABLE=14]="UNAVAILABLE",yg[yg.DATA_LOSS=15]="DATA_LOSS";class wg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kg}static getOrCreateInstance(){return null===kg&&(kg=new wg),kg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let kg=null;function Ng(){return new TextEncoder}const Sg=new Qd([4294967295,4294967295],0);function jg(e){const t=Ng().encode(e),n=new Wd;return n.update(t),new Uint8Array(n.digest())}function Eg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Qd([n,r],0),new Qd([s,i],0)]}class Tg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cg("Invalid padding: ".concat(t));if(n<0)throw new Cg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Cg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Cg("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Qd.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Qd.fromNumber(n)));return 1===r.compare(Sg)&&(r=new Qd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=jg(e),[n,r]=Eg(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Tg(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.It)return;const t=jg(e),[n,r]=Eg(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ig{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,_g.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ig(Sh.min(),r,new Lf(bh),Nm(),Dm())}}class _g{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new _g(n,t,Dm(),Dm(),Dm())}}class Ag{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Dg{constructor(e,t){this.targetId=e,this.Vt=t}}class Pg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hf.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rg{constructor(){this.St=0,this.Dt=Lg(),this.Ct=Hf.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dm(),t=Dm(),n=Dm();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sh()}}),new _g(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Lg()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Nm(),this.zt=Og(),this.Wt=new Lf(bh)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:sh()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const i=s.target;if(Zp(i))if(0===r){const e=new Ih(i.path);this.Yt(n,e,Sp.newNoDocument(e,Sh.min()))}else ih(1===r);else{const s=this.ie(n);if(s!==r){const r=this.re(e,s);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=wg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,s,i,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(i=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.bitmap)||void 0===i?void 0:i.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,s,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=Xf(s).toUint8Array()}catch(e){if(e instanceof Kf)return nh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Tg(o,i,a)}catch(e){return nh(e instanceof Cg?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const s=this.Gt.ue(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());t.vt(i)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const s=this.se(r);if(s){if(n.current&&Zp(s.target)){const t=new Ih(s.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Sp.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Dm();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Ig(e,t,this.Wt,this.jt,n);return this.jt=Nm(),this.zt=Og(),this.Wt=new Lf(bh),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Rg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Vf(bh),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||eh("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rg),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Og(){return new Lf(Ih.comparator)}function Lg(){return new Lf(Ih.comparator)}const Fg={asc:"ASCENDING",desc:"DESCENDING"},Ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vg={and:"AND",or:"OR"};class Bg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zg(e,t){return e.useProto3Json||tf(t)?t:{value:t}}function qg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hg(e,t){return qg(e,t.toTimestamp())}function Gg(e){return ih(!!e),Sh.fromTimestamp(function(e){const t=Wf(e);return new Nh(t.seconds,t.nanos)}(e))}function Wg(e,t){return function(e){return new Eh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Qg(e){const t=Eh.fromString(e);return ih(gv(t)),t}function Xg(e,t){return Wg(e.databaseId,t.path)}function Yg(e,t){const n=Qg(t);if(n.get(1)!==e.databaseId.projectId)throw new lh(oh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lh(oh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ih(ev(n))}function $g(e,t){return Wg(e.databaseId,t)}function Jg(e){const t=Qg(e);return 4===t.length?Eh.emptyPath():ev(t)}function Zg(e){return new Eh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ev(e){return ih(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tv(e,t,n){return{name:Xg(e,t),fields:n.value.mapValue.fields}}function nv(e,t,n){const r=Yg(e,t.name),s=Gg(t.updateTime),i=t.createTime?Gg(t.createTime):Sh.min(),a=new kp({mapValue:{fields:t.fields}}),o=Sp.newFoundDocument(r,s,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function rv(e,t){let n;if(t instanceof ag)n={update:tv(e,t.key,t.value)};else if(t instanceof dg)n={delete:Xg(e,t.key)};else if(t instanceof og)n={update:tv(e,t.key,t.data),updateMask:mv(t.fieldMask)};else{if(!(t instanceof hg))return sh();n={verify:Xg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof zm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wm)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw sh()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sh()}(e,t.precondition)),n}function sv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Jm.updateTime(Gg(e.updateTime)):void 0!==e.exists?Jm.exists(e.exists):Jm.none()}(t.currentDocument):Jm.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)ih("REQUEST_TIME"===t.setToServerValue),n=new zm;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new qm(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Hm(e)}else"increment"in t?n=new Wm(e,t.increment):sh();const r=Ch.fromServerFormat(t.fieldPath);return new Ym(r,n)}(e,t)):[];if(t.update){t.update.name;const s=Yg(e,t.update.name),i=new kp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new qf(t.map(e=>Ch.fromServerFormat(e)))}(t.updateMask);return new og(s,i,e,n,r)}return new ag(s,i,n,r)}if(t.delete){const r=Yg(e,t.delete);return new dg(r,n)}if(t.verify){const r=Yg(e,t.verify);return new hg(r,n)}return sh()}function iv(e,t){return{documents:[$g(e,t.path)]}}function av(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$g(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$g(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0!==e.length)return pv(Dp.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:hv(e.field),direction:cv(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=zg(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ov(e){let t=Jg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ih(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=lv(e);return t instanceof Dp&&Mp(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new Cp(fv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,tf(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jp(n,t)}(n.endAt)),sm(t,s,a,i,o,"F",l,c)}function lv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fv(e.unaryFilter.field);return Ap.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fv(e.unaryFilter.field);return Ap.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fv(e.unaryFilter.field);return Ap.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fv(e.unaryFilter.field);return Ap.create(s,"!=",{nullValue:"NULL_VALUE"});default:return sh()}}(e):void 0!==e.fieldFilter?function(e){return Ap.create(fv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dp.create(e.compositeFilter.filters.map(e=>lv(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sh()}}(e.compositeFilter.op))}(e):sh()}function cv(e){return Fg[e]}function uv(e){return Ug[e]}function dv(e){return Vg[e]}function hv(e){return{fieldPath:e.canonicalString()}}function fv(e){return Ch.fromServerFormat(e.fieldPath)}function pv(e){return e instanceof Ap?function(e){if("=="===e.op){if(pp(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NAN"}};if(fp(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pp(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NOT_NAN"}};if(fp(e.value))return{unaryFilter:{field:hv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hv(e.field),op:uv(e.op),value:e.value}}}(e):e instanceof Dp?function(e){const t=e.getFilters().map(e=>pv(e));return 1===t.length?t[0]:{compositeFilter:{op:dv(e.op),filters:t}}}(e):sh()}function mv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function gv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vv{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sh.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sh.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hf.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new vv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yv{constructor(e){this.fe=e}}function xv(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Xg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qg(e,t.version.toTimestamp()),createTime:qg(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wv(t.version)};else{if(!t.isUnknownDocument())return sh();r.unknownDocument={path:n.path.toArray(),version:wv(t.version)}}return r}function bv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kv(e){const t=new Nh(e.seconds,e.nanoseconds);return Sh.fromTimestamp(t)}function Nv(e,t){const n=(t.baseMutations||[]).map(t=>sv(e.fe,t));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];if(i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform){const n=t.mutations[i+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}const r=t.mutations.map(t=>sv(e.fe,t)),s=Nh.fromMillis(t.localWriteTimeMs);return new fg(t.batchId,s,n,r)}function Sv(e){const t=kv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?kv(e.lastLimboFreeSnapshotVersion):Sh.min();let r;var s;return void 0!==e.query.documents?(ih(1===(s=e.query).documents.length),r=dm(im(Jg(s.documents[0])))):r=function(e){return dm(ov(e))}(e.query),new vv(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Hf.fromBase64String(e.resumeToken))}function jv(e,t){const n=wv(t.snapshotVersion),r=wv(t.lastLimboFreeSnapshotVersion);let s;s=Zp(t.target)?iv(e.fe,t.target):av(e.fe,t.target);const i=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$p(t.target),readTime:n,resumeToken:i,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Ev(e){const t=ov({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fm(t,t.limit,"L"):t}function Tv(e,t){return new mg(t.largestBatchId,sv(e.fe,t.overlayMutation))}function Cv(e,t){const n=t.path.lastSegment();return[e,sf(t.path.popLast()),n]}function Iv(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wv(r.readTime),documentKey:sf(r.documentKey.path),largestBatchId:r.largestBatchId}}class _v{getBundleMetadata(e,t){return Av(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:kv(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Av(e).put({bundleId:(n=t).id,createTime:wv(Gg(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Dv(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ev(t.bundledQuery),readTime:kv(t.readTime)};var t})}saveNamedQuery(e,t){return Dv(e).put(function(e){return{name:e.name,readTime:wv(Gg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Av(e){return Pf(e,"bundles")}function Dv(e){return Pf(e,"namedQueries")}class Pv{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new Pv(e,n)}getOverlay(e,t){return Rv(e).get(Cv(this.userId,t)).next(e=>e?Tv(this.serializer,e):null)}getOverlays(e,t){const n=Tm();return zh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,s)=>{const i=new mg(t,s);r.push(this.we(e,i))}),zh.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(sf(e.getCollectionPath())));const s=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);s.push(Rv(e).J("collectionPathOverlayIndex",r))}),zh.waitFor(s)}getOverlaysForCollection(e,t,n){const r=Tm(),s=sf(t),i=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Rv(e).j("collectionPathOverlayIndex",i).next(e=>{for(const t of e){const e=Tv(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const s=Tm();let i;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rv(e).X({index:"collectionGroupOverlayIndex",range:a},(e,t,n)=>{const a=Tv(this.serializer,t);s.size()<r||a.largestBatchId===i?(s.set(a.getKey(),a),i=a.largestBatchId):n.done()}).next(()=>s)}we(e,t){return Rv(e).put(function(e,t,n){const[r,s,i]=Cv(t,n.mutation.key);return{userId:t,collectionPath:s,documentId:i,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rv(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function Rv(e){return Pf(e,"documentOverlays")}class Mv{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Qf(e.integerValue));else if("doubleValue"in e){const n=Qf(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),nf(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Xf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?vp(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):sh()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Ih.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Ov(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Lv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ov(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Mv.Ve=new Mv;class Fv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Lv(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=Lv(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Uv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Vv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Bv{constructor(){this.je=new Fv,this.ze=new Uv(this.je),this.We=new Vv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class zv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new zv(this.indexId,this.documentKey,this.arrayValue,n)}}function qv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Kv(e.arrayValue,t.arrayValue),0!==n?n:(n=Kv(e.directionalValue,t.directionalValue),0!==n?n:Ih.comparator(e.documentKey,t.documentKey)))}function Kv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Hv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){ih(e.collectionGroup===this.collectionId);const t=Ah(e);if(void 0!==t&&!this.en(t))return!1;const n=Dh(e);let r=new Set,s=0,i=0;for(;s<n.length&&this.en(n[s]);++s)r=r.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[s];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[i++],e))return!1}++s}for(;s<n.length;++s){const e=n[s];if(i>=this.Ye.length||!this.sn(this.Ye[i++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Gv(e){var t,n;if(ih(e instanceof Ap||e instanceof Dp),e instanceof Ap){if(e instanceof Gp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>Ap.create(e.field,"==",t)))||[];return Dp.create(r,"or")}return e}const r=e.filters.map(e=>Gv(e));return Dp.create(r,e.op)}function Wv(e){if(0===e.getFilters().length)return[];const t=$v(Gv(e));return ih(Yv(t)),Qv(t)||Xv(t)?[t]:t.getFilters()}function Qv(e){return e instanceof Ap}function Xv(e){return e instanceof Dp&&Mp(e)}function Yv(e){return Qv(e)||Xv(e)||function(e){if(e instanceof Dp&&Rp(e)){for(const t of e.getFilters())if(!Qv(t)&&!Xv(t))return!1;return!0}return!1}(e)}function $v(e){if(ih(e instanceof Ap||e instanceof Dp),e instanceof Ap)return e;if(1===e.filters.length)return $v(e.filters[0]);const t=e.filters.map(e=>$v(e));let n=Dp.create(t,e.op);return n=ey(n),Yv(n)?n:(ih(n instanceof Dp),ih(Pp(n)),ih(n.filters.length>1),n.filters.reduce((e,t)=>Jv(e,t)))}function Jv(e,t){let n;return ih(e instanceof Ap||e instanceof Dp),ih(t instanceof Ap||t instanceof Dp),n=e instanceof Ap?t instanceof Ap?function(e,t){return Dp.create([e,t],"and")}(e,t):Zv(e,t):t instanceof Ap?Zv(t,e):function(e,t){if(ih(e.filters.length>0&&t.filters.length>0),Pp(e)&&Pp(t))return Up(e,t.getFilters());const n=Rp(e)?e:t,r=Rp(e)?t:e,s=n.filters.map(e=>Jv(e,r));return Dp.create(s,"or")}(e,t),ey(n)}function Zv(e,t){if(Pp(t))return Up(t,e.getFilters());{const n=t.filters.map(t=>Jv(e,t));return Dp.create(n,"or")}}function ey(e){if(ih(e instanceof Ap||e instanceof Dp),e instanceof Ap)return e;const t=e.getFilters();if(1===t.length)return ey(t[0]);if(Op(e))return e;const n=t.map(e=>ey(e)),r=[];return n.forEach(t=>{t instanceof Ap?r.push(t):t instanceof Dp&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Dp.create(r,e.op)}class ty{constructor(){this.rn=new ny}addToCollectionParentIndex(e,t){return this.rn.add(t),zh.resolve()}getCollectionParents(e,t){return zh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return zh.resolve()}deleteFieldIndex(e,t){return zh.resolve()}getDocumentsMatchingTarget(e,t){return zh.resolve(null)}getIndexType(e,t){return zh.resolve(0)}getFieldIndexes(e,t){return zh.resolve([])}getNextCollectionGroupToUpdate(e){return zh.resolve(null)}getMinOffset(e,t){return zh.resolve(Lh.min())}getMinOffsetFromCollectionGroup(e,t){return zh.resolve(Lh.min())}updateCollectionGroup(e,t,n){return zh.resolve()}updateIndexEntries(e,t){return zh.resolve()}}class ny{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vf(Eh.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Vf(Eh.comparator)).toArray()}}const ry=new Uint8Array(0);class sy{constructor(e,t){this.user=e,this.databaseId=t,this.on=new ny,this.un=new wm(e=>$p(e),(e,t)=>Jp(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:n,parent:sf(r)};return iy(e).put(s)}return zh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[kh(t),""],!1,!0);return iy(e).j(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(lf(r.parent))}return n})}addFieldIndex(e,t){const n=oy(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const s=n.add(r);if(t.indexState){const n=ly(e);return s.next(e=>{n.put(Iv(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const n=oy(e),r=ly(e),s=ay(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=ay(e);let r=!0;const s=new Map;return zh.forEach(this.cn(t),t=>this.an(e,t).next(e=>{r&&(r=!!e),s.set(t,e)})).next(()=>{if(r){let e=Dm();const r=[];return zh.forEach(s,(s,i)=>{var a;eh("IndexedDbIndexManager","Using index ".concat((a=s,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(",")))," to execute ").concat($p(t)));const o=function(e,t){const n=Ah(t);if(void 0===n)return null;for(const r of em(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(i,s),l=function(e,t){const n=new Map;for(const r of Dh(t))for(const t of em(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(i,s),c=function(e,t){const n=[];let r=!0;for(const s of Dh(t)){const t=0===s.kind?tm(e,s.fieldPath,e.startAt):nm(e,s.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new jp(n,r)}(i,s),u=function(e,t){const n=[];let r=!0;for(const s of Dh(t)){const t=0===s.kind?nm(e,s.fieldPath,e.endAt):tm(e,s.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new jp(n,r)}(i,s),d=this.hn(s,i,c),h=this.hn(s,i,u),f=this.ln(s,i,l),p=this.fn(s.indexId,o,d,c.inclusive,h,u.inclusive,f);return zh.forEach(p,s=>n.H(s,t.limit).next(t=>{t.forEach(t=>{const n=Ih.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return zh.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Wv(Dp.create(e.filters,"and")).map(t=>Yp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,n,r,s,i,a){const o=(null!=t?t.length:1)*Math.max(n.length,s.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.dn(t[u/l]):ry,d=this.wn(e,o,n[u%l],r),h=this._n(e,o,s[u%l],i),f=a.map(t=>this.wn(e,o,t,!0));c.push(...this.createRange(d,h,f))}return c}wn(e,t,n,r){const s=new zv(e,Ih.empty(),t,n);return r?s:s.Je()}_n(e,t,n,r){const s=new zv(e,Ih.empty(),t,n);return r?s.Je():s}an(e,t){const n=new Hv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.cn(t);return zh.forEach(r,t=>this.an(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new Vf(Ch.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}mn(e,t){const n=new Bv;for(const r of Dh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const s=n.He(r.kind);Mv.Ve._e(e,s)}return n.Qe()}dn(e){const t=new Bv;return Mv.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Bv;return Mv.Ve._e(up(this.databaseId,t),n.He(function(e){const t=Dh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Bv);let s=0;for(const i of Dh(e)){const e=n[s++];for(const n of r)if(this.yn(t,i.fieldPath)&&hp(e))r=this.pn(r,i,e);else{const t=n.He(i.kind);Mv.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],s=[];for(const i of n.arrayValue.values||[])for(const e of r){const n=new Bv;n.seed(e.Qe()),Mv.Ve._e(i,n.He(t.kind)),s.push(n)}return s}yn(e,t){return!!e.filters.find(e=>e instanceof Ap&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=oy(e),r=ly(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next(e=>{const t=[];return zh.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Rh(t.sequenceNumber,new Lh(kv(t.readTime),new Ih(lf(t.documentKey)),t.largestBatchId)):Rh.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Ph(Ch.fromServerFormat(t),n)});return new _h(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:bh(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=oy(e),s=ly(e);return this.Tn(e).next(e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>zh.forEach(t,t=>s.put(Iv(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return zh.forEach(t,(t,r)=>{const s=n.get(t.collectionGroup);return(s?zh.resolve(s):this.getFieldIndexes(e,t.collectionGroup)).next(s=>(n.set(t.collectionGroup,s),zh.forEach(s,n=>this.En(e,t,n).next(t=>{const s=this.An(r,n);return t.isEqual(s)?zh.resolve():this.vn(e,r,n,t,s)}))))})}Rn(e,t,n,r){return ay(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return ay(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=ay(e);let s=new Vf(qv);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(e,r)=>{s=s.add(new zv(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>s)}An(e,t){let n=new Vf(qv);const r=this.mn(t,e);if(null==r)return n;const s=Ah(t);if(null!=s){const i=e.data.field(s.fieldPath);if(hp(i))for(const s of i.arrayValue.values||[])n=n.add(new zv(t.indexId,e.key,this.dn(s),r))}else n=n.add(new zv(t.indexId,e.key,ry,r));return n}vn(e,t,n,r,s){eh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const i=[];return function(e,t,n,r,s){const i=e.getIterator(),a=t.getIterator();let o=zf(i),l=zf(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=zf(a)):t?(s(o),o=zf(i)):(o=zf(i),l=zf(a))}}(r,s,qv,r=>{i.push(this.Rn(e,t,n,r))},r=>{i.push(this.Pn(e,t,n,r))}),zh.waitFor(i)}Tn(e){let t=1;return ly(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>qv(e,t)).filter((e,t,n)=>!t||0!==qv(e,n[t-1]));const r=[];r.push(e);for(const i of n){const n=qv(i,e),s=qv(i,t);if(0===n)r[0]=e.Je();else if(n>0&&s<0)r.push(i),r.push(i.Je());else if(s>0)break}r.push(t);const s=[];for(let i=0;i<r.length;i+=2){if(this.bn(r[i],r[i+1]))return[];const e=[r[i].indexId,this.uid,r[i].arrayValue,r[i].directionalValue,ry,[]],t=[r[i+1].indexId,this.uid,r[i+1].arrayValue,r[i+1].directionalValue,ry,[]];s.push(IDBKeyRange.bound(e,t))}return s}bn(e,t){return qv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cy)}getMinOffset(e,t){return zh.mapArray(this.cn(t),t=>this.an(e,t).next(e=>e||sh())).next(cy)}}function iy(e){return Pf(e,"collectionParents")}function ay(e){return Pf(e,"indexEntries")}function oy(e){return Pf(e,"indexConfiguration")}function ly(e){return Pf(e,"indexState")}function cy(e){ih(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const s=e[r].indexState.offset;Fh(s,t)<0&&(t=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Lh(t.readTime,t.documentKey,n)}const uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new dy(e,dy.DEFAULT_COLLECTION_PERCENTILE,dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hy(e,t,n){const r=e.store("mutations"),s=e.store("documentMutations"),i=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.X({range:a},(e,t,n)=>(o++,n.delete()));i.push(l.next(()=>{ih(1===o)}));const c=[];for(const u of n.mutations){const e=df(t,u.key.path,n.batchId);i.push(s.delete(e)),c.push(u.key)}return zh.waitFor(i).next(()=>c)}function fy(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw sh();t=e.noDocument}return JSON.stringify(t).length}dy.DEFAULT_COLLECTION_PERCENTILE=10,dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dy.DEFAULT=new dy(41943040,dy.DEFAULT_COLLECTION_PERCENTILE,dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dy.DISABLED=new dy(-1,0,0);class py{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){ih(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new py(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gy(e).X({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=vy(e),i=gy(e);return i.add({}).next(a=>{ih("number"==typeof a);const o=new fg(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>rv(e.fe,t)),s=n.mutations.map(t=>rv(e.fe,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:s}}(this.serializer,this.userId,o),c=[];let u=new Vf((e,t)=>bh(e.canonicalString(),t.canonicalString()));for(const e of r){const t=df(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(i.put(l)),c.push(s.put(t,hf))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Vn[a]=o.keys()}),zh.waitFor(c).next(()=>o)})}lookupMutationBatch(e,t){return gy(e).get(t).next(e=>e?(ih(e.userId===this.userId),Nv(this.serializer,e)):null)}Sn(e,t){return this.Vn[t]?zh.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return gy(e).X({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(ih(t.batchId>=n),s=Nv(this.serializer,t)),r.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return gy(e).X({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gy(e).j("userMutationsIndex",t).next(e=>e.map(e=>Nv(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=uf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return vy(e).X({range:r},(n,r,i)=>{const[a,o,l]=n,c=lf(o);if(a===this.userId&&t.path.isEqual(c))return gy(e).get(l).next(e=>{if(!e)throw sh();ih(e.userId===this.userId),s.push(Nv(this.serializer,e))});i.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vf(bh);const r=[];return t.forEach(t=>{const s=uf(this.userId,t.path),i=IDBKeyRange.lowerBound(s),a=vy(e).X({range:i},(e,r,s)=>{const[i,a,o]=e,l=lf(a);i===this.userId&&t.path.isEqual(l)?n=n.add(o):s.done()});r.push(a)}),zh.waitFor(r).next(()=>this.Dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=uf(this.userId,n),i=IDBKeyRange.lowerBound(s);let a=new Vf(bh);return vy(e).X({range:i},(e,t,s)=>{const[i,o,l]=e,c=lf(o);i===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):s.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(gy(e).get(t).next(e=>{if(null===e)throw sh();ih(e.userId===this.userId),n.push(Nv(this.serializer,e))}))}),zh.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return hy(e.ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),zh.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return zh.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return vy(e).X({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=lf(e[1]);r.push(t)}else n.done()}).next(()=>{ih(0===r.length)})})}containsKey(e,t){return my(e,this.userId,t)}xn(e){return yy(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function my(e,t,n){const r=uf(t,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return vy(e).X({range:i,Y:!0},(e,n,r)=>{const[i,o,l]=e;i===t&&o===s&&(a=!0),r.done()}).next(()=>a)}function gy(e){return Pf(e,"mutations")}function vy(e){return Pf(e,"documentMutations")}function yy(e){return Pf(e,"mutationQueues")}class xy{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xy(0)}static Mn(){return new xy(-1)}}class by{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const n=new xy(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(e=>Sh.fromTimestamp(new Nh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wy(e).delete(t.targetId)).next(()=>this.$n(e)).next(t=>(ih(t.targetCount>0),t.targetCount-=1,this.On(e,t)))}removeTargets(e,t,n){let r=0;const s=[];return wy(e).X((i,a)=>{const o=Sv(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,s.push(this.removeTargetData(e,o)))}).next(()=>zh.waitFor(s)).next(()=>r)}forEachTarget(e,t){return wy(e).X((e,n)=>{const r=Sv(n);t(r)})}$n(e){return ky(e).get("targetGlobalKey").next(e=>(ih(null!==e),e))}On(e,t){return ky(e).put("targetGlobalKey",t)}Fn(e,t){return wy(e).put(jv(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next(e=>e.targetCount)}getTargetData(e,t){const n=$p(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return wy(e).X({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const i=Sv(n);Jp(t,i.target)&&(s=i,r.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=Ny(e);return t.forEach(t=>{const i=sf(t.path);r.push(s.put({targetId:n,path:i})),r.push(this.referenceDelegate.addReference(e,n,t))}),zh.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ny(e);return zh.forEach(t,t=>{const s=sf(t.path);return zh.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Ny(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ny(e);let s=Dm();return r.X({range:n,Y:!0},(e,t,n)=>{const r=lf(e[1]),i=new Ih(r);s=s.add(i)}).next(()=>s)}containsKey(e,t){const n=sf(t.path),r=IDBKeyRange.bound([n],[kh(n)],!1,!0);let s=0;return Ny(e).X({index:"documentTargetsIndex",Y:!0,range:r},(e,t,n)=>{let[r,i]=e;0!==r&&(s++,n.done())}).next(()=>s>0)}le(e,t){return wy(e).get(t).next(e=>e?Sv(e):null)}}function wy(e){return Pf(e,"targets")}function ky(e){return Pf(e,"targetGlobal")}function Ny(e){return Pf(e,"targetDocuments")}function Sy(e,t){let[n,r]=e,[s,i]=t;const a=bh(n,s);return 0===a?bh(r,i):a}class jy{constructor(e){this.Ln=e,this.buffer=new Vf(Sy),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ey{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){eh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wh(e)?eh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Bh(e)}await this.Qn(3e5)})}}class Ty{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return zh.resolve(ef.ct);const n=new jy(t);return this.jn.forEachTarget(e,e=>n.Kn(e.sequenceNumber)).next(()=>this.jn.Wn(e,e=>n.Kn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(eh("LruGarbageCollector","Garbage collection skipped; disabled"),zh.resolve(uy)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(eh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),uy):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(eh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Zd()<=xt.DEBUG&&eh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),zh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function Cy(e,t){return new Ty(e,t)}class Iy{constructor(e,t){this.db=e,this.garbageCollector=Cy(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Jn(e){let t=0;return this.Wn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(e,n)=>t(n))}addReference(e,t,n){return _y(e,n)}removeReference(e,t,n){return _y(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _y(e,t)}Xn(e,t){return function(e,t){let n=!1;return yy(e).Z(r=>my(e,r,t).next(e=>(e&&(n=!0),zh.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(i,a)=>{if(a<=t){const t=this.Xn(e,i).next(t=>{if(!t)return s++,n.getEntry(e,i).next(()=>(n.removeEntry(i,Sh.min()),Ny(e).delete([0,sf(i.path)])))});r.push(t)}}).next(()=>zh.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _y(e,t)}Yn(e,t){const n=Ny(e);let r,s=ef.ct;return n.X({index:"documentTargetsIndex"},(e,n)=>{let[i,a]=e,{path:o,sequenceNumber:l}=n;0===i?(s!==ef.ct&&t(new Ih(lf(r)),s),s=l,r=o):s=ef.ct}).next(()=>{s!==ef.ct&&t(new Ih(lf(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _y(e,t){return Ny(e).put(function(e,t){return{targetId:0,path:sf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ay{constructor(){this.changes=new wm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Oy(e).put(n)}removeEntry(e,t,n){return Oy(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Zn(e,n)))}getEntry(e,t){let n=Sp.newInvalidDocument(t);return Oy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(e,r)=>{n=this.ts(t,r)}).next(()=>n)}es(e,t){let n={size:0,document:Sp.newInvalidDocument(t)};return Oy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ly(t))},(e,r)=>{n={document:this.ts(t,r),size:fy(r)}}).next(()=>n)}getEntries(e,t){let n=Nm();return this.ns(e,t,(e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)}).next(()=>n)}ss(e,t){let n=Nm(),r=new Lf(Ih.comparator);return this.ns(e,t,(e,t)=>{const s=this.ts(e,t);n=n.insert(e,s),r=r.insert(e,fy(t))}).next(()=>({documents:n,rs:r}))}ns(e,t,n){if(t.isEmpty())return zh.resolve();let r=new Vf(Uy);t.forEach(e=>r=r.add(e));const s=IDBKeyRange.bound(Ly(r.first()),Ly(r.last())),i=r.getIterator();let a=i.getNext();return Oy(e).X({index:"documentKeyIndex",range:s},(e,t,r)=>{const s=Ih.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Uy(a,s)<0;)n(a,null),a=i.getNext();a&&a.isEqual(s)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.G(Ly(a)):r.done()}).next(()=>{for(;a;)n(a,null),a=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n,r){const s=t.path,i=[s.popLast().toArray(),s.lastSegment(),bv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oy(e).j(IDBKeyRange.bound(i,a,!0)).next(e=>{let n=Nm();for(const s of e){const e=this.ts(Ih.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);e.isFoundDocument()&&(vm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let s=Nm();const i=Fy(t,n),a=Fy(t,Lh.max());return Oy(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(i,a,!0)},(e,t,n)=>{const i=this.ts(Ih.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);s=s.insert(i.key,i),s.size===r&&n.done()}).next(()=>s)}newChangeBuffer(e){return new Ry(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return My(e).get("remoteDocumentGlobalKey").next(e=>(ih(!!e),e))}Zn(e,t){return My(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=nv(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Ih.fromSegments(t.noDocument.path),r=kv(t.noDocument.readTime);n=Sp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return sh();{const e=Ih.fromSegments(t.unknownDocument.path),r=kv(t.unknownDocument.version);n=Sp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Nh(e[0],e[1]);return Sh.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Sh.min()))return e}return Sp.newInvalidDocument(e)}}function Py(e){return new Dy(e)}class Ry extends Ay{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new wm(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Vf((e,t)=>bh(e.canonicalString(),t.canonicalString()));return this.changes.forEach((s,i)=>{const a=this.us.get(s);if(t.push(this.os.removeEntry(e,s,a.readTime)),i.isValidDocument()){const o=xv(this.os.serializer,i);r=r.add(s.path.popLast());const l=fy(o);n+=l-a.size,t.push(this.os.addEntry(e,s,o))}else if(n-=a.size,this.trackRemovals){const n=xv(this.os.serializer,i.convertToNoDocument(Sh.min()));t.push(this.os.addEntry(e,s,n))}}),r.forEach(n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.os.updateMetadata(e,n)),zh.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(e=>{let{documents:t,rs:n}=e;return n.forEach((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function My(e){return Pf(e,"remoteDocumentGlobal")}function Oy(e){return Pf(e,"remoteDocumentsV14")}function Ly(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fy(e,t){const n=t.documentKey.path.toArray();return[e,bv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Uy(e,t){const n=e.path.toArray(),r=t.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=bh(n[i],r[i]),s)return s;return s=bh(n.length,r.length),s||(s=bh(n[n.length-2],r[r.length-2]),s||bh(n[n.length-1],r[r.length-1]))}class Vy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class By{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&rg(n.mutation,e,qf.empty(),Nh.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Dm()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dm();const r=Tm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=jm();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Tm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Dm()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Nm();const i=Im(),a=Im();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof og)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),rg(a.mutation,t,a.mutation.getFieldMask(),Nh.now())):i.set(t.key,qf.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Vy(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Im();let r=new Lf((e,t)=>e-t),s=Dm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||qf.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Dm()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Cm();l.forEach(e=>{if(!s.has(e)){const r=tg(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return zh.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Ih.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):zh.resolve(Tm());let a=-1,o=s;return i.next(t=>zh.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?zh.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,Dm())).next(e=>({batchId:a,changes:Em(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ih(t)).next(e=>{let t=jm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=jm();return this.indexManager.getCollectionParents(e,r).next(i=>zh.forEach(i,i=>{const a=function(e,t){return new rm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sp.newInvalidDocument(r)))});let n=jm();return e.forEach((e,s)=>{const i=r.get(e);void 0!==i&&rg(i.mutation,s,qf.empty(),Nh.now()),vm(t,s)&&(n=n.insert(e,s))}),n})}}class zy{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return zh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Gg(n.createTime)}),zh.resolve()}getNamedQuery(e,t){return zh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ev(e.bundledQuery),readTime:Gg(e.readTime)}}(t)),zh.resolve()}}class qy{constructor(){this.overlays=new Lf(Ih.comparator),this.ls=new Map}getOverlay(e,t){return zh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tm();return zh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),zh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),zh.resolve()}getOverlaysForCollection(e,t,n){const r=Tm(),s=t.length+1,i=new Ih(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return zh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Lf((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Tm(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Tm(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return zh.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mg(t,n));let s=this.ls.get(t);void 0===s&&(s=Dm(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}}class Ky{constructor(){this.fs=new Vf(Hy.ds),this.ws=new Vf(Hy._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Hy(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Hy(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Ih(new Eh([])),n=new Hy(t,e),r=new Hy(t,e+1),s=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),s.push(e.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ih(new Eh([])),n=new Hy(t,e),r=new Hy(t,e+1);let s=Dm();return this.ws.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Hy(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hy{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ih.comparator(e.key,t.key)||bh(e.As,t.As)}static _s(e,t){return bh(e.As,t.As)||Ih.comparator(e.key,t.key)}}class Gy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Vf(Hy.ds)}checkEmpty(e){return zh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fg(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Rs=this.Rs.add(new Hy(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return zh.resolve(i)}lookupMutationBatch(e,t){return zh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return zh.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return zh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return zh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hy(t,0),r=new Hy(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);s.push(t)}),zh.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vf(bh);return t.forEach(e=>{const t=new Hy(e,0),r=new Hy(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),zh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Ih.isDocumentKey(s)||(s=s.child(""));const i=new Hy(new Ih(s),0);let a=new Vf(bh);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},i),zh.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ih(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return zh.forEach(t.mutations,r=>{const s=new Hy(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Hy(t,0),r=this.Rs.firstAfterOrEqual(n);return zh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,zh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wy{constructor(e){this.Ds=e,this.docs=new Lf(Ih.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zh.resolve(n?n.document.mutableCopy():Sp.newInvalidDocument(t))}getEntries(e,t){let n=Nm();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sp.newInvalidDocument(e))}),zh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Nm();const i=t.path,a=new Ih(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Fh(Oh(a),n)<=0||(r.has(a.key)||vm(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return zh.resolve(s)}getAllFromCollectionGroup(e,t,n,r){sh()}Cs(e,t){return zh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Qy(this)}getSize(e){return zh.resolve(this.size)}}class Qy extends Ay{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),zh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Xy{constructor(e){this.persistence=e,this.xs=new wm(e=>$p(e),Jp),this.lastRemoteSnapshotVersion=Sh.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ky,this.targetCount=0,this.Ms=xy.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),zh.resolve()}getLastRemoteSnapshotVersion(e){return zh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),zh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),zh.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new xy(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,zh.resolve()}updateTargetData(e,t){return this.Fn(t),zh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,zh.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),zh.waitFor(s).next(()=>r)}getTargetCount(e){return zh.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return zh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),zh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),zh.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),zh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return zh.resolve(n)}containsKey(e,t){return zh.resolve(this.ks.containsKey(t))}}class Yy{constructor(e,t){this.$s={},this.overlays={},this.Os=new ef(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Xy(this),this.indexManager=new ty,this.remoteDocumentCache=function(e){return new Wy(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new yv(t),this.qs=new zy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Gy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){eh("MemoryPersistence","Starting transaction:",e);const r=new $y(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return zh.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class $y extends Vh{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Qs=new Ky,this.js=null}static zs(e){return new Jy(e)}get Ws(){if(this.js)return this.js;throw sh()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),zh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),zh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),zh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zh.forEach(this.Ws,n=>{const r=Ih.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Sh.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return zh.or([()=>zh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Zy{constructor(e){this.serializer=e}O(e,t,n,r){const s=new qh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cf,{unique:!0}),e.createObjectStore("documentMutations")}(e),ex(e),function(e){e.createObjectStore("remoteDocuments")}(e));let i=zh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ex(e)),i=i.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(s))),n<4&&r>=4&&(0!==n&&(i=i.next(()=>function(e,t){return t.store("mutations").j().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cf,{unique:!0});const r=t.store("mutations"),s=n.map(e=>r.put(e));return zh.waitFor(s)})}(e,s))),i=i.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(i=i.next(()=>this.Ys(s))),n<6&&r>=6&&(i=i.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),n<7&&r>=7&&(i=i.next(()=>this.Zs(s))),n<8&&r>=8&&(i=i.next(()=>this.ti(e,s))),n<9&&r>=9&&(i=i.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(i=i.next(()=>this.ei(s))),n<11&&r>=11&&(i=i.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(i=i.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Sf});t.createIndex("collectionPathOverlayIndex",jf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ef,{unique:!1})}(e)})),n<13&&r>=13&&(i=i.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ff});t.createIndex("documentKeyIndex",pf),t.createIndex("collectionGroupIndex",mf)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(i=i.next(()=>this.si(e,s))),n<15&&r>=15&&(i=i.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bf}).createIndex("sequenceNumberIndex",wf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:kf}).createIndex("documentKeyIndex",Nf,{unique:!1})}(e))),i}Xs(e){let t=0;return e.store("remoteDocuments").X((e,n)=>{t+=fy(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next(t=>zh.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next(n=>zh.forEach(n,n=>{ih(n.userId===t.userId);const r=Nv(this.serializer,n);return hy(e,t.userId,r).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.X((n,s)=>{const i=new Eh(n),a=function(e){return[0,sf(e)]}(i);r.push(t.get(a).next(n=>n?zh.resolve():(n=>t.put({targetId:0,path:sf(n),sequenceNumber:e.highestListenSequenceNumber}))(i)))}).next(()=>zh.waitFor(r))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xf});const n=t.store("collectionParents"),r=new ny,s=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:sf(r)})}};return t.store("remoteDocuments").X({Y:!0},(e,t)=>{const n=new Eh(e);return s(n.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},(e,t)=>{let[n,r,i]=e;const a=lf(r);return s(a.popLast())}))}ei(e){const t=e.store("targets");return t.X((e,n)=>{const r=Sv(n),s=jv(this.serializer,r);return t.put(s)})}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X((e,n)=>{const s=t.store("remoteDocumentsV14"),i=(a=n,a.document?new Ih(Eh.fromString(a.document.name).popFirst(5)):a.noDocument?Ih.fromSegments(a.noDocument.path):a.unknownDocument?Ih.fromSegments(a.unknownDocument.path):sh()).path.toArray();var a;const o={prefixPath:i.slice(0,i.length-2),collectionGroup:i[i.length-2],documentId:i[i.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(s.put(o))}).next(()=>zh.waitFor(r))}si(e,t){const n=t.store("mutations"),r=Py(this.serializer),s=new Yy(Jy.zs,this.serializer.fe);return n.j().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Dm();Nv(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),zh.forEach(n,(e,n)=>{const i=new Yd(n),a=Pv.de(this.serializer,i),o=s.getIndexManager(i),l=py.de(i,this.serializer,o,s.referenceDelegate);return new By(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Df(t,ef.ct),e).next()})})}}function ex(e){e.createObjectStore("targetDocuments",{keyPath:vf}).createIndex("documentTargetsIndex",yf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gf,{unique:!0}),e.createObjectStore("targetGlobal")}const tx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nx{constructor(e,t,n,r,s,i,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=s,this.window=i,this.document=a,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!nx.D())throw new lh(oh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iy(this,r),this.di=t+"main",this.serializer=new yv(o),this.wi=new Kh(this.di,this.ui,new Zy(this.serializer)),this.Bs=new by(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Py(this.serializer),this.qs=new _v,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&th("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lh(oh.FAILED_PRECONDITION,tx);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ef(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Wh(e))return eh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return eh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return rx(e).get("owner").next(e=>zh.resolve(this.Ri(e)))}Pi(e){return sx(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Pf(e,"clientMetadata");return t.j().next(e=>{const n=this.Si(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return zh.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?zh.resolve(!0):rx(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new lh(oh.FAILED_PRECONDITION,tx);return!1}}return!(!this.networkEnabled||!this.inForeground)||sx(e).j().next(e=>void 0===this.Si(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&eh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new Df(e,ef.ct);return this.Ai(t).next(()=>this.Pi(t))}),this.wi.close(),this.Mi()}Si(e,t){return e.filter(e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>sx(e).j().next(e=>this.Si(e,18e5).map(e=>e.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return py.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sy(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Pv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){eh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?Af:14===i?_f:13===i?If:12===i?Cf:11===i?Tf:void sh();var i;let a;return this.wi.runTransaction(e,r,s,r=>(a=new Df(r,this.Os?this.Os.next():ef.ct),"readwrite-primary"===t?this.Ti(a).next(e=>!!e||this.Ei(a)).next(t=>{if(!t)throw th("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new lh(oh.FAILED_PRECONDITION,Uh);return n(a)}).next(e=>this.vi(a).next(()=>e)):this.Oi(a).next(()=>n(a)))).then(e=>(a.raiseOnCommittedEvent(),e))}Oi(e){return rx(e).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lh(oh.FAILED_PRECONDITION,tx)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rx(e).put("owner",t)}static D(){return Kh.D()}Ai(e){const t=rx(e);return t.get("owner").next(e=>this.Ri(e)?(eh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):zh.resolve())}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(th("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return eh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return th("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){th("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function rx(e){return Pf(e,"owner")}function sx(e){return Pf(e,"clientMetadata")}function ix(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class ax{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Dm(),r=Dm();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ax(e,t.fromCache,n,r)}}class ox{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(am(t))return zh.resolve(null);let n=dm(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=fm(t,null,"F"),n=dm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=Dm(...r);return this.Ui.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.ji(t,r);return this.zi(t,i,s,n.readTime)?this.Ki(e,fm(t,null,"F")):this.Wi(e,i,t,n)}))})))}Gi(e,t,n,r){return am(t)||r.isEqual(Sh.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(s=>{const i=this.ji(t,s);return this.zi(t,i,n,r)?this.Qi(e,t):(Zd()<=xt.DEBUG&&eh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gm(t)),this.Wi(e,i,t,Mh(r,-1)))})}ji(e,t){let n=new Vf(xm(e));return t.forEach((t,r)=>{vm(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Zd()<=xt.DEBUG&&eh("QueryEngine","Using full collection scan to execute query:",gm(t)),this.Ui.getDocumentsMatchingQuery(e,t,Lh.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class lx{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Lf(bh),this.Yi=new wm(e=>$p(e),Jp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new By(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function cx(e,t,n,r){return new lx(e,t,n,r)}async function ux(e,t){const n=ah(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=Dm();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:s,addedBatchIds:i}))})})}function dx(e){const t=ah(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function hx(e,t,n){let r=Dm(),s=Dm();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Nm();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Sh.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):eh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{nr:r,sr:s}})}function fx(e,t){const n=ah(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function px(e,t){const n=ah(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(s=>s?(r=s,zh.resolve(r)):n.Bs.allocateTargetId(e).next(s=>(r=new vv(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function mx(e,t,n){const r=ah(e),s=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Wh(e))throw e;eh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function gx(e,t,n){const r=ah(e);let s=Sh.min(),i=Dm();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=ah(e),s=r.Yi.get(n);return void 0!==s?zh.resolve(r.Ji.get(s)):r.Bs.getTargetData(t,n)}(r,e,dm(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?s:Sh.min(),n?i:Dm())).next(e=>(vx(r,ym(t),e),{documents:e,ir:i})))}function vx(e,t,n){let r=e.Xi.get(t)||Sh.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class yx{constructor(){this.activeTargetIds=Rm()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.Hr=new yx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bx{Yr(e){}shutdown(){}}class wx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){eh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){eh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kx=null;function Nx(){return null===kx?kx=268435456+Math.round(2147483648*Math.random()):kx++,"0x"+kx.toString(16)}const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jx{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ex="WebChannelConnection";class Tx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const i=Nx(),a=this.To(e,t);eh("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={};return this.Eo(o,r,s),this.Ao(e,a,o,n).then(t=>(eh("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw nh("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,s,i){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Sx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=Nx();return new Promise((i,a)=>{const o=new Gd;o.setWithCredentials(!0),o.listenOnce(Bd.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Vd.NO_ERROR:const t=o.getResponseJson();eh(Ex,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Vd.TIMEOUT:eh(Ex,"RPC '".concat(e,"' ").concat(s," timed out")),a(new lh(oh.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const n=o.getStatus();if(eh(Ex,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(oh).indexOf(t)>=0?t:oh.UNKNOWN}(t.status);a(new lh(e,t.message))}else a(new lh(oh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new lh(oh.UNAVAILABLE,"Connection failed."));break;default:sh()}}finally{eh(Ex,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);eh(Ex,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Nx(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Fd(),a=Ud(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Kd({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");eh(Ex,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);let d=!1,h=!1;const f=new jx({ro:t=>{h?eh(Ex,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(eh(Ex,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),eh(Ex,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Hd.EventType.OPEN,()=>{h||eh(Ex,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Hd.EventType.CLOSE,()=>{h||(h=!0,eh(Ex,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Hd.EventType.ERROR,t=>{h||(h=!0,nh(Ex,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new lh(oh.UNAVAILABLE,"The operation could not be completed")))}),p(u,Hd.EventType.MESSAGE,t=>{var n;if(!h){const s=t.data[0];ih(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){eh(Ex,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=vg[e];if(void 0!==t)return bg(t)}(t),s=a.message;void 0===n&&(n=oh.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new lh(n,s)),u.close()}else eh(Ex,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f._o(s)}}),p(a,zd.STAT_EVENT,t=>{t.stat===qd.PROXY?eh(Ex,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===qd.NOPROXY&&eh(Ex,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Cx(){return"undefined"!=typeof window?window:null}function Ix(){return"undefined"!=typeof document?document:null}function _x(e){return new Bg(e,!0)}class Ax{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&eh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Dx{constructor(e,t,n,r,s,i,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ax(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===oh.RESOURCE_EXHAUSTED?(th(t.toString()),th("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===oh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new lh(oh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return eh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(eh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Px extends Dx{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sh()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(ih(void 0===t||"string"==typeof t),Hf.fromBase64String(t||"")):(ih(void 0===t||t instanceof Uint8Array),Hf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?oh.UNKNOWN:bg(e.code);return new lh(t,e.message||"")}(a);n=new Pg(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yg(e,r.document.name),i=Gg(r.document.updateTime),a=r.document.createTime?Gg(r.document.createTime):Sh.min(),o=new kp({mapValue:{fields:r.document.fields}}),l=Sp.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ag(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Yg(e,r.document),i=r.readTime?Gg(r.readTime):Sh.min(),a=Sp.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Ag([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Yg(e,r.document),i=r.removedTargetIds||[];n=new Ag([],i,s,null)}else{if(!("filter"in t))return sh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new gg(r,s),a=e.targetId;n=new Dg(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sh.min():t.readTime?Gg(t.readTime):Sh.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Zg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Zp(r)?{documents:iv(e,r)}:{query:av(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Kg(e,t.resumeToken);const r=zg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sh.min())>0){n.readTime=qg(e,t.snapshotVersion.toTimestamp());const r=zg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.Wo(t)}}class Rx extends Dx{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ih(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ih(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Gg(e.updateTime):Gg(t);return n.isEqual(Sh.min())&&(n=Gg(t)),new $m(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Gg(e.commitTime);return this.listener.cu(n,t)}return ih(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>rv(this.serializer,e))};this.Wo(t)}}class Mx extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new lh(oh.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,i]=r;return this.connection.Io(e,t,n,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lh(oh.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.vo(e,t,n,i,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lh(oh.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Ox{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(th(t),this.mu=!1):eh("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Lx{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Gx(this)&&(eh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ah(e);t.vu.add(4),await Ux(t),t.bu.set("Unknown"),t.vu.delete(4),await Fx(t)}(this))})}),this.bu=new Ox(n,r)}}async function Fx(e){if(Gx(e))for(const t of e.Ru)await t(!0)}async function Ux(e){for(const t of e.Ru)await t(!1)}function Vx(e,t){const n=ah(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Hx(n)?Kx(n):ub(n).Ko()&&zx(n,t))}function Bx(e,t){const n=ah(e),r=ub(n);n.Au.delete(t),r.Ko()&&qx(n,t),0===n.Au.size&&(r.Ko()?r.jo():Gx(n)&&n.bu.set("Unknown"))}function zx(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ub(e).su(t)}function qx(e,t){e.Vu.qt(t),ub(e).iu(t)}function Kx(e){e.Vu=new Mg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),ub(e).start(),e.bu.gu()}function Hx(e){return Gx(e)&&!ub(e).Uo()&&e.Au.size>0}function Gx(e){return 0===ah(e).vu.size}function Wx(e){e.Vu=void 0}async function Qx(e){e.Au.forEach((t,n)=>{zx(e,t)})}async function Xx(e,t){Wx(e),Hx(e)?(e.bu.Iu(t),Kx(e)):e.bu.set("Unknown")}async function Yx(e,t,n){if(e.bu.set("Online"),t instanceof Pg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){eh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $x(e,n)}else if(t instanceof Ag?e.Vu.Ht(t):t instanceof Dg?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Sh.min()))try{const t=await dx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Au.get(r);s&&e.Au.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Hf.EMPTY_BYTE_STRING,r.snapshotVersion)),qx(e,t);const s=new vv(r.target,t,n,r.sequenceNumber);zx(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){eh("RemoteStore","Failed to raise snapshot:",t),await $x(e,t)}}async function $x(e,t,n){if(!Wh(t))throw t;e.vu.add(1),await Ux(e),e.bu.set("Offline"),n||(n=()=>dx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{eh("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Fx(e)})}function Jx(e,t){return t().catch(n=>$x(e,n,t))}async function Zx(e){const t=ah(e),n=db(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;eb(t);)try{const e=await fx(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,tb(t,e)}catch(e){await $x(t,e)}nb(t)&&rb(t)}function eb(e){return Gx(e)&&e.Eu.length<10}function tb(e,t){e.Eu.push(t);const n=db(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function nb(e){return Gx(e)&&!db(e).Uo()&&e.Eu.length>0}function rb(e){db(e).start()}async function sb(e){db(e).hu()}async function ib(e){const t=db(e);for(const n of e.Eu)t.uu(n.mutations)}async function ab(e,t,n){const r=e.Eu.shift(),s=pg.from(r,t,n);await Jx(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Zx(e)}async function ob(e,t){t&&db(e).ou&&await async function(e,t){if(xg(n=t.code)&&n!==oh.ABORTED){const n=e.Eu.shift();db(e).Qo(),await Jx(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Zx(e)}var n}(e,t),nb(e)&&rb(e)}async function lb(e,t){const n=ah(e);n.asyncQueue.verifyOperationInProgress(),eh("RemoteStore","RemoteStore received new credentials");const r=Gx(n);n.vu.add(3),await Ux(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Fx(n)}async function cb(e,t){const n=ah(e);t?(n.vu.delete(2),await Fx(n)):t||(n.vu.add(2),await Ux(n),n.bu.set("Unknown"))}function ub(e){return e.Su||(e.Su=function(e,t,n){const r=ah(e);return r.fu(),new Px(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Qx.bind(null,e),ao:Xx.bind(null,e),nu:Yx.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Hx(e)?Kx(e):e.bu.set("Unknown")):(await e.Su.stop(),Wx(e))})),e.Su}function db(e){return e.Du||(e.Du=function(e,t,n){const r=ah(e);return r.fu(),new Rx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:sb.bind(null,e),ao:ob.bind(null,e),au:ib.bind(null,e),cu:ab.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Zx(e)):(await e.Du.stop(),e.Eu.length>0&&(eh("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class hb{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ch,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new hb(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lh(oh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fb(e,t){if(th("AsyncQueue","".concat(t,": ").concat(e)),Wh(e))return new lh(oh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class pb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ih.comparator(t.key,n.key):(e,t)=>Ih.comparator(e.key,t.key),this.keyedMap=jm(),this.sortedSet=new Lf(this.comparator)}static emptySet(e){return new pb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mb{constructor(){this.Cu=new Lf(Ih.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):sh():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class gb{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new gb(e,t,pb.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vb{constructor(){this.Nu=void 0,this.listeners=[]}}class yb{constructor(){this.queries=new wm(e=>mm(e),pm),this.onlineState="Unknown",this.ku=new Set}}async function xb(e,t){const n=ah(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new vb),s)try{i.Nu=await n.onListen(r)}catch(e){const n=fb(e,"Initialization of query '".concat(gm(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.Mu(n.onlineState),i.Nu&&t.$u(i.Nu)&&Nb(n)}async function bb(e,t){const n=ah(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function wb(e,t){const n=ah(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(s)&&(r=!0);t.Nu=s}}r&&Nb(n)}function kb(e,t,n){const r=ah(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Nb(e){e.ku.forEach(e=>{e.next()})}class Sb{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=gb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class jb{constructor(e){this.key=e}}class Eb{constructor(e){this.key=e}}class Tb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dm(),this.mutatedKeys=Dm(),this.tc=xm(e),this.ec=new pb(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new mb,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=vm(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ec:i,ic:n,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sh()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const i=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==s.length||o?{snapshot:new gb(this.query,e.ec,r,s,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dm(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Eb(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new jb(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Dm();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return gb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ib{constructor(e){this.key=e,this.fc=!1}}class _b{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new wm(e=>mm(e),pm),this._c=new Map,this.mc=new Set,this.gc=new Lf(Ih.comparator),this.yc=new Map,this.Ic=new Ky,this.Tc={},this.Ec=new Map,this.Ac=xy.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ab(e,t){const n=Xb(e);let r,s;const i=n.wc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const e=await px(n.localStore,dm(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await Db(n,t,r,"current"===i,e.resumeToken),n.isPrimaryClient&&Vx(n.remoteStore,e)}return s}async function Db(e,t,n,r,s){e.Rc=(t,n,r)=>async function(e,t,n,r){let s=t.view.sc(n);s.zi&&(s=await gx(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i);return qb(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const i=await gx(e.localStore,t,!0),a=new Tb(t,i.ir),o=a.sc(i.documents),l=_g.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);qb(e,n,c.cc);const u=new Cb(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Pb(e,t){const n=ah(e),r=n.wc.get(t),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(e=>!pm(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mx(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bx(n.remoteStore,r.targetId),Bb(n,r.targetId)}).catch(Bh)):(Bb(n,r.targetId),await mx(n.localStore,r.targetId,!0))}async function Rb(e,t){const n=ah(e);try{const e=await function(e,t){const n=ah(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Hf.EMPTY_BYTE_STRING,Sh.min()).withLastLimboFreeSnapshotVersion(Sh.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Bs.updateTargetData(e,c))});let o=Nm(),l=Dm();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(hx(e,i,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Sh.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return zh.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(ih(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ih(r.fc):e.removedDocuments.size>0&&(ih(r.fc),r.fc=!1))}),await Gb(n,e,t)}catch(e){await Bh(e)}}function Mb(e,t,n){const r=ah(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const s=r.view.Mu(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=ah(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.Mu(t)&&(r=!0)}),r&&Nb(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ob(e,t,n){const r=ah(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.yc.get(t),i=s&&s.key;if(i){let e=new Lf(Ih.comparator);e=e.insert(i,Sp.newNoDocument(i,Sh.min()));const n=Dm().add(i),s=new Ig(Sh.min(),new Map,new Lf(bh),e,n);await Rb(r,s),r.gc=r.gc.remove(i),r.yc.delete(t),Hb(r)}else await mx(r.localStore,t,!1).then(()=>Bb(r,t,n)).catch(Bh)}async function Lb(e,t){const n=ah(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ah(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=zh.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);ih(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Dm();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Vb(n,r,null),Ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gb(n,e)}catch(e){await Bh(e)}}async function Fb(e,t,n){const r=ah(e);try{const e=await function(e,t){const n=ah(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ih(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Vb(r,t,n),Ub(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gb(r,e)}catch(n){await Bh(n)}}function Ub(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Vb(e,t,n){const r=ah(e);let s=r.Tc[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function Bb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||zb(e,t)})}function zb(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Bx(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Hb(e))}function qb(e,t,n){for(const r of n)r instanceof jb?(e.Ic.addReference(r.key,t),Kb(e,r)):r instanceof Eb?(eh("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||zb(e,r.key)):sh()}function Kb(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(eh("SyncEngine","New document in limbo: "+n),e.mc.add(r),Hb(e))}function Hb(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Ih(Eh.fromString(t)),r=e.Ac.next();e.yc.set(r,new Ib(n)),e.gc=e.gc.insert(n,r),Vx(e.remoteStore,new vv(dm(im(n.path)),r,"TargetPurposeLimboResolution",ef.ct))}}async function Gb(e,t,n){const r=ah(e),s=[],i=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=ax.Li(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.dc.nu(s),await async function(e,t){const n=ah(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>zh.forEach(t,t=>zh.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>zh.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Wh(e))throw e;eh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,s)}}}(r.localStore,i))}async function Wb(e,t){const n=ah(e);if(!n.currentUser.isEqual(t)){eh("SyncEngine","User change. New user:",t.toKey());const e=await ux(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new lh(oh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gb(n,e.er)}}function Qb(e,t){const n=ah(e),r=n.yc.get(t);if(r&&r.fc)return Dm().add(r.key);{let e=Dm();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Xb(e){const t=ah(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ob.bind(null,t),t.dc.nu=wb.bind(null,t.eventManager),t.dc.Pc=kb.bind(null,t.eventManager),t}function Yb(e){const t=ah(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fb.bind(null,t),t}class $b{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_x(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cx(this.persistence,new ox,e.initialUser,this.serializer)}createPersistence(e){return new Yy(Jy.zs,this.serializer)}createSharedClientState(e){return new xx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jb extends $b{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await Yb(this.Vc.syncEngine),await Zx(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return cx(this.persistence,new ox,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Ey(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Zh(t,this.persistence);return new Jh(e.asyncQueue,n)}createPersistence(e){const t=ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dy.withCacheSize(this.cacheSizeBytes):dy.DEFAULT;return new nx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cx(),Ix(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xx}}class Zb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Mb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wb.bind(null,this.syncEngine),await cb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yb}createDatastore(e){const t=_x(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Tx(r));var r;return function(e,t,n,r){return new Mx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>Mb(this.syncEngine,e,0),i=wx.D()?new wx:new bx,new Lx(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new _b(e,t,n,r,s,i);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ah(e);eh("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Ux(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):th("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tw{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yd.UNAUTHENTICATED,this.clientId=xh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{eh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(eh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lh(oh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ch;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(uO){const n=fb(uO,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function nw(e,t){e.asyncQueue.verifyOperationInProgress(),eh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ux(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function rw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await iw(e);eh("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>lb(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>lb(t.remoteStore,n)),e._onlineComponents=t}function sw(e){return"FirebaseError"===e.name?e.code===oh.FAILED_PRECONDITION||e.code===oh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function iw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){eh("FirestoreClient","Using user provided OfflineComponentProvider");try{await nw(e,e._uninitializedComponentsProvider._offline)}catch(uO){const n=uO;if(!sw(n))throw n;nh("Error using user provided cache. Falling back to memory cache: "+n),await nw(e,new $b)}}else eh("FirestoreClient","Using default OfflineComponentProvider"),await nw(e,new $b);return e._offlineComponents}async function aw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(eh("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(e,e._uninitializedComponentsProvider._online)):(eh("FirestoreClient","Using default OnlineComponentProvider"),await rw(e,new Zb))),e._onlineComponents}function ow(e){return aw(e).then(e=>e.syncEngine)}async function lw(e){const t=await aw(e),n=t.eventManager;return n.onListen=Ab.bind(null,t.syncEngine),n.onUnlisten=Pb.bind(null,t.syncEngine),n}function cw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ch;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new ew({next:i=>{t.enqueueAndForget(()=>bb(e,a));const o=i.docs.has(n);!o&&i.fromCache?s.reject(new lh(oh.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?s.reject(new lh(oh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),a=new Sb(im(n.path),i,{includeMetadataChanges:!0,Ku:!0});return xb(e,a)}(await lw(e),e.asyncQueue,t,n,r)),r.promise}function uw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ch;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new ew({next:n=>{t.enqueueAndForget(()=>bb(e,a)),n.fromCache&&"server"===r.source?s.reject(new lh(oh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Sb(n,i,{includeMetadataChanges:!0,Ku:!0});return xb(e,a)}(await lw(e),e.asyncQueue,t,n,r)),r.promise}function dw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hw=new Map;function fw(e,t,n){if(!n)throw new lh(oh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pw(e){if(!Ih.isDocumentKey(e))throw new lh(oh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mw(e){if(Ih.isDocumentKey(e))throw new lh(oh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":sh()}function vw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lh(oh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gw(e);throw new lh(oh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class yw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new lh(oh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lh(oh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new lh(oh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lh(oh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new lh(oh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new lh(oh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class xw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lh(oh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lh(oh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dh;switch(e.type){case"firstParty":return new mh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lh(oh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hw.get(e);t&&(eh("ComponentProvider","Removing Datastore"),hw.delete(e),t.terminate())}(this),Promise.resolve()}}class bw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bw(this.firestore,e,this._key)}}class ww{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ww(this.firestore,e,this._query)}}class kw extends ww{constructor(e,t,n){super(e,t,im(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bw(this.firestore,null,new Ih(e))}withConverter(e){return new kw(this.firestore,e,this._path)}}function Nw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ft(e),fw("collection","path",t),e instanceof xw){const n=Eh.fromString(t,...r);return mw(n),new kw(e,null,n)}{if(!(e instanceof bw||e instanceof kw))throw new lh(oh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Eh.fromString(t,...r));return mw(n),new kw(e.firestore,null,n)}}function Sw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ft(e),1===arguments.length&&(t=xh.A()),fw("doc","path",t),e instanceof xw){const n=Eh.fromString(t,...r);return pw(n),new bw(e,null,new Ih(n))}{if(!(e instanceof bw||e instanceof kw))throw new lh(oh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Eh.fromString(t,...r));return pw(n),new bw(e.firestore,e instanceof kw?e.converter:null,new Ih(n))}}class jw{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ax(this,"async_queue_retry"),this.Xc=()=>{const e=Ix();e&&eh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Ix();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ix();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ch;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Wh(e))throw e;eh("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw th("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=hb.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&sh()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ew(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Tw extends xw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Iw(this),this._firestoreClient.terminate()}}function Cw(e){return e._firestoreClient||Iw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Iw(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Zf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,dw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new tw(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=s.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function _w(e,t,n){const r=new ch;return e.asyncQueue.enqueue(async()=>{try{await nw(e,n),await rw(e,t),r.resolve()}catch(e){const n=e;if(!sw(n))throw n;nh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}}).then(()=>r.promise)}function Aw(e){if(e._initialized||e._terminated)throw new lh(oh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dw(Hf.fromBase64String(e))}catch(e){throw new lh(oh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Dw(Hf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new lh(oh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ch(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rw{constructor(e){this._methodName=e}}class Mw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lh(oh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lh(oh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bh(this._lat,e._lat)||bh(this._long,e._long)}}const Ow=/^__.*__$/;class Lw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new og(e,this.data,this.fieldMask,t,this.fieldTransforms):new ag(e,this.data,t,this.fieldTransforms)}}class Fw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new og(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sh()}}class Vw{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rk(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Uw(this.ca)&&Ow.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_x(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vw({ca:e,methodName:t,ga:n,path:Ch.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zw(e){const t=e._freezeSettings(),n=_x(e._databaseId);return new Bw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qw(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(i.merge||i.mergeFields?2:0,t,n,s);Zw("Data must be an object, but it was:",a,r);const o=$w(r,a);let l,c;if(i.merge)l=new qf(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=ek(t,r,n);if(!a.contains(s))throw new lh(oh.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));sk(e,s)||e.push(s)}l=new qf(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Lw(new kp(o),l,c)}class Kw extends Rw{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kw}}class Hw extends Rw{_toFieldTransform(e){return new Ym(e.path,new zm)}isEqual(e){return e instanceof Hw}}class Gw extends Rw{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Wm(e.serializer,Lm(e.serializer,this.Ia));return new Ym(e.path,t)}isEqual(e){return this===e}}function Ww(e,t,n,r){const s=e.ya(1,t,n);Zw("Data must be an object, but it was:",s,r);const i=[],a=kp.empty();Mf(r,(e,r)=>{const o=nk(t,e,n);r=ft(r);const l=s.da(o);if(r instanceof Kw)i.push(o);else{const e=Yw(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new qf(i);return new Fw(a,o,s.fieldTransforms)}function Qw(e,t,n,r,s,i){const a=e.ya(1,t,n),o=[ek(t,r,n)],l=[s];if(i.length%2!=0)throw new lh(oh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(ek(t,i[h])),l.push(i[h+1]);const c=[],u=kp.empty();for(let h=o.length-1;h>=0;--h)if(!sk(c,o[h])){const e=o[h];let t=l[h];t=ft(t);const n=a.da(e);if(t instanceof Kw)c.push(e);else{const r=Yw(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new qf(c);return new Fw(u,d,a.fieldTransforms)}function Xw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yw(n,e.ya(r?4:3,t))}function Yw(e,t){if(Jw(e=ft(e)))return Zw("Unsupported field value:",t,e),$w(e,t);if(e instanceof Rw)return function(e,t){if(!Uw(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Yw(s,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ft(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nh.fromDate(e);return{timestampValue:qg(t.serializer,n)}}if(e instanceof Nh){const n=new Nh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qg(t.serializer,n)}}if(e instanceof Mw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dw)return{bytesValue:Kg(t.serializer,e._byteString)};if(e instanceof bw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Wg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(gw(e)))}(e,t)}function $w(e,t){const n={};return Of(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mf(e,(e,r)=>{const s=Yw(r,t.ha(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Jw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nh||e instanceof Mw||e instanceof Dw||e instanceof bw||e instanceof Rw)}function Zw(e,t,n){if(!Jw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gw(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function ek(e,t,n){if((t=ft(t))instanceof Pw)return t._internalPath;if("string"==typeof t)return nk(e,t);throw rk("Field path arguments must be of type string or ",e,!1,void 0,n)}const tk=new RegExp("[~\\*/\\[\\]]");function nk(e,t,n){if(t.search(tk)>=0)throw rk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Pw(...t.split("."))._internalPath}catch(r){throw rk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rk(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new lh(oh.INVALID_ARGUMENT,o+e+l)}function sk(e,t){return e.some(e=>e.isEqual(t))}class ik{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ok("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ak extends ik{data(){return super.data()}}function ok(e,t){return"string"==typeof t?nk(e,t):t instanceof Pw?t._internalPath:t._delegate._internalPath}function lk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lh(oh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ck{}class uk extends ck{}function dk(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof ck&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof fk).length,n=e.filter(e=>e instanceof hk).length;if(t>1||t>0&&n>0)throw new lh(oh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class hk extends uk{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hk(e,t,n)}_apply(e){const t=this._parse(e);return yk(e._query,t),new ww(e.firestore,e.converter,hm(e._query,t))}_parse(e){const t=zw(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new lh(oh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){vk(a,i);const t=[];for(const n of a)t.push(gk(r,e,n));o={arrayValue:{values:t}}}else o=gk(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||vk(a,i),o=Xw(n,"where",a,"in"===i||"not-in"===i);return Ap.create(s,i,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fk extends ck{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fk(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Dp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)yk(n,s),n=hm(n,s)}(e._query,t),new ww(e.firestore,e.converter,hm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pk extends uk{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new lh(oh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lh(oh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Cp(t,n);return function(e,t){if(null===om(e)){const n=lm(e);null!==n&&xk(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ww(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new rm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function mk(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ok("orderBy",e);return pk._create(n,t)}function gk(e,t,n){if("string"==typeof(n=ft(n))){if(""===n)throw new lh(oh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cm(t)&&-1!==n.indexOf("/"))throw new lh(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Eh.fromString(n));if(!Ih.isDocumentKey(r))throw new lh(oh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return up(e,new Ih(r))}if(n instanceof bw)return up(e,n._key);throw new lh(oh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gw(n),"."))}function vk(e,t){if(!Array.isArray(e)||0===e.length)throw new lh(oh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function yk(e,t){if(t.isInequality()){const n=lm(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new lh(oh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const s=om(e);null!==s&&xk(e,r,s)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new lh(oh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lh(oh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function xk(e,t,n){if(!n.isEqual(t))throw new lh(oh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class bk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Mf(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Mw(Qf(e.latitude),Qf(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=$f(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jf(e));default:return null}}convertTimestamp(e){const t=Wf(e);return new Nh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Eh.fromString(e);ih(gv(n));const r=new ep(n.get(1),n.get(3)),s=new Ih(n.popFirst(5));return r.isEqual(t)||th("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function wk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class kk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nk extends ik{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Sk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ok("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sk extends Nk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class jk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Sk(this._firestore,this._userDataWriter,n.key,n,new kk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lh(oh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Sk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new kk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Sk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Ek(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ek(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sh()}}class Tk extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bw(this.firestore,null,t)}}function Ck(e){e=vw(e,ww);const t=vw(e.firestore,Tw),n=Cw(t),r=new Tk(t);return lk(e._query),uw(n,e._query).then(n=>new jk(t,r,e,n))}function Ik(e,t,n){e=vw(e,bw);const r=vw(e.firestore,Tw),s=wk(e.converter,t,n);return Rk(r,[qw(zw(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Jm.none())])}function _k(e,t,n){e=vw(e,bw);const r=vw(e.firestore,Tw),s=zw(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=ft(t))||t instanceof Pw?Qw(s,"updateDoc",e._key,t,n,o):Ww(s,"updateDoc",e._key,t),Rk(r,[i.toMutation(e._key,Jm.exists(!0))])}function Ak(e){return Rk(vw(e.firestore,Tw),[new dg(e._key,Jm.none())])}function Dk(e,t){const n=vw(e.firestore,Tw),r=Sw(e),s=wk(e.converter,t);return Rk(n,[qw(zw(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Jm.exists(!1))]).then(()=>r)}function Pk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s,i,a;e=ft(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Ew(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Ew(n[l])){const e=n[l];n[l]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof bw)d=vw(e.firestore,Tw),h=im(e._key.path),u={next:t=>{n[l]&&n[l](Mk(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=vw(e,ww);d=vw(t.firestore,Tw),h=t._query;const r=new Tk(d);u={next:e=>{n[l]&&n[l](new jk(d,r,t,e))},error:n[l+1],complete:n[l+2]},lk(e._query)}return function(e,t,n,r){const s=new ew(r),i=new Sb(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>xb(await lw(e),i)),()=>{s.Dc(),e.asyncQueue.enqueueAndForget(async()=>bb(await lw(e),i))}}(Cw(d),h,c,u)}function Rk(e,t){return function(e,t){const n=new ch;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Yb(e);try{const e=await function(e,t){const n=ah(e),r=Nh.now(),s=t.reduce((e,t)=>e.add(t.key),Dm());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Nm(),l=Dm();return n.Zi.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=sg(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new og(e.key,t,Np(t.value.mapValue),Jm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Em(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Lf(bh)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gb(r,e.changes),await Zx(r.remoteStore)}catch(e){const t=fb(e,"Failed to persist write");n.reject(t)}}(await ow(e),t,n)),n.promise}(Cw(e),t)}function Mk(e,t,n){const r=n.docs.get(t._key),s=new Tk(e);return new Nk(e,s,t._key,r,new kk(n.hasPendingWrites,n.fromCache),t.converter)}function Ok(){return new Hw("serverTimestamp")}function Lk(e){return new Gw("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$d=e}(_n),En(new pt("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Tw(new fh(e.getProvider("auth-internal")),new vh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lh(oh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pn(Xd,"3.13.0",e),Pn(Xd,"3.13.0","esm2017")}();const Fk="firebasestorage.googleapis.com",Uk="storageBucket";class Vk extends nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(qk(e),"Firebase Storage: ".concat(t," (").concat(qk(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vk.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Bk,zk;function qk(e){return"storage/"+e}function Kk(){return new Vk(Bk.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hk(){return new Vk(Bk.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gk(){return new Vk(Bk.CANCELED,"User canceled the upload/download.")}function Wk(){return new Vk(Bk.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qk(e){return new Vk(Bk.INVALID_ARGUMENT,e)}function Xk(){return new Vk(Bk.APP_DELETED,"The Firebase app was deleted.")}function Yk(e,t){return new Vk(Bk.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function $k(e){throw new Vk(Bk.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Bk||(Bk={}));class Jk{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Jk.makeFromUrl(e,t)}catch(uO){return new Jk(e,"")}if(""===n.path)return n;throw r=e,new Vk(Bk.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Fk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new Jk(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Vk(Bk.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Zk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function eN(e){return"string"===typeof e||e instanceof String}function tN(e){return nN()&&e instanceof Blob}function nN(){return"undefined"!==typeof Blob&&!Je()}function rN(e,t,n,r){if(r<t)throw Qk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Qk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function sN(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function iN(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function aN(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zk||(zk={}));class oN{constructor(e,t,n,r,s,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new lN(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===zk.NO_ERROR,s=n.getStatus();if(!t||aN(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===zk.ABORT;return void e(!1,new lN(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new lN(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(uO){r(uO)}else if(null!==s){const e=Kk();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Xk():Gk())}else{r(Hk())}};this.canceled_?t(0,new lN(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout(()=>{s=null,e(f,l())},t)}function h(){i&&clearTimeout(i)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lN{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function cN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function uN(){const e=cN();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(nN())return new Blob(n);throw new Vk(Bk.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function dN(e){if("undefined"===typeof atob)throw t="base-64",new Vk(Bk.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const hN="raw",fN="base64",pN="base64url",mN="data_url";class gN{constructor(e,t){this.data=e,this.contentType=t||null}}function vN(e,t){switch(e){case hN:return new gN(yN(t));case fN:case pN:return new gN(xN(e,t));case mN:return new gN(function(e){const t=new bN(e);return t.base64?xN(fN,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(uO){throw Yk(mN,"Malformed data URL.")}return yN(t)}(t.rest)}(t),new bN(t).contentType)}throw Kk()}function yN(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xN(e,t){switch(e){case fN:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Yk(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case pN:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Yk(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dN(t)}catch(uO){if(uO.message.includes("polyfill"))throw uO;throw Yk(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bN{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yk(mN,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class wN{constructor(e,t){let n=0,r="";tN(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(tN(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new wN(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new wN(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(nN()){const e=t.map(e=>e instanceof wN?e.data_:e);return new wN(uN.apply(null,e))}{const e=t.map(e=>eN(e)?vN(hN,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let s=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]}),new wN(r,!0)}}uploadData(){return this.data_}}function kN(e){let t;try{t=JSON.parse(e)}catch(uO){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function NN(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function SN(e,t){return t}class jN{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||SN}}let EN=null;function TN(){if(EN)return EN;const e=[];e.push(new jN("bucket")),e.push(new jN("generation")),e.push(new jN("metageneration")),e.push(new jN("name","fullPath",!0));const t=new jN("name");t.xform=function(e,t){return function(e){return!eN(e)||e.length<2?e:NN(e)}(t)},e.push(t);const n=new jN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new jN("timeCreated")),e.push(new jN("updated")),e.push(new jN("md5Hash",null,!0)),e.push(new jN("cacheControl",null,!0)),e.push(new jN("contentDisposition",null,!0)),e.push(new jN("contentEncoding",null,!0)),e.push(new jN("contentLanguage",null,!0)),e.push(new jN("contentType",null,!0)),e.push(new jN("metadata","customMetadata",!0)),EN=e,EN}function CN(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new Jk(n,r);return t._makeStorageReference(s)}})}(r,e),r}function IN(e,t,n){const r=kN(t);if(null===r)return null;return CN(e,r,n)}function _N(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class AN{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function DN(e){if(!e)throw Kk()}function PN(e,t){return function(n,r){const s=IN(e,r,t);return DN(null!==s),s}}function RN(e,t){return function(n,r){const s=IN(e,r,t);return DN(null!==s),function(e,t,n,r){const s=kN(t);if(null===s)return null;if(!eN(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const s=e.bucket,i=e.fullPath;return sN("/b/"+a(s)+"/o/"+a(i),n,r)+iN({alt:"media",token:t})})[0]}(s,r,e.host,e._protocol)}}function MN(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Vk(Bk.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Vk(Bk.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Vk(Bk.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Vk(Bk.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ON(e){const t=MN(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new Vk(Bk.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function LN(e,t,n){const r=sN(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new AN(r,"GET",PN(e,n),s);return i.errorHandler=ON(t),i}function FN(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function UN(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=FN(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_N(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=wN.getBlob(c,r,u);if(null===d)throw Wk();const h={name:l.fullPath},f=sN(i,e.host,e._protocol),p=e.maxUploadRetryTime,m=new AN(f,"POST",PN(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=MN(t),m}class VN{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function BN(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(uO){DN(!1)}return DN(!!n&&-1!==(t||["active"]).indexOf(n)),n}const zN=262144;function qN(e,t,n,r,s,i,a,o){const l=new VN(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Vk(Bk.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;s>0&&(u=Math.min(u,s));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw Wk();const g=t.maxUploadRetryTime,v=new AN(n,"POST",function(e,n){const s=BN(e,["active","final"]),a=l.current+u,o=r.size();let c;return c="final"===s?PN(t,i)(e,n):null,new VN(a,o,"final"===s,c)},g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=MN(e),v}const KN="running",HN="paused",GN="success",WN="canceled",QN="error";function XN(e){switch(e){case"running":case"pausing":case"canceling":return KN;case"paused":return HN;case"success":return GN;case"canceled":return WN;default:return QN}}class YN{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function $N(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(()=>e(...n))}}class JN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zk.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zk.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zk.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw $k("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $k("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $k("cannot .getStatus() before sending");try{return this.xhr_.status}catch(uO){return-1}}getResponse(){if(!this.sent_)throw $k("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $k("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ZN extends JN{initXhr(){this.xhr_.responseType="text"}}function eS(){return new ZN}class tS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=TN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Bk.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(aN(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Hk()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Bk.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a=FN(t,r,s),o={name:a.fullPath},l=sN(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=_N(a,n),d=e.maxUploadRetryTime,h=new AN(l,"POST",function(e){let t;BN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(uO){DN(!1)}return DN(eN(t)),t},d);return h.urlParams=o,h.headers=c,h.body=u,h.errorHandler=MN(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,eS,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const s=e.maxUploadRetryTime,i=new AN(n,"POST",function(e){const t=BN(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(uO){DN(!1)}n||DN(!1);const s=Number(n);return DN(!isNaN(s)),new VN(s,r.size(),"final"===t)},s);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=MN(t),i}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,eS,t,n);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=zN*this._chunkMultiplier,t=new VN(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,s)=>{let i;try{i=qN(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(uO){return this._error=uO,void this._transition("error")}const a=this._ref.storage._makeRequest(i,eS,r,s,!1);this._request=a,a.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(zN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=LN(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,eS,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=UN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,eS,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Gk(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=XN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const s=new YN(t||void 0,n||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(XN(this._state)){case GN:$N(this._resolve.bind(null,this.snapshot))();break;case WN:case QN:$N(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XN(this._state)){case KN:case HN:e.next&&$N(e.next.bind(e,this.snapshot))();break;case GN:e.complete&&$N(e.complete.bind(e))();break;default:e.error&&$N(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class nS{constructor(e,t){this._service=e,this._location=t instanceof Jk?t:Jk.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nS(e,t)}get root(){const e=new Jk(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NN(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Jk(this._location.bucket,e);return new nS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Vk(Bk.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function rS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=sN(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new AN(r,"GET",RN(e,n),s);return i.errorHandler=ON(t),i}(e.storage,e._location,TN());return e.storage.makeRequestWithTokens(t,eS).then(e=>{if(null===e)throw new Vk(Bk.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function sS(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Jk(e._location.bucket,n);return new nS(e.storage,r)}function iS(e,t){if(e instanceof lS){const n=e;if(null==n._bucket)throw new Vk(Bk.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Uk+"' property when initializing the app?");const r=new nS(n,n._bucket);return null!=t?iS(r,t):r}return void 0!==t?sS(e,t):e}function aS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lS)return new nS(e,t);throw Qk("To use ref(service, url), the first argument must be a Storage instance.")}return iS(e,t)}function oS(e,t){const n=null===t||void 0===t?void 0:t[Uk];return null==n?null:Jk.makeFromBucketSpec(n,e)}class lS{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Fk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Jk.makeFromBucketSpec(r,this._host):oS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Jk.makeFromBucketSpec(this._url,e):this._bucket=oS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nS(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Zk(Xk());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=iN(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new oN(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cS="@firebase/storage",uS="0.11.2",dS="storage";function hS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new tS(e,new wN(t),n)}(e=ft(e),t,n)}function fS(e){return rS(e=ft(e))}function pS(e,t){return aS(e=ft(e),t)}function mS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new lS(r,s,i,n,_n)}En(new pt(dS,mS,"PUBLIC").setMultipleInstances(!0)),Pn(cS,uS,""),Pn(cS,uS,"esm2017");const gS=An({apiKey:"AIzaSyCyH8h0OqHmI3vXsW_ee1qugqCAHRiL3vk",authDomain:"soccer-app-e81d0.firebaseapp.com",projectId:"soccer-app-e81d0",storageBucket:"soccer-app-e81d0.appspot.com",messagingSenderId:"199836947592",appId:"1:199836947592:web:8388db5a944f98b6d57b3d",measurementId:"G-JQZVTJX6TJ"}),vS=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();e=ft(e);const t=Tn(e,Ya);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Tn(e,Ya);if(n.isInitialized()){const e=n.getImmediate();if(it(t,n.getOptions()))return e;throw Za.create("already-initialized")}const r=n.initialize({options:t})}(e)}(gS),function(e,t){const n="string"==typeof e?e:t||"(default)",r=Tn("object"==typeof e?e:Dn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ge("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=vw(e,xw))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==a&&nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yd.MOCK_USER;else{t=Ye(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new lh(oh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yd(i)}e._authCredentials=new hh(new uh(t,n))}}(r,...e)}return r}(gS)),yS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn();const t=Tn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(it(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Yn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fi,persistence:[$s,Rs,Os]}),r=Qe("authTokenSyncURL");if(r){const e=(s=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>zi)return;const r=null===t||void 0===t?void 0:t.token;qi!==r&&(qi=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ft(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){ft(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var s;const i=He("auth");return i&&rs(n,"http://".concat(i)),n}(gS),xS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn(),t=arguments.length>1?arguments[1]:void 0;e=ft(e);const n=Tn(e,dS).getImmediate({identifier:t}),r=Ge("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:Ye(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(gS);(function(e,t){Aw(e=vw(e,Tw));const n=Cw(e);if(n._uninitializedComponentsProvider)throw new lh(oh.FAILED_PRECONDITION,"SDK cache is already specified.");nh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),s=new Zb;return _w(n,s,new Jb(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))})(vS).catch(e=>{"failed-precondition"===e.code?console.warn("Firebase persistence failed: Multiple tabs open"):"unimplemented"===e.code&&console.warn("Firebase persistence not supported")});var bS=n(579);const wS=(0,t.createContext)();function kS(){return(0,t.useContext)(wS)}function NS(e){let{children:n}=e;const[r,s]=(0,t.useState)(),[i,a]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=function(e,t,n,r){return ft(e).onAuthStateChanged(t,n,r)}(yS,e=>{s(e),a(!1)});return e},[]);const o={currentUser:r,isAdmin:!!r,signup:function(e,t){return async function(e,t,n){var r;const s=ts(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=s._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Jr(s,i,"signUpPassword");a=ks(s,e)}else a=ks(s,i).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Jr(s,i,"signUpPassword");return ks(s,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await Ns._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}(yS,e,t)},login:function(e,t){return function(e,t,n){return _s(ft(e),ms.credential(t,n))}(yS,e,t)},logout:function(){return function(e){return ft(e).signOut()}(yS)}};return(0,bS.jsx)(wS.Provider,{value:o,children:!i&&n})}const SS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jS=(()=>new Set(SS))(),ES=(e,t,n)=>n>t?t:n<e?e:n,TS={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},CS=It(It({},TS),{},{transform:e=>ES(0,1,e)}),IS=It(It({},TS),{},{default:1}),_S=e=>Math.round(1e5*e)/1e5,AS=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const DS=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,PS=(e,t)=>n=>Boolean("string"===typeof n&&DS.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),RS=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,a,o]=r.match(AS);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},MS=It(It({},TS),{},{transform:e=>Math.round((e=>ES(0,255,e))(e))}),OS={test:PS("rgb","red"),parse:RS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+MS.transform(t)+", "+MS.transform(n)+", "+MS.transform(r)+", "+_S(CS.transform(s))+")"}};const LS={test:PS("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:OS.transform},FS=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),US=FS("deg"),VS=FS("%"),BS=FS("px"),zS=FS("vh"),qS=FS("vw"),KS=(()=>It(It({},VS),{},{parse:e=>VS.parse(e)/100,transform:e=>VS.transform(100*e)}))(),HS={test:PS("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+VS.transform(_S(n))+", "+VS.transform(_S(r))+", "+_S(CS.transform(s))+")"}},GS={test:e=>OS.test(e)||LS.test(e)||HS.test(e),parse:e=>OS.test(e)?OS.parse(e):HS.test(e)?HS.parse(e):LS.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?OS.transform(e):HS.transform(e),getAnimatableNone:e=>{const t=GS.parse(e);return t.alpha=0,GS.transform(t)}},WS=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const QS="number",XS="color",YS=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function $S(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(YS,e=>(GS.test(e)?(r.color.push(i),s.push(XS),n.push(GS.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(QS),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:s}}function JS(e){return $S(e).values}function ZS(e){const{split:t,types:n}=$S(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===QS?_S(e[i]):t===XS?GS.transform(e[i]):e[i]}return s}}const ej=e=>"number"===typeof e?0:GS.test(e)?GS.getAnimatableNone(e):e;const tj={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(AS))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(WS))||void 0===n?void 0:n.length)||0)>0},parse:JS,createTransformer:ZS,getAnimatableNone:function(e){const t=JS(e);return ZS(e)(t.map(ej))}},nj=new Set(["brightness","contrast","saturate","opacity"]);function rj(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(AS)||[];if(!r)return e;const s=n.replace(r,"");let i=nj.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const sj=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ij=It(It({},tj),{},{getAnimatableNone:e=>{const t=e.match(sj);return t?t.map(rj).join(" "):e}}),aj=It(It({},TS),{},{transform:Math.round}),oj=It(It({borderWidth:BS,borderTopWidth:BS,borderRightWidth:BS,borderBottomWidth:BS,borderLeftWidth:BS,borderRadius:BS,borderTopLeftRadius:BS,borderTopRightRadius:BS,borderBottomRightRadius:BS,borderBottomLeftRadius:BS,width:BS,maxWidth:BS,height:BS,maxHeight:BS,top:BS,right:BS,bottom:BS,left:BS,inset:BS,insetBlock:BS,insetBlockStart:BS,insetBlockEnd:BS,insetInline:BS,insetInlineStart:BS,insetInlineEnd:BS,padding:BS,paddingTop:BS,paddingRight:BS,paddingBottom:BS,paddingLeft:BS,paddingBlock:BS,paddingBlockStart:BS,paddingBlockEnd:BS,paddingInline:BS,paddingInlineStart:BS,paddingInlineEnd:BS,margin:BS,marginTop:BS,marginRight:BS,marginBottom:BS,marginLeft:BS,marginBlock:BS,marginBlockStart:BS,marginBlockEnd:BS,marginInline:BS,marginInlineStart:BS,marginInlineEnd:BS,fontSize:BS,backgroundPositionX:BS,backgroundPositionY:BS},{rotate:US,rotateX:US,rotateY:US,rotateZ:US,scale:IS,scaleX:IS,scaleY:IS,scaleZ:IS,skew:US,skewX:US,skewY:US,distance:BS,translateX:BS,translateY:BS,translateZ:BS,x:BS,y:BS,z:BS,perspective:BS,transformPerspective:BS,opacity:CS,originX:KS,originY:KS,originZ:BS}),{},{zIndex:aj,fillOpacity:CS,strokeOpacity:CS,numOctaves:aj}),lj=It(It({},oj),{},{color:GS,backgroundColor:GS,outlineColor:GS,fill:GS,stroke:GS,borderColor:GS,borderTopColor:GS,borderRightColor:GS,borderBottomColor:GS,borderLeftColor:GS,filter:ij,WebkitFilter:ij}),cj=e=>lj[e],uj=()=>({x:{min:0,max:0},y:{min:0,max:0}}),dj=e=>Boolean(e&&e.getVelocity),hj=new Set(["width","height","top","left","right","bottom",...SS]),fj=e=>t=>t.test(e),pj=[TS,BS,VS,US,qS,zS,{test:e=>"auto"===e,parse:e=>e}],mj=e=>pj.find(fj(e));function gj(e,t){return t?"".concat(e,". For more information and steps for solving, visit https://motion.dev/troubleshooting/").concat(t):e}var vj;let yj=()=>{},xj=()=>{};"undefined"!==typeof process&&"production"!==(null===(vj={NODE_ENV:"production",PUBLIC_URL:"/goal.kashmir",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===vj?void 0:vj.NODE_ENV)&&(yj=(e,t,n)=>{e||"undefined"===typeof console||console.warn(gj(t,n))},xj=(e,t,n)=>{if(!e)throw new Error(gj(t,n))});const bj=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),wj=e=>t=>"string"===typeof t&&t.startsWith(e),kj=wj("--"),Nj=wj("var(--"),Sj=e=>!!Nj(e)&&jj.test(e.split("/*")[0].trim()),jj=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Ej(e){return"string"===typeof e&&e.split("/*")[0].includes("var(--")}const Tj=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Cj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;xj(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[r,s]=function(e){const t=Tj.exec(e);if(!t)return[,];const[,n,r,s]=t;return["--".concat(null!==n&&void 0!==n?n:r),s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return bj(e)?parseFloat(e):e}return Sj(s)?Cj(s,t,n+1):s}const Ij=e=>180*e/Math.PI,_j=e=>{const t=Ij(Math.atan2(e[1],e[0]));return Dj(t)},Aj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_j,rotateZ:_j,skewX:e=>Ij(Math.atan(e[1])),skewY:e=>Ij(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Dj=e=>((e%=360)<0&&(e+=360),e),Pj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Mj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pj,scaleY:Rj,scale:e=>(Pj(e)+Rj(e))/2,rotateX:e=>Dj(Ij(Math.atan2(e[6],e[5]))),rotateY:e=>Dj(Ij(Math.atan2(-e[2],e[0]))),rotateZ:_j,rotate:_j,skewX:e=>Ij(Math.atan(e[4])),skewY:e=>Ij(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Oj(e){return e.includes("scale")?1:0}function Lj(e,t){if(!e||"none"===e)return Oj(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,s;if(n)r=Mj,s=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Aj,s=t}if(!s)return Oj(t);const i=r[t],a=s[1].split(",").map(Fj);return"function"===typeof i?i(a):a[i]}function Fj(e){return parseFloat(e.trim())}const Uj=e=>e===TS||e===BS,Vj=new Set(["x","y","z"]),Bj=SS.filter(e=>!Vj.has(e));const zj={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Lj(n,"x")},y:(e,t)=>{let{transform:n}=t;return Lj(n,"y")}};zj.translateX=zj.x,zj.translateY=zj.y;const qj=e=>e,Kj={},Hj=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Gj={value:null,addProjectionMetrics:null};function Wj(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Hj.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&Gj.value&&Gj.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=a,m=()=>{const i=Kj.useManualTiming?s.timestamp:performance.now();n=!1,Kj.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Hj.reduce((t,i)=>{const o=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(m)),o.schedule(t,i,a)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Hj.length;t++)a[Hj[t]].cancel(e)},state:s,steps:a}}const{schedule:Qj,cancel:Xj,state:Yj,steps:$j}=Wj("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:qj,!0),Jj=new Set;let Zj=!1,eE=!1,tE=!1;function nE(){if(eE){const e=Array.from(Jj).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Bj.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,s]=t;null===(n=e.getValue(r))||void 0===n||n.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eE=!1,Zj=!1,Jj.forEach(e=>e.complete(tE)),Jj.clear()}function rE(){Jj.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eE=!0)})}class sE{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Jj.add(this),Zj||(Zj=!0,Qj.read(rE),Qj.resolveKeyframes(nE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jj.delete(this)}cancel(){"scheduled"===this.state&&(Jj.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const iE=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function aE(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||iE(e))}function oE(e,t){let n=cj(e);return n!==ij&&(n=tj),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const lE=new Set(["auto","none","0"]);class cE extends sE{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Sj(n))){const r=Cj(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!hj.has(n)||2!==e.length)return;const[r,s]=e,i=mj(r),a=mj(s);if(Ej(r)!==Ej(s)&&zj[n])this.needsMeasurement=!0;else if(i!==a)if(Uj(i)&&Uj(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else zj[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||aE(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!lE.has(t)&&$S(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=oE(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zj[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=zj[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}function uE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const dE=e=>1e3*e,hE=e=>e/1e3;function fE(e,t){-1===e.indexOf(t)&&e.push(t)}function pE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mE{constructor(){this.subscriptions=[]}add(e){return fE(this.subscriptions,e),()=>pE(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gE(e){let t;return()=>(void 0===t&&(t=e()),t)}const vE=gE(()=>void 0!==window.ScrollTimeline),yE=e=>null!==e;function xE(e,t,n){let{repeat:r,repeatType:s="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(yE),o=i<0||r&&"loop"!==s&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}class bE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const wE={layout:0,mainThread:0,waapi:0},kE=e=>Array.isArray(e)&&"number"===typeof e[0],NE={};function SE(e,t){const n=gE(e);return()=>{var e;return null!==(e=NE[t])&&void 0!==e?e:n()}}const jE=SE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(uO){return!1}return!0},"linearEasing"),EE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},TE=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},CE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:TE([0,.65,.55,1]),circOut:TE([.55,0,1,.45]),backIn:TE([.31,.01,.66,-.59]),backOut:TE([.33,1.53,.69,.99])};function IE(e,t){return e?"function"===typeof e?jE()?EE(e,t):"ease-out":kE(e)?TE(e):Array.isArray(e)?e.map(e=>IE(e,t)||CE.easeOut):CE[e]:void 0}function _E(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=IE(o,s);Array.isArray(d)&&(u.easing=d),Gj.value&&wE.waapi++;const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return Gj.value&&f.finished.finally(()=>{wE.waapi--}),f}function AE(e){return"function"===typeof e&&"applyToOptions"in e}const DE=["type"];class PE extends bE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,xj("string"!==typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function(e){let{type:t}=e,n=uE(e,DE);return AE(t)&&jE()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(s=n.ease)&&void 0!==s||(n.ease="easeOut"),n);var r,s}(e);this.animation=_E(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=xE(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(uO){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e;const t=null===(e=this.options)||void 0===e?void 0:e.element;var n,r;!this.isPseudoElement&&null!==t&&void 0!==t&&t.isConnected&&(null===(n=(r=this.animation).commitStyles)||void 0===n||n.call(r))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return hE(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hE(e)}get time(){return hE(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=dE(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){var e;return null!==(e=this.manualStartTime)&&void 0!==e?e:Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&vE()?(this.animation.timeline=t,qj):n(this)}}const RE=new Set(["opacity","clipPath","filter","transform"]),{schedule:ME,cancel:OE}=Wj(queueMicrotask,!1);let LE;function FE(){LE=void 0}const UE={now:()=>(void 0===LE&&UE.set(Yj.isProcessing||Kj.useManualTiming?Yj.timestamp:performance.now()),LE),set:e=>{LE=e,queueMicrotask(FE)}};function VE(e,t){return t?e*(1e3/t):0}const BE={current:void 0};class zE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=UE.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=UE.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new mE);const n=this.events[e].add(t);return"change"===e?()=>{n(),Qj.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return BE.current&&BE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=UE.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return VE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qE(e,t){return new zE(e,t)}const KE=[...pj,GS,tj],HE=new WeakMap;function GE(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function WE(e){return"string"===typeof e||Array.isArray(e)}const QE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XE=["initial",...QE];function YE(e){return GE(e.animate)||XE.some(t=>WE(e[t]))}function $E(e){return Boolean(YE(e)||e.variants)}const JE={current:null},ZE={current:!1},eT="undefined"!==typeof window;function tT(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function nT(e,t,n,r){if("function"===typeof t){const[s,i]=tT(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=tT(r);t=t(void 0!==n?n:e.custom,s,i)}return t}const rT=["willChange"],sT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let iT={};function aT(e){iT=e}class oT{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:a,visualState:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=sE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=UE.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Qj.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget=It({},c),this.initialValues=n.initial?It({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=YE(n),this.isVariantNode=$E(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,f=uE(d,rT);for(const p in f){const e=f[p];void 0!==c[p]&&dj(e)&&e.set(c[p])}}mount(e){var t,n;if(this.hasBeenMounted)for(const s in this.initialValues){var r;null===(r=this.values.get(s))||void 0===r||r.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s]}this.current=e,HE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(ZE.current||function(){if(ZE.current=!0,eT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>JE.current=e.matches;e.addEventListener("change",t),t()}else JE.current=!1}(),this.shouldReduceMotion=JE.current),this.shouldSkipAnimations=null!==(t=this.skipAnimationsConfig)&&void 0!==t&&t,null===(n=this.parent)||void 0===n||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Xj(this.notifyUpdate),Xj(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&RE.has(e)&&this.current instanceof HTMLElement){const{factory:n,keyframes:r,times:s,ease:i,duration:a}=t.accelerate,o=new PE({element:this.current,name:e,keyframes:r,times:s,ease:i,duration:dE(a)}),l=n(o);return void this.valueSubscriptions.set(e,()=>{l(),o.cancel()})}const n=jS.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Qj.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;"undefined"!==typeof window&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in iT){const t=iT[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<sT.length;n++){const t=sT[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(dj(s))e.addValue(r,s);else if(dj(i))e.addValue(r,qE(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,qE(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=qE(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(bj(r)||iE(r))?r=parseFloat(r):!(e=>KE.find(fj(e)))(r)&&tj.test(t)&&(r=oE(e,t)),this.setBaseTarget(e,dj(r)?r.get():r)),dj(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const s=nT(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);s&&(n=s[e])}if(t&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||dj(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new mE),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){ME.render(this.render)}}class lT extends oT{constructor(){super(...arguments),this.KeyframeResolver=cE}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dj(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function cT(e){return e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))}const uT=(e,t)=>t&&"number"===typeof e?t.transform(e):e,dT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hT=SS.length;function fT(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(jS.has(l))a=!0;else if(kj(l))s[l]=e;else{const t=uT(e,oj[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<hT;i++){const a=SS[i],o=e[a];if(void 0===o)continue;let l=!0;if("number"===typeof o)l=o===(a.startsWith("scale")?1:0);else{const e=parseFloat(o);l=a.startsWith("scale")?1===e:0===e}if(!l||n){const e=uT(o,oj[a]);l||(s=!1,r+="".concat(dT[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const pT={offset:"stroke-dashoffset",array:"stroke-dasharray"},mT={offset:"strokeDashoffset",array:"strokeDasharray"};const gT=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"],vT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yT(e,t,n,r,s){let{attrX:i,attrY:a,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=t;if(fT(e,uE(t,gT),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;var f,p;(d.transform&&(h.transform=d.transform,delete d.transform),h.transform||d.transformOrigin)&&(h.transformOrigin=null!==(f=d.transformOrigin)&&void 0!==f?f:"50% 50%",delete d.transformOrigin);h.transform&&(h.transformBox=null!==(p=null===s||void 0===s?void 0:s.transformBox)&&void 0!==p?p:"fill-box",delete d.transformBox);for(const m of vT)void 0!==d[m]&&(h[m]=d[m],delete d[m]);void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==o&&(d.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?pT:mT;e[i.offset]="".concat(-r),e[i.array]="".concat(t," ").concat(n)}(d,l,c,u,!1)}const xT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bT=e=>"string"===typeof e&&"svg"===e.toLowerCase();function wT(e,t,n,r){let{style:s,vars:i}=t;const a=e.style;let o;for(o in s)a[o]=s[o];for(o in null===r||void 0===r||r.applyProjectionStyles(a,n),i)a.setProperty(o,i[o])}function kT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const NT={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!BS.test(e))return e;e=parseFloat(e)}const n=kT(e,t.target.x),r=kT(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},ST=(e,t,n)=>e+(t-e)*n,jT={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=tj.parse(e);if(i.length>5)return s;const a=tj.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=ST(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),a(i)}};const ET={borderRadius:It(It({},NT),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:NT,borderTopRightRadius:NT,borderBottomLeftRadius:NT,borderBottomRightRadius:NT,boxShadow:jT};function TT(e,t){let{layout:n,layoutId:r}=t;return jS.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ET[e]||"opacity"===e)}function CT(e,t,n){const r=e.style,s=null===t||void 0===t?void 0:t.style,i={};if(!r)return i;for(const o in r){var a;(dj(r[o])||s&&dj(s[o])||TT(o,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(i[o]=r[o])}return i}function IT(e,t,n){const r=CT(e,t,n);for(const s in e)if(dj(e[s])||dj(t[s])){r[-1!==SS.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}class _T extends lT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=uj}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(jS.has(t)){const e=cj(t);return e&&e.default||0}return t=xT.has(t)?t:cT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return IT(e,t,n)}build(e,t,n){yT(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){wT(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(xT.has(s)?s:cT(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=bT(e.tagName),super.mount(e)}}function AT(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function DT(e){return void 0===e||1===e}function PT(e){let{scale:t,scaleX:n,scaleY:r}=e;return!DT(t)||!DT(n)||!DT(r)}function RT(e){return PT(e)||MT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function MT(e){return OT(e.x)||OT(e.y)}function OT(e){return e&&"0%"!==e}function LT(e,t,n){return n+t*(e-n)}function FT(e,t,n,r,s){return void 0!==s&&(e=LT(e,s,r)),LT(e,n,r)+t}function UT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=FT(e.min,t,n,r,s),e.max=FT(e.max,t,n,r,s)}function VT(e,t){let{x:n,y:r}=t;UT(e.x,n.translate,n.scale,n.originPoint),UT(e.y,r.translate,r.scale,r.originPoint)}const BT=.999999999999,zT=1.0000000000001;function qT(e,t){e.min=e.min+t,e.max=e.max+t}function KT(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;UT(e,t,n,ST(e.min,e.max,s),r)}function HT(e,t){KT(e.x,t.x,t.scaleX,t.scale,t.originX),KT(e.y,t.y,t.scaleY,t.scale,t.originY)}function GT(e,t){return AT(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}class WT extends lT{constructor(){super(...arguments),this.type="html",this.renderInstance=wT}readValueFromInstance(e,t){var n,r;if(jS.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Oj(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Lj(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),s=(kj(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof s?s.trim():s}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return GT(e,n)}build(e,t,n){fT(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return CT(e,t,n)}}const QT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XT(e){return"string"===typeof e&&!e.includes("-")&&!!(QT.indexOf(e)>-1||/[A-Z]/.test(e))}const YT=(e,n)=>{var r;return(null!==(r=n.isSVG)&&void 0!==r?r:XT(e))?new _T(n):new WT(n,{allowProjection:e!==t.Fragment})},$T=(0,t.createContext)({}),JT=(0,t.createContext)({strict:!1}),ZT=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),eC=(0,t.createContext)({});function tC(e){const{initial:n,animate:r}=function(e,t){if(YE(e)){const{initial:t,animate:n}=e;return{initial:!1===t||WE(t)?t:void 0,animate:WE(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(eC));return(0,t.useMemo)(()=>({initial:n,animate:r}),[nC(n),nC(r)])}function nC(e){return Array.isArray(e)?e.join(" "):e}const rC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sC(e,t,n){for(const r in t)dj(t[r])||TT(r,n)||(e[r]=t[r])}function iC(e,n){const r={};return sC(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return fT(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function aC(e,t){const n={},r=iC(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const oC=()=>It(It({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function lC(e,n,r,s){const i=(0,t.useMemo)(()=>{const t=oC();return yT(t,n,bT(s),e.transformTemplate,e.style),It(It({},t.attrs),{},{style:It({},t.style)})},[n]);if(e.style){const t={};sC(t,e.style,e),i.style=It(It({},t),i.style)}return i}const cC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function uC(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cC.has(e)}let dC=e=>!uC(e);try{"function"===typeof(hC=require("@emotion/is-prop-valid").default)&&(dC=e=>e.startsWith("on")?!uC(e):hC(e))}catch(dO){}var hC;function fC(e,n,r,s,i){let{latestValues:a}=s,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;const c=((null!==l&&void 0!==l?l:XT(e))?lC:aC)(n,a,i,e),u=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(dC(s)||!0===n&&uC(s)||!t&&!uC(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof e,o),d=e!==t.Fragment?It(It(It({},u),c),{},{ref:r}):{},{children:h}=n,f=(0,t.useMemo)(()=>dj(h)?h.get():h,[h]);return(0,t.createElement)(e,It(It({},d),{},{children:f}))}function pC(e){return dj(e)?e.get():e}const mC=(0,t.createContext)(null);function gC(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const vC=["transitionEnd","transition"];function yC(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=pC(i[h]);let{initial:a,animate:o}=e;const l=YE(e),c=$E(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!GE(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=nT(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=uE(r,vC);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const xC=e=>(n,r)=>{const s=(0,t.useContext)(eC),i=(0,t.useContext)(mC),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i}=e;return{latestValues:yC(t,n,r,s),renderState:i()}}(e,n,s,i);return r?a():gC(a)},bC=xC({scrapeMotionValuesFromProps:CT,createRenderState:rC}),wC=xC({scrapeMotionValuesFromProps:IT,createRenderState:oC}),kC="undefined"!==typeof window,NC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let SC=!1;function jC(){return function(){if(SC)return;const e={};for(const t in NC)e[t]={isEnabled:e=>NC[t].some(t=>!!e[t])};aT(e),SC=!0}(),iT}const EC=Symbol.for("motionComponentSymbol");function TC(e,n,r){const s=(0,t.useRef)(r);(0,t.useInsertionEffect)(()=>{s.current=r});const i=(0,t.useRef)(null);return(0,t.useCallback)(t=>{var r;t&&(null===(r=e.onMount)||void 0===r||r.call(e,t));n&&(t?n.mount(t):n.unmount());const a=s.current;if("function"===typeof a)if(t){const e=a(t);"function"===typeof e&&(i.current=e)}else i.current?(i.current(),i.current=null):a(t);else a&&(a.current=t)},[n])}const CC="data-"+cT("framerAppearId"),IC=(0,t.createContext)({});function _C(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const AC=kC?t.useLayoutEffect:t.useEffect;function DC(e,n,r,s,i,a){var o,l,c,u;const{visualElement:d}=(0,t.useContext)(eC),h=(0,t.useContext)(JT),f=(0,t.useContext)(mC),p=(0,t.useContext)(ZT),m=p.reducedMotion,g=p.skipAnimations,v=(0,t.useRef)(null),y=(0,t.useRef)(!1);s=s||h.renderer,!v.current&&s&&(v.current=s(e,{visualState:n,parent:d,props:r,presenceContext:f,blockInitialAnimation:!!f&&!1===f.initial,reducedMotionConfig:m,skipAnimations:g,isSVG:a}),y.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const x=v.current,b=(0,t.useContext)(IC);!x||x.projection||!i||"html"!==x.type&&"svg"!==x.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:PC(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&_C(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(v.current,r,i,b);const w=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{x&&w.current&&x.update(r,f)});const k=r[CC],N=(0,t.useRef)(Boolean(k)&&!(null!==(o=(l=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(l,k))&&(null===(c=(u=window).MotionHasOptimisedAnimation)||void 0===c?void 0:c.call(u,k)));return AC(()=>{y.current=!0,x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),N.current&&x.animationState&&x.animationState.animateChanges())}),(0,t.useEffect)(()=>{x&&(!N.current&&x.animationState&&x.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,k)}),N.current=!1),x.enteringChildren=void 0)}),x}function PC(e){if(e)return!1!==e.options.allowProjection?e.projection:PC(e.parent)}function RC(e){var n,r;let{forwardMotionProps:s=!1,type:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){const t=jC();for(const n in e)t[n]=It(It({},t[n]),e[n]);aT(t)}(a);const l=i?"svg"===i:XT(e),c=l?wC:bC;function u(n,r){let i;const a=It(It(It({},(0,t.useContext)(ZT)),n),{},{layoutId:MC(n)}),{isStatic:u}=a,d=tC(n),h=c(n,u);if(!u&&kC){!function(){(0,t.useContext)(JT).strict;0}();const n=function(e){const t=jC(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s=It(It({},n),r);return{MeasureLayout:null!==n&&void 0!==n&&n.isEnabled(e)||null!==r&&void 0!==r&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(a);i=n.MeasureLayout,d.visualElement=DC(e,h,a,o,n.ProjectionNode,l)}return(0,bS.jsxs)(eC.Provider,{value:d,children:[i&&d.visualElement?(0,bS.jsx)(i,It({visualElement:d.visualElement},a)):null,fC(e,n,TC(h,d.visualElement,r),h,u,s,l)]})}u.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const d=(0,t.forwardRef)(u);return d[EC]=e,d}function MC(e){let{layoutId:n}=e;const r=(0,t.useContext)($T).id;return r&&void 0!==n?r+"-"+n:n}function OC(e,t){if("undefined"===typeof Proxy)return RC;const n=new Map,r=(n,r)=>RC(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(s,i)=>"create"===i?r:(n.has(i)||n.set(i,RC(i,void 0,e,t)),n.get(i))})}class LC{constructor(e){this.isMounted=!1,this.node=e}update(){}}function FC(e,t,n){const r=e.getProps();return nT(r,t,void 0!==n?n:r.custom,e)}const UC=["inherit"];function VC(e,t){if(null!==e&&void 0!==e&&e.inherit&&t){const{inherit:n}=e,r=uE(e,UC);return It(It({},t),r)}return e}function BC(e,t){var n,r;const s=null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e;return s!==e?VC(s,e):s}const zC=e=>Array.isArray(e),qC=["transitionEnd","transition"];function KC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qE(n))}function HC(e){return zC(e)?e[e.length-1]||0:e}function GC(e,t){const n=e.getValue("willChange");if(r=n,Boolean(dj(r)&&r.add))return n.add(t);if(!n&&Kj.WillChange){const n=new Kj.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function WC(e){return e.props[CC]}const QC=(e,t)=>n=>t(e(n)),XC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(QC)};function YC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $C(e,t){return n=>n>0?t:e}const JC=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ZC=[LS,OS,HS];function eI(e){const t=(e=>ZC.find(t=>t.test(e)))(e);if(yj(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(t))return!1;let n=t.parse(e);return t===HS&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=YC(s,e,t+1/3),a=YC(s,e,t),o=YC(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(n)),n}const tI=(e,t)=>{const n=eI(e),r=eI(t);if(!n||!r)return $C(e,t);const s=It({},n);return e=>(s.red=JC(n.red,r.red,e),s.green=JC(n.green,r.green,e),s.blue=JC(n.blue,r.blue,e),s.alpha=ST(n.alpha,r.alpha,e),OS.transform(s))},nI=new Set(["none","hidden"]);function rI(e,t){return n=>ST(e,t,n)}function sI(e){return"number"===typeof e?rI:"string"===typeof e?Sj(e)?$C:GS.test(e)?tI:oI:Array.isArray(e)?iI:"object"===typeof e?GS.test(e)?tI:aI:$C}function iI(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>sI(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function aI(e,t){const n=It(It({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=sI(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const oI=(e,t)=>{const n=tj.createTransformer(t),r=$S(e),s=$S(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?nI.has(e)&&!s.values.length||nI.has(t)&&!r.values.length?function(e,t){return nI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):XC(iI(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var s;const a=t.types[i],o=e.indexes[a][r[a]],l=null!==(s=e.values[o])&&void 0!==s?s:0;n[i]=l,r[a]++}return n}(r,s),s.values),n):(yj(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),$C(e,t))};function lI(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ST(e,t,n);return sI(e)(e,t)}const cI=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Qj.update(t,e)},stop:()=>Xj(t),now:()=>Yj.isProcessing?Yj.timestamp:UE.now()}},uI=2e4;function dI(e){let t=0;let n=e.next(t);for(;!n.done&&t<uI;)t+=50,n=e.next(t);return t>=uI?1/0:t}function hI(e,t,n){const r=Math.max(t-5,0);return VE(n-e(r),t-r)}const fI={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pI=.001;function mI(e){let t,n,{duration:r=fI.duration,bounce:s=fI.bounce,velocity:i=fI.velocity,mass:a=fI.mass}=e;yj(r<=dE(fI.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-s;o=ES(fI.minDamping,fI.maxDamping,o),r=ES(fI.minDuration,fI.maxDuration,hE(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=vI(e,o),l=Math.exp(-n);return pI-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=vI(Math.pow(e,2),o);return(-t(e)+pI>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<gI;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=dE(r),isNaN(l))return{stiffness:fI.stiffness,damping:fI.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const gI=12;function vI(e,t){return e*Math.sqrt(1-t*t)}const yI=["duration","bounce"],xI=["stiffness","damping","mass"];function bI(e,t){return t.some(t=>void 0!==e[t])}function wI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fI.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fI.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=It({velocity:fI.velocity,stiffness:fI.stiffness,damping:fI.damping,mass:fI.mass,isResolvedFromDuration:!1},e);if(!bI(e,xI)&&bI(e,yI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*ES(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=It(It({},t),{},{mass:fI.mass,stiffness:s,damping:i})}else{const n=mI(e);t=It(It(It({},t),n),{},{mass:fI.mass}),t.isResolvedFromDuration=!0}return t}(It(It({},n),{},{velocity:-hE(n.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-i,v=hE(Math.sqrt(l/u)),y=Math.abs(g)<5;let x;if(r||(r=y?fI.restSpeed.granular:fI.restSpeed.default),s||(s=y?fI.restDelta.granular:fI.restDelta.default),m<1){const e=vI(v,m);x=t=>{const n=Math.exp(-m*v*t);return a-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>a-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:f&&d||null,next:e=>{const t=x(e);if(f)o.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?dE(p):hI(x,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(dI(b),uI),t=EE(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function kI(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===o?g:o(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/s),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,k;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,k=wI({keyframes:[f.value,p(f.value)],velocity:hI(x,e,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),f)}}}wI.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(It(It({},e),{},{keyframes:[0,t]})),r=Math.min(dI(n),uI);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:hE(r)}}(e,100,wI);return e.ease=t.ease,e.duration=dE(t.duration),e.type="keyframes",e};const NI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function SI(e,t,n,r){if(e===t&&n===r)return qj;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=NI(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:NI(s(e),t,r)}const jI=SI(.42,0,1,1),EI=SI(0,0,.58,1),TI=SI(.42,0,.58,1),CI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,II=e=>t=>1-e(1-t),_I=SI(.33,1.53,.69,.99),AI=II(_I),DI=CI(AI),PI=e=>(e*=2)<1?.5*AI(e):.5*(2-Math.pow(2,-10*(e-1))),RI=e=>1-Math.sin(Math.acos(e)),MI=II(RI),OI=CI(RI),LI={linear:qj,easeIn:jI,easeInOut:TI,easeOut:EI,circIn:RI,circInOut:OI,circOut:MI,backIn:AI,backInOut:DI,backOut:_I,anticipate:PI},FI=e=>{if(kE(e)){xj(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return SI(t,n,r,s)}return"string"===typeof e?(xj(void 0!==LI[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),LI[e]):e},UI=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function VI(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(xj(i===t.length,"Both input and output ranges must be the same length","range-length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||Kj.mix||lI,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||qj:t;n=XC(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=UI(e[r],e[r+1],n);return o[r](s)};return n?t=>c(ES(e[0],e[i-1],t)):c}function BI(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=UI(0,t,r);e.push(ST(n,1,s))}}(t,e.length-1),t}function zI(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(FI):FI(s),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:BI(n),t),l=VI(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||TI).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const qI={decay:kI,inertia:kI,tween:zI,keyframes:zI,spring:wI};function KI(e){"string"===typeof e.type&&(e.type=qI[e.type])}const HI=e=>e/100;class GI extends bE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==UE.now()&&this.tick(UE.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},wE.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;KI(e);const{type:t=zI,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:a}=e;const o=t||zI;o!==zI&&"number"!==typeof a[0]&&(this.mixKeyframes=XC(HI,lI(a[0],a[1])),a=[0,100]);const l=o(It(It({},e),{},{keyframes:a}));"mirror"===s&&(this.mirroredGenerator=o(It(It({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=dI(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(x=i)),y=ES(0,1,n)*a}const b=v?{done:!1,value:c[0]}:x.next(y);s&&(b.value=s(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&f!==kI&&(b.value=xE(c,this.options,m,this.speed)),p&&p(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return hE(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hE(e)}get time(){return hE(this.currentTime)}set time(e){var t;e=dE(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(UE.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hE(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=cI,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(UE.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,wE.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const WI={anticipate:PI,backInOut:DI,circInOut:OI};function QI(e){"string"===typeof e.ease&&e.ease in WI&&(e.ease=WI[e.ease])}const XI=["motionValue","onUpdate","onComplete","element"];class YI extends PE{constructor(e){QI(e),KI(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const t=this.options,{motionValue:n,onUpdate:r,onComplete:s,element:i}=t,a=uE(t,XI);if(!n)return;if(void 0!==e)return void n.set(e);const o=new GI(It(It({},a),{},{autoplay:!1})),l=Math.max(10,UE.now()-this.startTime),c=ES(0,10,l-10);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const $I=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!tj.test(e)&&"0"!==e||e.startsWith("url(")));function JI(e){e.duration=0,e.type="keyframes"}const ZI=new Set(["opacity","clipPath","filter","transform"]),e_=gE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const t_=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class n_ extends bE{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d}=e,h=uE(e,t_);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=UE.now();const f=It({autoplay:n,delay:r,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d},h),p=(null===d||void 0===d?void 0:d.KeyframeResolver)||sE;this.keyframeResolver=new p(l,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),c,u,d),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){var s;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=UE.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=$I(s,t),o=$I(i,t);return yj(a===o,"You are trying to animate ".concat(t,' from "').concat(s,'" to "').concat(i,'". "').concat(a?i:s,'" is not an animatable value.'),"value-not-animatable"),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||AE(n))&&r)}(e,i,a,o)||(!Kj.instantAnimations&&l||null===u||void 0===u||u(xE(e,n,t)),e[0]=e[e.length-1],JI(n),n.repeat=0);const d=It(It({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!c&&function(e){var t;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return e_()&&r&&ZI.has(r)&&("transform"!==r||!c)&&!l&&!s&&"mirror"!==i&&0!==a&&"inertia"!==o}(d),f=null===(s=d.motionValue)||void 0===s||null===(s=s.owner)||void 0===s?void 0:s.current,p=h?new YI(It(It({},d),{},{element:f})):new GI(d);p.finished.then(()=>{this.notifyFinished()}).catch(qj),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),tE=!0,rE(),nE(),tE=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const r_={type:"spring",stiffness:500,damping:25,restSpeed:10},s_={type:"keyframes",duration:.8},i_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a_=(e,t)=>{let{keyframes:n}=t;return n.length>2?s_:jS.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:r_:i_},o_=e=>null!==e;const l_=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const c_=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const o=BC(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=dE(l);const u=It(It({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},o),{},{delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=uE(e,l_);return!!Object.keys(d).length})(o)||Object.assign(u,a_(e,u)),u.duration&&(u.duration=dE(u.duration)),u.repeatDelay&&(u.repeatDelay=dE(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(JI(u),0===u.delay&&(d=!0)),(Kj.instantAnimations||Kj.skipAnimations||null!==s&&void 0!==s&&s.shouldSkipAnimations)&&(d=!0,JI(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(o_),a=r&&"loop"!==s&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(u.keyframes,o);if(void 0!==e)return void Qj.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new GI(u):new n_(u)}},u_=["transition","transitionEnd"];function d_(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function h_(e,t){var n;let{delay:r=0,transitionOverride:s,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a,transitionEnd:o}=t,l=uE(t,u_);const c=e.getDefaultTransition();a=a?VC(a,c):c;const u=null===(n=a)||void 0===n?void 0:n.reduceMotion;s&&(a=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const p in l){var f;const t=e.getValue(p,null!==(f=e.latestValues[p])&&void 0!==f?f:null),n=l[p];if(void 0===n||h&&d_(h,p))continue;const s=It({delay:r},BC(a||{},p)),i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(n)&&n===i&&!s.velocity)continue;let o=!1;if(window.MotionHandoffAnimation){const t=WC(e);if(t){const e=window.MotionHandoffAnimation(t,p,Qj);null!==e&&(s.startTime=e,o=!0)}}GC(e,p);const c=null!==u&&void 0!==u?u:e.shouldReduceMotion;t.start(c_(p,t,n,c&&hj.has(p)?{type:!1}:s,e,o));const m=t.animation;m&&d.push(m)}if(o){const t=()=>Qj.update(()=>{o&&function(e,t){let n=FC(e,t)||{},{transitionEnd:r={},transition:s={}}=n,i=uE(n,qC);i=It(It({},i),r);for(const a in i)KC(e,a,HC(i[a]))}(e,o)});d.length?Promise.all(d).then(t):t()}return d}function f_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*r;return"function"===typeof n?n(i,a):1===s?i*r:o-i*r}function p_(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=FC(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(h_(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(p_(l,t,It(It({},a),{},{delay:n+("function"===typeof r?0:r)+f_(e.variantChildren,l,r,s,i)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,s,a,o,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(r.delay)])}const m_=XE.length;function g_(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&g_(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<m_;n++){const r=XE[n],s=e.props[r];(WE(s)||!1===s)&&(t[r]=s)}return t}function v_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const y_=["transition","transitionEnd"],x_=[...QE].reverse(),b_=QE.length;function w_(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>p_(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=p_(e,t,r);else{const s="function"===typeof t?FC(e,t,r.custom):t;n=Promise.all(h_(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function k_(e){let t=w_(e),n=j_(),r=!0;const s=t=>(n,r)=>{var s;const i=FC(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=uE(i,y_);n=It(It(It({},n),r),t)}return n};function i(i){const{props:a}=e,o=g_(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<b_;t++){const h=x_[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=WE(p),g=h===i?f.isActive:null;!1===g&&(d=t);let v=p===o[h]&&p!==a[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=It({},u),!f.isActive&&null===g||!p&&!f.prevProp||GE(p)||"boolean"===typeof p)continue;if("exit"===h&&f.isActive&&!0!==g){f.prevResolvedValues&&(u=It(It({},u),f.prevResolvedValues));continue}const y=N_(f.prevProp,p);let x=y||h===i&&f.isActive&&!v&&m||t>d&&m,b=!1;const w=Array.isArray(p)?p:[p];let k=w.reduce(s(h),{});!1===g&&(k={});const{prevResolvedValues:N={}}=f,S=It(It({},N),k),j=t=>{x=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=k[e],n=N[e];if(u.hasOwnProperty(e))continue;let r=!1;r=zC(t)&&zC(n)?!v_(t,n):t!==n,r?void 0!==t&&null!==t?j(e):c.add(e):void 0!==t&&c.has(e)?j(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=k,f.isActive&&(u=It(It({},u),k)),r&&e.blockInitialAnimation&&(x=!1);const E=v&&y;x&&(!E||b)&&l.push(...w.map(t=>{const n={type:h};if("string"===typeof t&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,s=FC(r,t);if(r.enteringChildren&&s){const{delayChildren:t}=s.transition||{};n.delay=f_(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=FC(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=j_()}}}function N_(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!v_(t,e)}function S_(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j_(){return{animate:S_(!0),whileInView:S_(),whileHover:S_(),whileTap:S_(),whileDrag:S_(),whileFocus:S_(),exit:S_()}}let E_=0;const T_={animation:{Feature:class extends LC{constructor(e){super(e),e.animationState||(e.animationState=k_(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();GE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends LC{constructor(){super(...arguments),this.id=E_++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},C_={x:!1,y:!1};function I_(){return C_.x||C_.y}function __(e){return[e("x"),e("y")]}function A_(e){return e.max-e.min}function D_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=ST(t.min,t.max,e.origin),e.scale=A_(n)/A_(t),e.translate=ST(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function P_(e,t,n,r){D_(e.x,t.x,n.x,r?r.originX:void 0),D_(e.y,t.y,n.y,r?r.originY:void 0)}function R_(e,t,n){e.min=n.min+t.min,e.max=e.min+A_(t)}function M_(e,t,n){e.min=t.min-n.min,e.max=e.min+A_(t)}function O_(e,t,n){M_(e.x,t.x,n.x),M_(e.y,t.y,n.y)}const L_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const F_=new Set(["INPUT","SELECT","TEXTAREA"]);function U_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function V_(e){return"object"===typeof e&&null!==e}function B_(e){return V_(e)&&"ownerSVGElement"in e}function z_(e,t,n){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let s=document;t&&(s=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>null!=e)}const q_=new WeakMap;let K_;const H_=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:B_(r)&&"getBBox"in r?r.getBBox()[t]:r[n],G_=H_("inline","width","offsetWidth"),W_=H_("block","height","offsetHeight");function Q_(e){var t;let{target:n,borderBoxSize:r}=e;null===(t=q_.get(n))||void 0===t||t.forEach(e=>{e(n,{get width(){return G_(n,r)},get height(){return W_(n,r)}})})}function X_(e){e.forEach(Q_)}function Y_(e,t){K_||"undefined"!==typeof ResizeObserver&&(K_=new ResizeObserver(X_));const n=z_(e);return n.forEach(e=>{var n;let r=q_.get(e);r||(r=new Set,q_.set(e,r)),r.add(t),null===(n=K_)||void 0===n||n.observe(e)}),()=>{n.forEach(e=>{const n=q_.get(e);var r;(null===n||void 0===n||n.delete(t),null!==n&&void 0!==n&&n.size)||(null===(r=K_)||void 0===r||r.unobserve(e))})}}const $_=new Set;let J_;function Z_(e){return $_.add(e),J_||(J_=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};$_.forEach(t=>t(e))},window.addEventListener("resize",J_)),()=>{$_.delete(e),$_.size||"function"!==typeof J_||(window.removeEventListener("resize",J_),J_=void 0)}}function eA(e,t){return"function"===typeof e?Z_(e):Y_(e,t)}const tA=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function nA(e){return{point:{x:e.pageX,y:e.pageY}}}function rA(e,t,n,r){return U_(e,t,(e=>t=>tA(t)&&e(t,nA(t)))(n),r)}const sA=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},iA=(e,t)=>Math.abs(e-t);const aA=new Set(["auto","scroll"]);class oA{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=uA(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=iA(e.x,t.x),r=iA(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Yj;this.history.push(It(It({},r),{},{timestamp:s}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=lA(t,this.transformPagePoint),Qj.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=uA("pointercancel"===e.type?this.lastMoveEventInfo:lA(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!tA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const o=lA(nA(e),this.transformPagePoint),{point:l}=o,{timestamp:c}=Yj;this.history=[It(It({},l),{},{timestamp:c})];const{onSessionStart:u}=t;u&&u(e,uA(o,this.history)),this.removeListeners=XC(rA(this.contextWindow,"pointermove",this.handlePointerMove),rA(this.contextWindow,"pointerup",this.handlePointerUp),rA(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){const e=getComputedStyle(t);(aA.has(e.overflowX)||aA.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s=r.x-t.x,i=r.y-t.y;0===s&&0===i||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s,this.lastMoveEventInfo.point.y+=i):this.history.length>0&&(this.history[0].x-=s,this.history[0].y-=i),this.scrollPositions.set(e,r),Qj.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xj(this.updatePoint)}}function lA(e,t){return t?{point:t(e.point)}:e}function cA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uA(e,t){let{point:n}=e;return{point:n,delta:cA(n,hA(t)),offset:cA(n,dA(t)),velocity:fA(t,.1)}}function dA(e){return e[0]}function hA(e){return e[e.length-1]}function fA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=hA(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>dE(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&s.timestamp-r.timestamp>2*dE(t)&&(r=e[1]);const i=hE(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pA(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const gA=.35;function vA(e,t,n){return{min:yA(e,t),max:yA(e,n)}}function yA(e,t){return"number"===typeof e?e:e[t]||0}const xA=new WeakMap;class bA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new oA(e,{onSessionStart:e=>{t&&this.snapToCursor(nA(e).point),this.stopAnimation()},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?C_[i]?null:(C_[i]=!0,()=>{C_[i]=!1}):C_.x||C_.y?null:(C_.x=C_.y=!0,()=>{C_.x=C_.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),__(e=>{let t=this.getAxisMotionValue(e).get()||0;if(VS.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=A_(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&Qj.update(()=>s(e,t),!1,!0),GC(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&Qj.update(()=>i(e,t),!1,!0)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>{const{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})}},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:sA(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Qj.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!kA(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?ST(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?ST(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&_C(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:pA(e.x,r,i),y:pA(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA;return!1===e?e=0:!0===e&&(e=gA),{x:vA(e,"left","right"),y:vA(e,"top","bottom")}}(n),s!==this.constraints&&!_C(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&__(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!_C(e))return!1;const n=e.current;xj(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=GT(e,n),{scroll:s}=t;return s&&(qT(r.x,s.offset.x),qT(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:mA(e.x,t.x),y:mA(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=AT(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=__(a=>{if(!kA(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=It(It({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return GC(this.visualElement,e),n.start(c_(e,n,0,t,this.visualElement,!1))}stopAnimation(){__(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){__(t=>{const{drag:n}=this.getProps();if(!kA(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t],a=s.get()||0;s.set(e[t]-ST(n,i,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!_C(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};__(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=A_(e),s=A_(t);return s>r?n=UI(t.min,t.max-r,e.min):r>s&&(n=UI(e.min,e.max-s,t.min)),ES(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),__(t=>{if(!kA(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(ST(s,i,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;xA.set(this.visualElement,this);const e=this.visualElement.current,t=rA(e,"pointerdown",t=>{const{drag:n,dragListener:r=!0}=this.getProps(),s=t.target,i=s!==e&&function(e){return F_.has(e.tagName)||!0===e.isContentEditable}(s);n&&r&&!i&&this.start(t)});let n;const r=()=>{const{dragConstraints:t}=this.getProps();_C(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||(n=function(e,t,n){const r=eA(e,wA(n)),s=eA(t,wA(n));return()=>{r(),s()}}(e,t.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qj.read(r);const a=U_(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(__(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),o&&o(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=gA,dragMomentum:a=!0}=e;return It(It({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a})}}function wA(e){let t=!0;return()=>{t?t=!1:e()}}function kA(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const NA=e=>(t,n)=>{e&&Qj.update(()=>e(t,n),!1,!0)};const SA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jA(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(mC);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,a=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return i(a)},[e]);const o=(0,t.useCallback)(()=>e&&s&&s(a),[a,s,e]);return!r&&s?[!1,o]:[!0]}let EA=!1;class TA extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),EA&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(It(It({},s.options),{},{layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()}))),SA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,e.layoutDependency!==t&&i.setOptions(It(It({},i.options),{},{layoutDependency:t})),EA=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Qj.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ME.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;EA=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CA(e){const[n,r]=jA(),s=(0,t.useContext)($T);return(0,bS.jsx)(TA,It(It({},e),{},{layoutGroup:s,switchLayoutGroup:(0,t.useContext)(IC),isPresent:n,safeToRemove:r}))}function IA(e,t){const n=UE.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(Xj(r),e(a-t))};return Qj.setup(r,!0),()=>Xj(r)}const _A=["TopLeft","TopRight","BottomLeft","BottomRight"],AA=_A.length,DA=e=>"string"===typeof e?parseFloat(e):e,PA=e=>"number"===typeof e||BS.test(e);function RA(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const MA=LA(0,.5,MI),OA=LA(.5,.95,qj);function LA(e,t,n){return r=>r<e?0:r>t?1:n(UI(e,t,r))}function FA(e,t){e.min=t.min,e.max=t.max}function UA(e,t){FA(e.x,t.x),FA(e.y,t.y)}function VA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BA(e,t,n,r,s){return e=LT(e-=t,1/n,r),void 0!==s&&(e=LT(e,1/s,r)),e}function zA(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;VS.test(t)&&(t=parseFloat(t),t=ST(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=ST(i.min,i.max,r);e===i&&(o-=t),e.min=BA(e.min,t,n,o,s),e.max=BA(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const qA=["x","scaleX","originX"],KA=["y","scaleY","originY"];function HA(e,t,n,r){zA(e.x,t,qA,n?n.x:void 0,r?r.x:void 0),zA(e.y,t,KA,n?n.y:void 0,r?r.y:void 0)}function GA(e){return 0===e.translate&&1===e.scale}function WA(e){return GA(e.x)&&GA(e.y)}function QA(e,t){return e.min===t.min&&e.max===t.max}function XA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YA(e,t){return XA(e.x,t.x)&&XA(e.y,t.y)}function $A(e){return A_(e.x)/A_(e.y)}function JA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ZA{constructor(){this.members=[]}add(e){fE(this.members,e);for(let t=this.members.length-1;t>=0;t--){const n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;const r=n.instance;r&&!1===r.isConnected&&!1!==n.isPresent&&!n.snapshot&&pE(this.members,n)}e.scheduleRender()}remove(e){if(pE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r],t=e.instance;if(!1!==e.isPresent&&(!t||!1!==t.isConnected)){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const r=n.options.layoutDependency,s=e.options.layoutDependency;if(!(void 0!==r&&void 0!==s&&r===s)){const r=n.instance;r&&!1===r.isConnected&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const eD=(e,t)=>e.depth-t.depth;class tD{constructor(){this.children=[],this.isDirty=!1}add(e){fE(this.children,e),this.isDirty=!0}remove(e){pE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eD),this.isDirty=!1,this.children.forEach(e)}}const nD={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},rD=["","X","Y","Z"];let sD=0;function iD(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function aD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=WC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qj,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&aD(r)}function oD(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=sD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gj.value&&(nD.nodes=nD.calculatedTargetDeltas=nD.calculatedProjections=0),this.nodes.forEach(uD),this.nodes.forEach(vD),this.nodes.forEach(yD),this.nodes.forEach(dD),Gj.addProjectionMetrics&&Gj.addProjectionMetrics(nD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new tD)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new mE),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=B_(e)&&!(B_(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;Qj.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=IA(s,250),SA.hasAnimatedSinceResize&&(SA.hasAnimatedSinceResize=!1,this.nodes.forEach(gD)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||SD,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!YA(this.targetLayout,s),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=It(It({},BC(a,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||gD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xj(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xD),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(fD);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(pD);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mD),this.nodes.forEach(lD),this.nodes.forEach(cD)):this.nodes.forEach(pD),this.clearAllSnapshots();const e=UE.now();Yj.delta=ES(0,1e3/60,e-Yj.timestamp),Yj.timestamp=e,Yj.isProcessing=!0,$j.update.process(Yj),$j.preRender.process(Yj),$j.render.process(Yj),Yj.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ME.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hD),this.sharedNodes.forEach(bD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qj.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qj.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||A_(this.snapshot.measuredBox.x)||A_(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!WA(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||RT(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),TD((r=n).x),TD(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(ID))){const{scroll:e}=this.root;e&&(qT(n.x,e.offset.x),qT(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(UA(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&UA(n,e),qT(n.x,s.offset.x),qT(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};UA(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&HT(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),RT(e.latestValues)&&HT(n,e.latestValues)}return RT(this.latestValues)&&HT(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};UA(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!RT(e.latestValues))continue;PT(e.latestValues)&&e.updateSnapshot();const r=uj();UA(r,e.measurePageBox()),HA(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return RT(this.latestValues)&&HA(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=It(It(It({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yj.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(!this.layout||!s&&!i)return;this.resolvedRelativeTargetAt=Yj.timestamp;const a=this.getClosestProjectingParent();var o,l,c;(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,l=this.relativeTarget,c=this.relativeParent.target,R_(o.x,l.x,c.x),R_(o.y,l.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):UA(this.target,this.layout.layoutBox),VT(this.target,this.targetDelta)):UA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),Gj.value&&nD.calculatedTargetDeltas++)}getClosestProjectingParent(){if(this.parent&&!PT(this.parent.latestValues)&&!MT(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},O_(this.relativeTargetOrigin,t,n),UA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Yj.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;UA(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&HT(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,VT(e,a)),r&&RT(i.latestValues)&&HT(e,i.latestValues))}t.x<zT&&t.x>BT&&(t.x=1),t.y<zT&&t.y>BT&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(VA(this.prevProjectionDelta.x,this.projectionDelta.x),VA(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),P_(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&JA(this.projectionDelta.x,this.prevProjectionDelta.x)&&JA(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Gj.value&&nD.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=It({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(ND));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;wD(i.x,e.x,n),wD(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(O_(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){kD(e.x,t.x,n.x,r),kD(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return QA(e.x,t.x)&&QA(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),UA(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){var a,o;if(s)e.opacity=ST(0,null!==(a=n.opacity)&&void 0!==a?a:1,MA(r)),e.opacityExit=ST(null!==(o=t.opacity)&&void 0!==o?o:1,0,OA(r));else if(i){var l,c;e.opacity=ST(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<AA;u++){const s="border".concat(_A[u],"Radius");let i=RA(t,s),a=RA(n,s);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||PA(i)===PA(a)?(e[s]=Math.max(ST(DA(i),DA(a),r),0),(VS.test(a)||VS.test(i))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=ST(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Xj(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qj.update(()=>{SA.hasAnimatedSinceResize=!0,wE.layout++,this.motionValue||(this.motionValue=qE(0)),this.currentAnimation=function(e,t,n){const r=dj(e)?e:qE(e);return r.start(c_("",r,t,n)),r.animation}(this.motionValue,[0,1e3],It(It({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{wE.layout--},onComplete:()=>{wE.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&CD(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=A_(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=A_(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}UA(t,n),HT(t,s),P_(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ZA);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&iD("z",e,r,this.animationValues);for(let s=0;s<rD.length;s++)iD("rotate".concat(rD[s]),e,r,this.animationValues),iD("skew".concat(rD[s]),e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=pC(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=pC(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!RT(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((s||i||a)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:a,y:o}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*a.origin,"% ").concat(100*o.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=s.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const u in ET){if(void 0===s[u])continue;const{correct:t,applyTo:n,isCSSVariable:a}=ET[u],o="none"===i?s[u]:t(s[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else a?this.options.visualElement.renderState.vars[u]=o:e[u]=o}this.options.layoutId&&(e.pointerEvents=r===this?pC(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(fD),this.root.sharedNodes.clear()}}}function lD(e){e.updateLayout()}function cD(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?__(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=A_(r);r.min=t[e].min,r.max=r.min+s}):CD(s,n.layoutBox,t)&&__(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],a=A_(t[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};P_(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?P_(o,e.applyTransform(r,!0),n.measuredBox):P_(o,t,n.layoutBox);const l=!WA(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};O_(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};O_(o,t,i.layoutBox),YA(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function uD(e){Gj.value&&nD.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hD(e){e.clearSnapshot()}function fD(e){e.clearMeasurements()}function pD(e){e.isLayoutDirty=!1}function mD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vD(e){e.resolveTargetDelta()}function yD(e){e.calcProjection()}function xD(e){e.resetSkewAndRotation()}function bD(e){e.removeLeadSnapshot()}function wD(e,t,n){e.translate=ST(t.translate,0,n),e.scale=ST(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kD(e,t,n,r){e.min=ST(t.min,n.min,r),e.max=ST(t.max,n.max,r)}function ND(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const SD={duration:.45,ease:[.4,0,.1,1]},jD=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ED=jD("applewebkit/")&&!jD("chrome/")?Math.round:qj;function TD(e){e.min=ED(e.min),e.max=ED(e.max)}function CD(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=$A(t),s=$A(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function ID(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const _D=oD({attachResizeListener:(e,t)=>U_(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||(null===(e=document.body)||void 0===e?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),AD={current:void 0},DD=oD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AD.current){const e=new _D({});e.mount(window),e.setOptions({layoutScroll:!0}),AD.current=e}return AD.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),PD={pan:{Feature:class extends LC{constructor(){super(...arguments),this.removePointerDownListener=qj}onPointerDown(e){this.session=new oA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:NA(e),onStart:NA(t),onMove:NA(n),onEnd:(e,t)=>{delete this.session,r&&Qj.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=rA(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends LC{constructor(e){super(e),this.removeGroupControls=qj,this.removeListeners=qj,this.controls=new bA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qj}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:DD,MeasureLayout:CA}};function RD(e,t){const n=z_(e),r=new AbortController;return[n,It(It({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function MD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=RD(e,n);return r.forEach(e=>{let n,r=!1,i=!1;const a=t=>{n&&(n(t),n=void 0),e.removeEventListener("pointerleave",l)},o=e=>{r=!1,window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),i&&(i=!1,a(e))},l=e=>{"touch"!==e.pointerType&&(r?i=!0:a(e))};e.addEventListener("pointerenter",r=>{if("touch"===r.pointerType||I_())return;i=!1;const a=t(e,r);"function"===typeof a&&(n=a,e.addEventListener("pointerleave",l,s))},s),e.addEventListener("pointerdown",()=>{r=!0,window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",o,s)},s)}),i}function OD(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&Qj.postRender(()=>s(t,nA(t)))}function LD(e){return V_(e)&&"offsetHeight"in e}const FD=(e,t)=>!!t&&(e===t||FD(e,t.parentElement)),UD=new WeakSet;function VD(e){return t=>{"Enter"===t.key&&e(t)}}function BD(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function zD(e){return tA(e)&&!I_()}const qD=new WeakSet;function KD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=RD(e,n),a=e=>{const r=e.currentTarget;if(!zD(e))return;if(qD.has(e))return;UD.add(r),n.stopPropagation&&qD.add(e);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),UD.has(r)&&UD.delete(r),zD(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||FD(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),LD(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=VD(()=>{if(UD.has(n))return;BD(n,"down");const e=VD(()=>{BD(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>BD(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),t=e,L_.has(t.tagName)||!0===t.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function HD(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&Qj.postRender(()=>s(t,nA(t)))}const GD=["root"],WD=new WeakMap,QD=new WeakMap,XD=e=>{const t=WD.get(e.target);t&&t(e)},YD=e=>{e.forEach(XD)};function $D(e,t,n){const r=function(e){let{root:t}=e,n=uE(e,GD);const r=t||document;QD.has(r)||QD.set(r,{});const s=QD.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(YD,It({root:t},n))),s[i]}(t);return WD.set(e,n),r.observe(e),()=>{WD.delete(e),r.unobserve(e)}}const JD={some:0,all:1};const ZD={inView:{Feature:class extends LC{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:JD[r]};return $D(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends LC{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=KD(e,(e,t)=>(HD(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return HD(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:t,stopPropagation:!1===(null===n||void 0===n?void 0:n.tap)})}unmount(){}}},focus:{Feature:class extends LC{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(uO){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=XC(U_(this.node.current,"focus",()=>this.onFocus()),U_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends LC{mount(){const{current:e}=this.node;e&&(this.unmount=MD(e,(e,t)=>(OD(this.node,t,"Start"),e=>OD(this.node,e,"End"))))}unmount(){}}}},eP={layout:{ProjectionNode:DD,MeasureLayout:CA}},tP=OC(It(It(It(It({},T_),ZD),PD),eP),YT);function nP(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function rP(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=nP(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():nP(t[e],null)}}}}(...n),n)}class sP extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){const e=t.offsetParent,n=LD(e)&&e.offsetWidth||0,r=LD(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left,s.bottom=r-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function iP(e){var n,r;let{children:s,isPresent:i,anchorX:a,anchorY:o,root:l,pop:c}=e;const u=(0,t.useId)(),d=(0,t.useRef)(null),h=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=(0,t.useContext)(ZT),p=null!==(n=null===(r=s.props)||void 0===r?void 0:r.ref)&&void 0!==n?n:null===s||void 0===s?void 0:s.ref,m=rP(d,p);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:r,right:s,bottom:p}=h.current;if(i||!1===c||!d.current||!e||!t)return;const m="left"===a?"left: ".concat(r):"right: ".concat(s),g="bottom"===o?"bottom: ".concat(p):"top: ".concat(n);d.current.dataset.motionPopId=u;const v=document.createElement("style");f&&(v.nonce=f);const y=null!==l&&void 0!==l?l:document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule('\n          [data-motion-pop-id="'.concat(u,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(m,"px !important;\n            ").concat(g,"px !important;\n          }\n        ")),()=>{y.contains(v)&&y.removeChild(v)}},[i]),(0,bS.jsx)(sP,{isPresent:i,childRef:d,sizeRef:h,pop:c,children:!1===c?s:t.cloneElement(s,{ref:m})})}const aP=e=>{let{children:n,initial:r,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:u,root:d}=e;const h=gC(oP),f=(0,t.useId)();let p=!0,m=(0,t.useMemo)(()=>(p=!1,{id:f,initial:r,isPresent:s,custom:a,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[s,h,i]);return o&&p&&(m=It({},m)),(0,t.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),t.useEffect(()=>{!s&&!h.size&&i&&i()},[s]),n=(0,bS.jsx)(iP,{pop:"popLayout"===l,isPresent:s,anchorX:c,anchorY:u,root:d,children:n}),(0,bS.jsx)(mC.Provider,{value:m,children:n})};function oP(){return new Map}const lP=e=>e.key||"";function cP(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const uP=e=>{let{children:n,custom:r,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:u="top",root:d}=e;const[h,f]=jA(l),p=(0,t.useMemo)(()=>cP(n),[n]),m=l&&!h?[]:p.map(lP),g=(0,t.useRef)(!0),v=(0,t.useRef)(p),y=gC(()=>new Map),x=(0,t.useRef)(new Set),[b,w]=(0,t.useState)(p),[k,N]=(0,t.useState)(p);AC(()=>{g.current=!1,v.current=p;for(let e=0;e<k.length;e++){const t=lP(k[e]);m.includes(t)?(y.delete(t),x.current.delete(t)):!0!==y.get(t)&&y.set(t,!1)}},[k,m.length,m.join("-")]);const S=[];if(p!==b){let e=[...p];for(let t=0;t<k.length;t++){const n=k[t],r=lP(n);m.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===o&&S.length&&(e=S),N(cP(e)),w(p),null}const{forceRender:j}=(0,t.useContext)($T);return(0,bS.jsx)(bS.Fragment,{children:k.map(e=>{const t=lP(e),n=!(l&&!h)&&(p===k||m.includes(t));return(0,bS.jsx)(aP,{isPresent:n,initial:!(g.current&&!s)&&void 0,custom:r,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:n?void 0:()=>{if(x.current.has(t))return;if(x.current.add(t),!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===j||void 0===j||j(),N(v.current),l&&(null===f||void 0===f||f()),i&&i())},anchorX:c,anchorY:u,children:e},t)})})},dP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},hP=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var fP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pP=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],mP=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c}=e,u=uE(e,pP);return(0,t.createElement)("svg",It(It(It({ref:n},fP),{},{width:s,height:s,stroke:r,strokeWidth:a?24*Number(i)/Number(s):i,className:dP("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),gP=["className"],vP=(e,n)=>{const r=(0,t.forwardRef)((r,s)=>{let{className:i}=r,a=uE(r,gP);return(0,t.createElement)(mP,It({ref:s,iconNode:n,className:dP("lucide-".concat((o=hP(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},a));var o});return r.displayName=hP(e),r},yP=vP("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),xP=vP("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),bP=vP("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),wP=vP("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),kP=vP("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),NP=vP("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),SP=vP("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),jP=vP("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),EP=vP("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),TP=vP("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CP=vP("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),IP=vP("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function _P(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=_P(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function AP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=_P(e))&&(r&&(r+=" "),r+=t);return r}const DP=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},PP="-",RP=[],MP=e=>{const t=FP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return LP(e);const n=e.split(PP),r=""===n[0]&&n.length>1?1:0;return OP(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],s=n[e];return t?s?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(s,t):t:s||RP}return n[e]||RP}}},OP=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],s=n.nextPart.get(r);if(s){const n=OP(e,t+1,s);if(n)return n}const i=n.validators;if(null===i)return;const a=0===t?e.join(PP):e.slice(t).join(PP),o=i.length;for(let l=0;l<o;l++){const e=i[l];if(e.validator(a))return e.classGroupId}},LP=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),FP=e=>{const{theme:t,classGroups:n}=e;return UP(n,t)},UP=(e,t)=>{const n=DP();for(const r in e){const s=e[r];VP(s,n,r,t)}return n},VP=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const s=e[i];BP(s,t,n,r)}},BP=(e,t,n,r)=>{"string"!==typeof e?"function"!==typeof e?KP(e,t,n,r):qP(e,t,n,r):zP(e,t,n)},zP=(e,t,n)=>{(""===e?t:HP(t,e)).classGroupId=n},qP=(e,t,n,r)=>{GP(e)?VP(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},KP=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[e,i]=s[a];VP(i,HP(t,e),n,r)}},HP=(e,t)=>{let n=e;const r=t.split(PP),s=r.length;for(let i=0;i<s;i++){const e=r[i];let t=n.nextPart.get(e);t||(t=DP(),n.nextPart.set(e,t)),n=t}return n},GP=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,WP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(s,i)=>{n[s]=i,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(s(e,t),t):void 0},set(e,t){e in n?n[e]=t:s(e,t)}}},QP=[],XP=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),YP=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,s=0,i=0;const a=e.length;for(let u=0;u<a;u++){const a=e[u];if(0===r&&0===s){if(":"===a){t.push(e.slice(i,u)),i=u+1;continue}if("/"===a){n=u;continue}}"["===a?r++:"]"===a?r--:"("===a?s++:")"===a&&s--}const o=0===t.length?e:e.slice(i);let l=o,c=!1;o.endsWith("!")?(l=o.slice(0,-1),c=!0):o.startsWith("!")&&(l=o.slice(1),c=!0);return XP(t,c,l,n&&n>i?n-i:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):XP(QP,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},$P=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let s=0;s<e.length;s++){const i=e[s],a="["===i[0],o=t.has(i);a||o?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(i)):r.push(i)}return r.length>0&&(r.sort(),n.push(...r)),n}},JP=/\s+/,ZP=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ZP(e[r]))&&(n&&(n+=" "),n+=t);return n},eR=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let s,i,a,o;const l=e=>{const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,a=[],o=e.trim().split(JP);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:i(u).join(":"),v=d?g+"!":g,y=v+m;if(a.indexOf(y)>-1)continue;a.push(y);const x=s(m,p);for(let n=0;n<x.length;++n){const e=x[n];a.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,s);return a(e,n),n};return o=t=>{const r=n.reduce((e,t)=>t(e),e());return s=(e=>It({cache:WP(e.cacheSize),parseClassName:YP(e),sortModifiers:$P(e)},MP(e)))(r),i=s.cache.get,a=s.cache.set,o=l,l(t)},function(){return o(function(){let e,t,n=0,r="";for(;n<arguments.length;){var s;(e=(s=n++)<0||arguments.length<=s?void 0:arguments[s])&&(t=ZP(e))&&(r&&(r+=" "),r+=t)}return r}(...arguments))}},tR=[],nR=e=>{const t=t=>t[e]||tR;return t.isThemeGetter=!0,t},rR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iR=/^\d+\/\d+$/,aR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dR=e=>iR.test(e),hR=e=>!!e&&!Number.isNaN(Number(e)),fR=e=>!!e&&Number.isInteger(Number(e)),pR=e=>e.endsWith("%")&&hR(e.slice(0,-1)),mR=e=>aR.test(e),gR=()=>!0,vR=e=>oR.test(e)&&!lR.test(e),yR=()=>!1,xR=e=>cR.test(e),bR=e=>uR.test(e),wR=e=>!NR(e)&&!IR(e),kR=e=>OR(e,VR,yR),NR=e=>rR.test(e),SR=e=>OR(e,BR,vR),jR=e=>OR(e,zR,hR),ER=e=>OR(e,FR,yR),TR=e=>OR(e,UR,bR),CR=e=>OR(e,KR,xR),IR=e=>sR.test(e),_R=e=>LR(e,BR),AR=e=>LR(e,qR),DR=e=>LR(e,FR),PR=e=>LR(e,VR),RR=e=>LR(e,UR),MR=e=>LR(e,KR,!0),OR=(e,t,n)=>{const r=rR.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},LR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=sR.exec(e);return!!r&&(r[1]?t(r[1]):n)},FR=e=>"position"===e||"percentage"===e,UR=e=>"image"===e||"url"===e,VR=e=>"length"===e||"size"===e||"bg-size"===e,BR=e=>"length"===e,zR=e=>"number"===e,qR=e=>"family-name"===e,KR=e=>"shadow"===e,HR=(Symbol.toStringTag,()=>{const e=nR("color"),t=nR("font"),n=nR("text"),r=nR("font-weight"),s=nR("tracking"),i=nR("leading"),a=nR("breakpoint"),o=nR("container"),l=nR("spacing"),c=nR("radius"),u=nR("shadow"),d=nR("inset-shadow"),h=nR("text-shadow"),f=nR("drop-shadow"),p=nR("blur"),m=nR("perspective"),g=nR("aspect"),v=nR("ease"),y=nR("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",IR,NR],b=()=>[IR,NR,l],w=()=>[dR,"full","auto",...b()],k=()=>[fR,"none","subgrid",IR,NR],N=()=>["auto",{span:["full",fR,IR,NR]},fR,IR,NR],S=()=>[fR,"auto",IR,NR],j=()=>["auto","min","max","fr",IR,NR],E=()=>["auto",...b()],T=()=>[dR,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,IR,NR],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",DR,ER,{position:[IR,NR]}],_=()=>["auto","cover","contain",PR,kR,{size:[IR,NR]}],A=()=>[pR,_R,SR],D=()=>["","none","full",c,IR,NR],P=()=>["",hR,_R,SR],R=()=>[hR,pR,DR,ER],M=()=>["","none",p,IR,NR],O=()=>["none",hR,IR,NR],L=()=>["none",hR,IR,NR],F=()=>[hR,IR,NR],U=()=>[dR,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mR],breakpoint:[mR],color:[gR],container:[mR],"drop-shadow":[mR],ease:["in","out","in-out"],font:[wR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mR],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mR],shadow:[mR],spacing:["px",hR],text:[mR],"text-shadow":[mR],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dR,NR,IR,g]}],container:["container"],columns:[{columns:[hR,NR,IR,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[fR,"auto",IR,NR]}],basis:[{basis:[dR,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[hR,dR,"auto","initial","none",NR]}],grow:[{grow:["",hR,IR,NR]}],shrink:[{shrink:["",hR,IR,NR]}],order:[{order:[fR,"first","last","none",IR,NR]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[o,"screen",...T()]}],"min-w":[{"min-w":[o,"screen","none",...T()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",n,_R,SR]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,IR,jR]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pR,NR]}],"font-family":[{font:[AR,NR,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,IR,NR]}],"line-clamp":[{"line-clamp":[hR,"none",IR,jR]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",IR,NR]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",IR,NR]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[hR,"from-font","auto",IR,SR]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[hR,"auto",IR,NR]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",IR,NR]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",IR,NR]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fR,IR,NR],radial:["",IR,NR],conic:[fR,IR,NR]},RR,TR]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[hR,IR,NR]}],"outline-w":[{outline:["",hR,_R,SR]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,MR,CR]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,MR,CR]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[hR,SR]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,MR,CR]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[hR,IR,NR]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[hR]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[IR,NR]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[hR]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",IR,NR]}],filter:[{filter:["","none",IR,NR]}],blur:[{blur:M()}],brightness:[{brightness:[hR,IR,NR]}],contrast:[{contrast:[hR,IR,NR]}],"drop-shadow":[{"drop-shadow":["","none",f,MR,CR]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",hR,IR,NR]}],"hue-rotate":[{"hue-rotate":[hR,IR,NR]}],invert:[{invert:["",hR,IR,NR]}],saturate:[{saturate:[hR,IR,NR]}],sepia:[{sepia:["",hR,IR,NR]}],"backdrop-filter":[{"backdrop-filter":["","none",IR,NR]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[hR,IR,NR]}],"backdrop-contrast":[{"backdrop-contrast":[hR,IR,NR]}],"backdrop-grayscale":[{"backdrop-grayscale":["",hR,IR,NR]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[hR,IR,NR]}],"backdrop-invert":[{"backdrop-invert":["",hR,IR,NR]}],"backdrop-opacity":[{"backdrop-opacity":[hR,IR,NR]}],"backdrop-saturate":[{"backdrop-saturate":[hR,IR,NR]}],"backdrop-sepia":[{"backdrop-sepia":["",hR,IR,NR]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",IR,NR]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[hR,"initial",IR,NR]}],ease:[{ease:["linear","initial",v,IR,NR]}],delay:[{delay:[hR,IR,NR]}],animate:[{animate:["none",y,IR,NR]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,IR,NR]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[IR,NR,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",IR,NR]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",IR,NR]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[hR,_R,SR,jR]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),GR=eR(HR);function WR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return GR(AP(t))}const QR=(0,t.createContext)(),XR=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(localStorage.getItem("theme")||"dark");(0,t.useEffect)(()=>{const e=window.document.documentElement;"dark"===r?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);return(0,bS.jsx)(QR.Provider,{value:{theme:r,toggleTheme:()=>{s(e=>"dark"===e?"light":"dark")}},children:n})},YR=vP("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),$R=vP("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),JR=()=>{const{theme:e,toggleTheme:n}=(0,t.useContext)(QR);return(0,bS.jsx)(tP.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"p-2 rounded-xl bg-slate-100 dark:bg-white/5 text-slate-600 dark:text-slate-400 hover:text-brand-500 dark:hover:text-white transition-all border border-slate-200 dark:border-white/5","aria-label":"Toggle Theme",children:"dark"===e?(0,bS.jsx)(YR,{size:20,className:"text-yellow-500"}):(0,bS.jsx)($R,{size:20,className:"text-blue-600"})})},ZR=()=>{const{currentUser:e,logout:n}=kS(),r=te(),s=Z(),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{l(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const c=async()=>{try{await n(),r("/login"),a(!1)}catch(e){console.error("Failed to log out",e)}},u=[{name:"Dashboard",path:"/",icon:yP},{name:"News",path:"/news",icon:xP},{name:"Tournaments",path:"/tournaments",icon:bP},{name:"Teams",path:"/teams",icon:wP},{name:"Players",path:"/players",icon:kP},{name:"Leaderboard",path:"/leaderboard",icon:NP}];return e&&u.push({name:"Admin",path:"/admin",icon:SP}),(0,bS.jsxs)(bS.Fragment,{children:[(0,bS.jsxs)(tP.nav,{initial:{y:-100},animate:{y:0},className:WR("fixed top-0 inset-x-0 z-50 transition-all duration-300 border-b",o?"bg-white/80 dark:bg-dark-bg/80 backdrop-blur-xl border-slate-200 dark:border-white/5 shadow-lg shadow-black/5 dark:shadow-black/20":"bg-transparent backdrop-blur-sm border-transparent"),children:[(0,bS.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,bS.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[(0,bS.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-2 group cursor-pointer",onClick:()=>r("/"),children:[(0,bS.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-brand-500 to-brand-700 flex items-center justify-center text-white shadow-lg shadow-brand-500/20 group-hover:scale-105 transition-transform",children:(0,bS.jsx)(bP,{size:20,className:"text-white fill-current"})}),(0,bS.jsxs)("div",{className:"flex flex-col",children:[(0,bS.jsxs)("span",{className:"font-display font-bold text-xl tracking-tight text-slate-900 dark:text-white leading-none",children:["Goal",(0,bS.jsx)("span",{className:"text-brand-400",children:"Kashmir"})]}),(0,bS.jsx)("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium tracking-wider uppercase",children:"Premium League"})]})]}),(0,bS.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:u.map(e=>{const t=s.pathname===e.path;return(0,bS.jsxs)(Pe,{to:e.path,className:"relative px-4 py-2 rounded-lg group",children:[(0,bS.jsx)("span",{className:WR("relative z-10 flex items-center gap-2 text-sm font-medium transition-colors",t?"text-brand-600 dark:text-white":"text-slate-600 dark:text-slate-400 group-hover:text-brand-500 dark:group-hover:text-white"),children:e.name}),t&&(0,bS.jsx)(tP.div,{layoutId:"navbar-indicator",className:"absolute inset-0 bg-slate-100 dark:bg-white/10 rounded-lg border border-slate-200 dark:border-white/5",transition:{type:"spring",bounce:.2,duration:.6}})]},e.name)})}),(0,bS.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,bS.jsx)(Pe,{to:"/search",className:"p-2 text-slate-500 dark:text-slate-400 hover:text-brand-500 dark:hover:text-white transition-colors",children:(0,bS.jsx)(jP,{size:22})}),(0,bS.jsx)(JR,{}),(0,bS.jsx)("div",{className:"h-6 w-px bg-slate-200 dark:bg-white/10 mx-1"}),e?(0,bS.jsxs)("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-red-500 transition-colors",children:[(0,bS.jsx)(EP,{size:18}),(0,bS.jsx)("span",{children:"Logout"})]}):(0,bS.jsx)("div",{className:"flex items-center gap-3",children:(0,bS.jsx)(Pe,{to:"/login",className:"px-4 py-2 bg-brand-600 hover:bg-brand-500 text-white text-sm font-medium rounded-lg shadow-lg shadow-brand-500/20 transition-all hover:scale-105 active:scale-95",children:"Login"})})]}),(0,bS.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[(0,bS.jsx)(Pe,{to:"/search",className:"p-2 text-slate-500 dark:text-slate-400 hover:text-brand-500 dark:hover:text-white transition-colors",children:(0,bS.jsx)(jP,{size:22})}),(0,bS.jsx)(JR,{}),(0,bS.jsx)("button",{onClick:()=>a(!i),className:"p-2 rounded-lg text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-white/5 transition-colors",children:i?(0,bS.jsx)(TP,{size:24}):(0,bS.jsx)(CP,{size:24})})]})]})}),(0,bS.jsx)(uP,{children:i&&(0,bS.jsx)(tP.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-bg/95 backdrop-blur-xl border-t border-white/5 overflow-hidden",children:(0,bS.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-2",children:[u.map(e=>(0,bS.jsxs)(Re,{to:e.path,onClick:()=>a(!1),className:e=>{let{isActive:t}=e;return WR("flex items-center justify-between p-4 rounded-xl border border-transparent transition-all",t?"bg-brand-500/10 border-brand-500/20 text-brand-400":"bg-white/5 text-slate-400 border-white/5 hover:bg-white/10 hover:text-white")},children:[(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)(e.icon,{size:20}),(0,bS.jsx)("span",{className:"font-medium",children:e.name})]}),(0,bS.jsx)(IP,{size:16,className:"opacity-50"})]},e.name)),(0,bS.jsx)("div",{className:"h-px bg-white/10 my-4"}),e?(0,bS.jsxs)("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 p-4 rounded-xl bg-red-500/10 text-red-500 border border-red-500/20 font-medium hover:bg-red-500/20 transition-colors",children:[(0,bS.jsx)(EP,{size:20}),"Logout"]}):(0,bS.jsx)("div",{className:"flex flex-col gap-4",children:(0,bS.jsx)(Pe,{to:"/login",onClick:()=>a(!1),className:"flex justify-center p-4 rounded-xl bg-brand-600 text-white font-medium shadow-lg hover:bg-brand-500",children:"Login"})})]})})})]}),(0,bS.jsx)("div",{className:"h-16 md:h-20"})]})},eM=(0,t.createContext)(),tM=()=>(0,t.useContext)(eM),nM=e=>{let{children:n}=e;const[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{p(!0);let e={teams:!1,players:!1,matches:!1,tournaments:!1,lineups:!1};const t=()=>{e.teams&&e.players&&e.matches&&e.tournaments&&e.lineups&&p(!1)},n=Pk(Nw(vS,"teams"),n=>{s(n.docs.map(e=>It({id:e.id},e.data()))),e.teams=!0,t()},e=>{console.error("Error fetching teams (likely permission denied):",e)}),r=Pk(Nw(vS,"players"),n=>{a(n.docs.map(e=>It({id:e.id},e.data()))),e.players=!0,t()},e=>{console.error("Error fetching players:",e)}),i=Pk(Nw(vS,"matches"),n=>{l(n.docs.map(e=>It({id:e.id},e.data()))),e.matches=!0,t()},e=>{console.error("Error fetching matches:",e)}),o=Pk(Nw(vS,"tournaments"),n=>{u(n.docs.map(e=>It({id:e.id},e.data()))),e.tournaments=!0,t()},e=>{console.error("Error fetching tournaments:",e)}),c=Pk(Nw(vS,"lineups"),n=>{h(n.docs.map(e=>It({id:e.id},e.data()))),e.lineups=!0,t()},n=>{console.error("Error fetching lineups:",n),e.lineups=!0,t()}),d=setTimeout(()=>{p(!1)},5e3);return()=>{clearTimeout(d),n(),r(),i(),o(),c()}},[]);const m={teams:r,players:i,matches:o,tournaments:c,lineups:d,loading:f};return(0,bS.jsx)(eM.Provider,{value:m,children:n})},rM=e=>{let{lineup:t,players:n}=e;if(!t||!t.starting11||0===t.starting11.length)return(0,bS.jsx)("div",{className:"text-center text-gray-400 py-8",children:(0,bS.jsx)("p",{children:"No lineup available"})});const r=e=>n.find(t=>t.id===e),s=(()=>{const e={Goalkeeper:[],Defender:[],Midfielder:[],Forward:[]};return t.starting11.forEach(t=>{const n=r(t);n&&e[n.position]&&e[n.position].push(n)}),e})(),i=e=>{let{player:t}=e;return(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-1 group",children:[(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white/80 overflow-hidden bg-slate-900/50 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:t.photoUrl?(0,bS.jsx)("img",{src:t.photoUrl,alt:t.name,className:"h-full w-full object-cover"}):(0,bS.jsx)("span",{className:"text-white font-bold text-sm",children:t.name.charAt(0)})}),(0,bS.jsx)("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 bg-brand-500 rounded-full border border-white flex items-center justify-center",children:(0,bS.jsx)("span",{className:"text-[8px] font-bold text-white leading-none",children:t.number||"#"})})]}),(0,bS.jsxs)("div",{className:"text-center",children:[(0,bS.jsx)("div",{className:"text-[10px] md:text-xs font-bold text-white drop-shadow-md leading-tight",children:t.name.split(" ").pop()}),(0,bS.jsx)("div",{className:"text-[8px] text-green-200 font-medium tracking-wider opacity-80 uppercase",children:t.position.slice(0,3)})]})]})};return(0,bS.jsxs)("div",{className:"bg-gradient-to-b from-green-800 to-green-900 rounded-lg p-4 relative overflow-hidden",children:[(0,bS.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,bS.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-px h-full bg-white"}),(0,bS.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 border-2 border-white rounded-full"})]}),(0,bS.jsxs)("div",{className:"relative space-y-4",children:[s.Forward.length>0&&(0,bS.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:s.Forward.map(e=>(0,bS.jsx)(i,{player:e},e.id))}),s.Midfielder.length>0&&(0,bS.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:s.Midfielder.map(e=>(0,bS.jsx)(i,{player:e},e.id))}),s.Defender.length>0&&(0,bS.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:s.Defender.map(e=>(0,bS.jsx)(i,{player:e},e.id))}),s.Goalkeeper.length>0&&(0,bS.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:s.Goalkeeper.map(e=>(0,bS.jsx)(i,{player:e},e.id))})]}),t.bench&&t.bench.length>0&&(0,bS.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-700",children:[(0,bS.jsx)("div",{className:"text-xs text-green-200 mb-2 font-semibold",children:"Bench"}),(0,bS.jsx)("div",{className:"flex gap-2 flex-wrap",children:t.bench.map(e=>{const t=r(e);return t?(0,bS.jsxs)("div",{className:"flex items-center gap-2 bg-black/30 rounded-full pl-1 pr-3 py-1 text-xs text-white border border-white/5",children:[(0,bS.jsx)("div",{className:"h-6 w-6 rounded-full overflow-hidden bg-slate-700 flex items-center justify-center shrink-0",children:t.photoUrl?(0,bS.jsx)("img",{src:t.photoUrl,alt:"",className:"h-full w-full object-cover"}):(0,bS.jsx)("span",{className:"text-[10px] text-white/50",children:t.name.charAt(0)})}),(0,bS.jsx)("span",{className:"font-medium whitespace-nowrap",children:t.name})]},t.id):null})})]})]})},sM=vP("map-pinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]),iM=vP("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),aM=vP("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),oM=vP("shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),lM=vP("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),cM=vP("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),uM=vP("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),dM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},hM=()=>{const{matches:e,players:n,teams:r,tournaments:s,lineups:i,loading:a}=tM(),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("Baramulla"),[d,h]=(0,t.useState)(null),f={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},p="All"===c?s:s.filter(e=>e.district===c);(0,t.useEffect)(()=>{(!o||"All"===o)&&p.length>0&&l(p[0].name)},[p,o]);const m=o&&"All"!==o?e.filter(e=>e.competition===o):e,g=o&&"All"!==o?r.filter(e=>(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(o)).map(e=>e.name):null,v=g?n.filter(e=>g.includes(e.team)):n,y=m.filter(e=>"live"===e.status),x=m.filter(e=>"scheduled"===e.status),b=m.filter(e=>"finished"===e.status).slice(0,5),w=[...v].sort((e,t)=>(t.goals||0)-(e.goals||0)).slice(0,5),k=o&&"All"!==o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"All";if(!e||0===e.length)return[];const r={};return e.filter(e=>!n||"All"===n||(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(n)).forEach(e=>{r[e.name]={id:e.id,name:e.name,shortName:e.shortName||e.name.substring(0,3).toUpperCase(),logoUrl:e.logoUrl||"",played:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,points:0,form:[]}}),t.filter(e=>("All"===n||!n||e.competition===n)&&"finished"===e.status).forEach(e=>{const t=r[e.teamA],n=r[e.teamB];if(!t||!n)return;t.played++,n.played++;const s=Number(e.scoreA),i=Number(e.scoreB);t.goalsFor+=s,t.goalsAgainst+=i,n.goalsFor+=i,n.goalsAgainst+=s,s>i?(t.wins++,t.points+=3,n.losses++,t.form.push("W"),n.form.push("L")):s<i?(n.wins++,n.points+=3,t.losses++,n.form.push("W"),t.form.push("L")):(t.draws++,n.draws++,t.points+=1,n.points+=1,t.form.push("D"),n.form.push("D"))}),Object.values(r).sort((e,t)=>{if(t.points!==e.points)return t.points-e.points;const n=e.goalsFor-e.goalsAgainst,r=t.goalsFor-t.goalsAgainst;return r!==n?r-n:t.goalsFor-e.goalsFor})}(r,e,o):[],N=k.slice(0,5),S=e=>r.find(t=>t.name===e)||{},j=(new Date).toISOString().split("T")[0],E=new Date;E.setDate(E.getDate()+7);const T=E.toISOString().split("T")[0],C=(e.filter(e=>e.date===j),e.filter(e=>e.date>j&&e.date<=T).sort((e,t)=>e.date.localeCompare(t.date))),I=(0,t.useMemo)(()=>{const t={};return[...new Set(s.map(e=>e.district))].filter(Boolean).forEach(e=>{t[e]={matches:0,tournaments:0,teams:0}}),s.forEach(e=>{t[e.district]&&t[e.district].tournaments++}),e.forEach(e=>{const n=s.find(t=>t.name===e.competition);n&&n.district&&t[n.district]&&t[n.district].matches++}),r.forEach(e=>{const n=Array.isArray(e.tournaments)?e.tournaments:[],r=new Set;n.forEach(e=>{const t=s.find(t=>t.name===e);t&&t.district&&r.add(t.district)}),r.forEach(e=>{t[e]&&t[e].teams++})}),Object.entries(t).filter(e=>{let[t,n]=e;return n.tournaments>0||n.matches>0}).sort((e,t)=>t[1].matches-e[1].matches)},[s,e,r]);return a&&0===e.length?(0,bS.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),(0,bS.jsx)("div",{className:"text-slate-400 font-medium animate-pulse",children:"Loading Match Data..."})]})}):(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,bS.jsxs)(tP.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-6",children:[(0,bS.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:"Match Center"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"Track live scores, fixtures, and statistics in real-time."})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)(sM,{className:"text-brand-400",size:20}),(0,bS.jsxs)("select",{value:c,onChange:e=>{u(e.target.value),l("All")},className:"bg-dark-card/50 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-2.5 text-sm font-medium text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",children:[(0,bS.jsx)("option",{value:"All",children:"All Districts"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:dM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:dM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,bS.jsxs)("div",{className:"flex flex-wrap gap-2 bg-dark-card/50 backdrop-blur-sm p-1.5 rounded-xl border border-white/5",children:[(0,bS.jsx)("button",{onClick:()=>l("All"),className:WR("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300","All"===o?"bg-brand-500 text-white shadow-lg shadow-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:"All Tournaments"}),p.map(e=>(0,bS.jsxs)("button",{onClick:()=>l(e.name),className:WR("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2",o===e.name?"bg-brand-500 text-white shadow-lg shadow-brand-500/20":"text-slate-400 hover:text-white hover:bg-white/5"),children:[e.name,e.district&&(0,bS.jsxs)("span",{className:"text-[10px] opacity-60",children:["(",e.district,")"]})]},e.id))]})]}),(0,bS.jsxs)(tP.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,bS.jsxs)("div",{className:"lg:col-span-8 space-y-8",children:[(0,bS.jsxs)(tP.section,{variants:f,children:[(0,bS.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("span",{className:"h-3 w-3 absolute -top-1 -right-1 bg-red-500 rounded-full animate-ping"}),(0,bS.jsx)(iM,{className:"text-red-500"})]}),(0,bS.jsx)("h2",{className:"text-xl font-display font-bold text-white",children:"Live Now"})]}),y.length>0?(0,bS.jsx)("div",{className:"grid gap-4",children:y.map(e=>{const t=d===e.id,r=(s=e.id,i.filter(e=>e.matchId===s));var s;const a=S(e.teamA),o=S(e.teamB);return(0,bS.jsxs)(tP.div,{layout:!0,className:"glass-card rounded-2xl overflow-hidden group hover:border-brand-500/30 transition-colors",children:[(0,bS.jsxs)("div",{className:"p-5 md:p-6",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,bS.jsxs)("span",{className:"px-3 py-1 rounded-full bg-red-500/10 text-red-500 text-xs font-bold uppercase tracking-wider border border-red-500/20 flex items-center gap-2",children:[(0,bS.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-red-500 animate-pulse"}),"Live \u2022 ",e.currentMinute,"'"]}),(0,bS.jsxs)("div",{className:"hidden md:flex items-center gap-4 text-xs font-medium text-slate-400",children:[e.stadium&&(0,bS.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,bS.jsx)(aM,{size:14})," ",e.stadium]}),(0,bS.jsx)("span",{className:"px-2 py-1 bg-white/5 rounded text-slate-300",children:e.competition})]})]}),(0,bS.jsxs)("div",{className:"flex items-center justify-between gap-4 md:gap-8",children:[(0,bS.jsxs)("div",{className:"flex-1 flex flex-col items-center md:flex-row md:items-center gap-4 text-center md:text-left",children:[(0,bS.jsx)("div",{className:"h-12 w-12 md:h-14 md:w-14 rounded-full bg-slate-800 flex items-center justify-center text-xl font-bold text-slate-400 ring-2 ring-white/5 overflow-hidden",children:a.logoUrl?(0,bS.jsx)("img",{src:a.logoUrl,alt:e.teamA,className:"h-full w-full object-contain p-2 bg-white"}):e.teamA.charAt(0)}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"text-lg md:text-xl font-bold text-white",children:e.teamA}),a.manager&&(0,bS.jsxs)("div",{className:"text-xs text-slate-500 hidden md:block",children:["Mgr: ",a.manager]})]})]}),(0,bS.jsx)("div",{className:"px-6 py-3 bg-black/40 rounded-xl border border-white/5 backdrop-blur-md",children:(0,bS.jsxs)("span",{className:"font-impact text-4xl md:text-5xl tracking-wider text-white",children:[e.scoreA," ",(0,bS.jsx)("span",{className:"text-slate-600 mx-2",children:"-"})," ",e.scoreB]})}),(0,bS.jsxs)("div",{className:"flex-1 flex flex-col items-center md:flex-row-reverse md:items-center gap-4 text-center md:text-right",children:[(0,bS.jsx)("div",{className:"h-12 w-12 md:h-14 md:w-14 rounded-full bg-slate-800 flex items-center justify-center text-xl font-bold text-slate-400 ring-2 ring-white/5 overflow-hidden",children:o.logoUrl?(0,bS.jsx)("img",{src:o.logoUrl,alt:e.teamB,className:"h-full w-full object-contain p-2 bg-white"}):e.teamB.charAt(0)}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"text-lg md:text-xl font-bold text-white",children:e.teamB}),o.manager&&(0,bS.jsxs)("div",{className:"text-xs text-slate-500 hidden md:block",children:["Mgr: ",o.manager]})]})]})]}),(0,bS.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,bS.jsxs)(Pe,{to:"/live/".concat(e.id),className:"flex items-center gap-2 px-5 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-brand-500/20",children:[(0,bS.jsx)(iM,{size:16})," Match Center"]}),r.length>0&&(0,bS.jsxs)("button",{onClick:()=>h(t?null:e.id),className:"flex items-center gap-2 px-5 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg text-sm font-semibold transition-all border border-white/5",children:[(0,bS.jsx)(oM,{size:16})," ",t?"Hide Lineups":"Lineups"]})]})]}),(0,bS.jsx)(uP,{children:t&&(0,bS.jsx)(tP.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-white/5 bg-black/20",children:(0,bS.jsx)("div",{className:"p-6 grid md:grid-cols-2 gap-8",children:r.map(e=>(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-b border-white/5 pb-2",children:[e.teamName," XI"]}),(0,bS.jsx)(rM,{lineup:e,players:n})]},e.id))})})})]},e.id)})}):(0,bS.jsxs)("div",{className:"p-8 rounded-2xl border border-dashed border-white/10 bg-white/5 flex flex-col items-center justify-center text-center",children:[(0,bS.jsx)(lM,{className:"w-10 h-10 text-slate-500 mb-3"}),(0,bS.jsx)("h3",{className:"text-slate-300 font-medium",children:"No Live Matches"}),(0,bS.jsx)("p",{className:"text-slate-500 text-sm",children:"Check upcoming fixtures below."})]})]}),(0,bS.jsxs)(tP.section,{variants:f,children:[(0,bS.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,bS.jsxs)("h2",{className:"text-xl font-display font-bold text-white flex items-center gap-2",children:[(0,bS.jsx)(cM,{className:"text-brand-400",size:20})," Upcoming"]})}),(0,bS.jsx)("div",{className:"grid gap-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:x.length>0?x.map(e=>{var t,n;return(0,bS.jsxs)("div",{className:"group relative bg-dark-card hover:bg-dark-surface p-4 rounded-xl border border-white/5 hover:border-brand-500/30 transition-all duration-300 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0",children:[(0,bS.jsxs)("div",{className:"flex-shrink-0 flex sm:flex-col items-center gap-2 sm:gap-0 px-3 py-2 bg-white/5 rounded-lg border border-white/5 min-w-[70px] text-center",children:[(0,bS.jsx)("span",{className:"text-xs font-bold text-brand-400 uppercase",children:e.date?new Date(e.date).toLocaleDateString("en-US",{month:"short"}):"TBA"}),(0,bS.jsx)("span",{className:"text-lg font-bold text-white",children:e.date?new Date(e.date).toLocaleDateString("en-US",{day:"numeric"}):"-"}),(0,bS.jsx)("span",{className:"text-[10px] text-slate-400 mt-0.5",children:e.time||"TBD"})]}),(0,bS.jsxs)("div",{className:"flex-grow flex flex-col md:flex-row items-center gap-6 justify-center",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-3 w-1/3 justify-end text-right",children:[(0,bS.jsx)("span",{className:"font-bold text-slate-200",children:e.teamA}),(0,bS.jsx)("div",{className:"h-8 w-8 rounded-full bg-white/5 flex items-center justify-center overflow-hidden border border-white/10",children:null!==(t=r.find(t=>t.name===e.teamA))&&void 0!==t&&t.logoUrl?(0,bS.jsx)("img",{src:r.find(t=>t.name===e.teamA).logoUrl,alt:"",className:"h-full w-full object-contain p-1"}):(0,bS.jsx)("span",{className:"text-[10px] text-slate-500",children:e.teamA.substring(0,2).toUpperCase()})})]}),(0,bS.jsx)("div",{className:"px-3 py-1 bg-black/30 rounded text-xs font-medium text-slate-500",children:"VS"}),(0,bS.jsxs)("div",{className:"flex items-center gap-3 w-1/3 justify-start text-left",children:[(0,bS.jsx)("div",{className:"h-8 w-8 rounded-full bg-white/5 flex items-center justify-center overflow-hidden border border-white/10",children:null!==(n=r.find(t=>t.name===e.teamB))&&void 0!==n&&n.logoUrl?(0,bS.jsx)("img",{src:r.find(t=>t.name===e.teamB).logoUrl,alt:"",className:"h-full w-full object-contain p-1"}):(0,bS.jsx)("span",{className:"text-[10px] text-slate-500",children:e.teamB.substring(0,2).toUpperCase()})}),(0,bS.jsx)("span",{className:"font-bold text-slate-200",children:e.teamB})]})]}),(0,bS.jsx)("div",{className:"flex-shrink-0 flex items-center gap-3 opacity-50 group-hover:opacity-100 transition-opacity",children:(0,bS.jsx)("span",{className:"text-xs text-slate-400 bg-white/5 px-2 py-1 rounded",children:e.competition})}),(0,bS.jsx)(Pe,{to:"/live/".concat(e.id),className:"absolute inset-0"})]},e.id)}):(0,bS.jsx)("div",{className:"text-slate-500 text-sm text-center py-6",children:"No upcoming matches scheduled."})})]}),(0,bS.jsxs)(tP.section,{variants:f,children:[(0,bS.jsxs)("h2",{className:"text-xl font-display font-bold text-white mb-4 flex items-center gap-2",children:[(0,bS.jsx)(lM,{className:"text-slate-400",size:20})," Recent Results"]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.length>0?b.map(e=>(0,bS.jsx)("div",{className:"p-4 rounded-xl bg-dark-card border border-white/5 flex flex-col gap-3 group hover:bg-dark-surface hover:border-brand-500/30 transition-all cursor-pointer",children:(0,bS.jsxs)(Pe,{to:"/live/".concat(e.id),className:"block",children:[(0,bS.jsxs)("div",{className:"flex justify-between text-xs text-slate-500",children:[(0,bS.jsx)("span",{children:e.competition}),(0,bS.jsx)("span",{children:e.date&&new Date(e.date).toLocaleDateString()})]}),(0,bS.jsx)("div",{className:"flex justify-between items-center",children:(0,bS.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bS.jsx)("span",{className:WR("font-medium",e.scoreA>e.scoreB?"text-white":"text-slate-400"),children:e.teamA}),(0,bS.jsx)("span",{className:WR("font-bold px-2 py-0.5 rounded",e.scoreA>e.scoreB?"bg-brand-500/10 text-brand-400":"bg-white/5 text-slate-500"),children:e.scoreA})]}),(0,bS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bS.jsx)("span",{className:WR("font-medium",e.scoreB>e.scoreA?"text-white":"text-slate-400"),children:e.teamB}),(0,bS.jsx)("span",{className:WR("font-bold px-2 py-0.5 rounded",e.scoreB>e.scoreA?"bg-brand-500/10 text-brand-400":"bg-white/5 text-slate-500"),children:e.scoreB})]})]})}),(0,bS.jsx)("div",{className:"mt-3 pt-2 border-t border-white/5 text-center",children:(0,bS.jsx)("span",{className:"text-[10px] font-bold text-brand-400 uppercase tracking-widest group-hover:text-brand-300 transition-colors",children:"Match Report \u2192"})})]})},e.id)):(0,bS.jsx)("div",{className:"text-slate-500 text-sm",children:"No recent matches."})})]})]}),(0,bS.jsxs)("div",{className:"lg:col-span-4 space-y-8",children:[(0,bS.jsxs)(tP.div,{variants:f,className:"glass-card rounded-2xl p-6",children:[(0,bS.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bS.jsxs)("h3",{className:"font-display font-bold text-white flex items-center gap-2",children:[(0,bS.jsx)(bP,{size:18,className:"text-yellow-500"})," Standings"]}),(0,bS.jsxs)(Pe,{to:"/leaderboard",className:"text-xs text-brand-400 hover:text-brand-300 font-medium flex items-center",children:["View All ",(0,bS.jsx)(IP,{size:14})]})]}),"All"===o?(0,bS.jsxs)("div",{className:"text-center py-8 px-4 bg-white/5 rounded-xl border border-dashed border-white/10",children:[(0,bS.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Select a tournament filter"}),(0,bS.jsx)("p",{className:"text-xs text-slate-500",children:"Choose a competition from the top to view its table."})]}):N.length>0?(0,bS.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/5",children:(0,bS.jsxs)("table",{className:"w-full text-sm",children:[(0,bS.jsx)("thead",{className:"bg-white/5 text-slate-400 text-xs uppercase",children:(0,bS.jsxs)("tr",{children:[(0,bS.jsx)("th",{className:"py-2.5 px-3 text-left font-semibold",children:"Club"}),(0,bS.jsx)("th",{className:"py-2.5 px-3 text-center font-semibold",children:"P"}),(0,bS.jsx)("th",{className:"py-2.5 px-3 text-center font-semibold text-white",children:"Pts"})]})}),(0,bS.jsx)("tbody",{className:"divide-y divide-white/5 bg-black/20",children:N.map((e,t)=>(0,bS.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,bS.jsx)("td",{className:"py-2.5 px-3",children:(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)("span",{className:WR("text-xs font-bold w-4 text-slate-500",0===t&&"text-yellow-500",1===t&&"text-slate-300",2===t&&"text-amber-700"),children:t+1}),(0,bS.jsx)("div",{className:"h-6 w-6 rounded-full bg-white/10 flex items-center justify-center overflow-hidden border border-white/5",children:e.logoUrl?(0,bS.jsx)("img",{src:e.logoUrl,alt:"",className:"h-full w-full object-contain p-0.5"}):(0,bS.jsx)("span",{className:"text-[8px] text-slate-400",children:e.name.substring(0,2)})}),(0,bS.jsx)("span",{className:"font-medium text-slate-200 truncate max-w-[80px]",children:e.name})]})}),(0,bS.jsx)("td",{className:"py-2.5 px-3 text-center text-slate-400 text-xs",children:e.played}),(0,bS.jsx)("td",{className:"py-2.5 px-3 text-center font-bold text-white",children:e.points})]},e.id))})]})}):(0,bS.jsx)("div",{className:"text-slate-500 text-sm text-center",children:"No standings data."})]}),(0,bS.jsxs)(tP.div,{variants:f,className:"glass-card rounded-2xl p-6",children:[(0,bS.jsxs)("h3",{className:"font-display font-bold text-white mb-6 flex items-center gap-2",children:[(0,bS.jsx)(uM,{size:18,className:"text-brand-400"})," Top Performers"]}),(0,bS.jsx)("div",{className:"space-y-4",children:w.length>0?w.map((e,t)=>(0,bS.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center text-slate-300 font-bold border border-white/5 overflow-hidden",children:e.photoUrl?(0,bS.jsx)("img",{src:e.photoUrl,alt:e.name,className:"h-full w-full object-cover"}):e.name.charAt(0)}),(0,bS.jsx)("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 rounded-full bg-dark-bg border border-white/10 flex items-center justify-center text-[10px] text-slate-400 font-bold",children:t+1})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-bold text-sm text-white group-hover:text-brand-400 transition-colors",children:e.name}),(0,bS.jsx)("div",{className:"text-xs text-slate-500",children:e.team})]})]}),(0,bS.jsxs)("div",{className:"text-right",children:[(0,bS.jsx)("span",{className:"text-lg font-impact text-brand-500",children:e.goals}),(0,bS.jsx)("span",{className:"block text-[10px] text-slate-500 uppercase font-bold",children:"Goals"})]})]},e.id)):(0,bS.jsx)("div",{className:"text-slate-500 text-sm",children:"No player stats available."})}),(0,bS.jsx)("div",{className:"mt-6 pt-4 border-t border-white/5",children:(0,bS.jsx)(Pe,{to:"/players",className:"block w-full text-center py-2 text-xs font-medium text-slate-400 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:"View Player Stats"})})]}),(0,bS.jsxs)(tP.div,{variants:f,className:"glass-card rounded-2xl p-6 bg-gradient-to-br from-slate-900 to-brand-950/20",children:[(0,bS.jsxs)("h3",{className:"font-display font-bold text-white mb-6 flex items-center gap-2",children:[(0,bS.jsx)(sM,{size:18,className:"text-brand-400"})," District Stats"]}),(0,bS.jsx)("div",{className:"space-y-4",children:I.slice(0,6).map(e=>{var t,n;let[r,s]=e;return(0,bS.jsxs)("div",{className:"group flex flex-col gap-2",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-end",children:[(0,bS.jsx)("span",{className:"text-sm font-bold text-white",children:r}),(0,bS.jsxs)("span",{className:"text-xs text-slate-500",children:[s.matches," Matches"]})]}),(0,bS.jsx)("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:(0,bS.jsx)("div",{className:"h-full bg-brand-500 rounded-full group-hover:bg-brand-400 transition-all",style:{width:"".concat(Math.min(100,s.matches/((null===(t=I[0])||void 0===t||null===(n=t[1])||void 0===n?void 0:n.matches)||1)*100),"%")}})}),(0,bS.jsxs)("div",{className:"flex gap-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[(0,bS.jsxs)("span",{children:[s.tournaments," Tourneys"]}),(0,bS.jsx)("span",{children:"\u2022"}),(0,bS.jsxs)("span",{children:[s.teams," Teams"]})]})]},r)})})]}),(0,bS.jsxs)(tP.div,{variants:f,className:"glass-card rounded-2xl p-6",children:[(0,bS.jsxs)("h3",{className:"font-display font-bold text-white mb-6 flex items-center gap-2",children:[(0,bS.jsx)(cM,{size:18,className:"text-indigo-400"})," This Week"]}),(0,bS.jsx)("div",{className:"space-y-3",children:C.length>0?C.map(e=>(0,bS.jsx)(Pe,{to:"/live/".concat(e.id),className:"block group",children:(0,bS.jsxs)("div",{className:"flex gap-4 p-3 rounded-xl hover:bg-white/5 transition-all border border-transparent hover:border-white/10",children:[(0,bS.jsxs)("div",{className:"flex-shrink-0 w-10 text-center",children:[(0,bS.jsx)("div",{className:"text-[10px] uppercase font-black text-indigo-400",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})}),(0,bS.jsx)("div",{className:"text-lg font-black text-white",children:new Date(e.date).getDate()})]}),(0,bS.jsxs)("div",{className:"flex-1 flex flex-col justify-center",children:[(0,bS.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,bS.jsxs)("span",{className:"text-xs font-bold text-slate-200 truncate",children:[e.teamA," vs ",e.teamB]}),(0,bS.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:e.time})]}),(0,bS.jsxs)("div",{className:"text-[10px] text-slate-500 truncate",children:[e.competition," \u2022 ",e.stadium||"TBA"]})]})]})},e.id)):(0,bS.jsx)("p",{className:"text-slate-500 text-sm italic text-center py-4",children:"No fixtures for the next 7 days."})})]})]})]})]})},fM=()=>{const{tournaments:e,loading:t}=tM(),{isAdmin:n}=kS();return t&&0===e.length?(0,bS.jsx)("div",{className:"text-center text-white py-20",children:"Loading Tournaments..."}):(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,bS.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Tournaments"}),n&&(0,bS.jsxs)(Pe,{to:"/admin/tournaments",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded flex items-center",children:[(0,bS.jsx)("span",{className:"mr-2",children:"+"})," Add Tournament"]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(e=>(0,bS.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:(0,bS.jsxs)("div",{className:"p-6",children:[(0,bS.jsx)("div",{className:"flex justify-between items-start",children:(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h2",{className:"text-xl font-bold text-white",children:e.name}),(0,bS.jsx)("div",{className:"mt-2 flex items-center",children:(0,bS.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("ongoing"===e.status?"bg-green-100 text-green-800":"finished"===e.status?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})}),(0,bS.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("p",{className:"text-gray-400",children:"Start Date"}),(0,bS.jsx)("p",{className:"text-white",children:e.startDate?new Date(e.startDate).toLocaleDateString():"TBD"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("p",{className:"text-gray-400",children:"End Date"}),(0,bS.jsx)("p",{className:"text-white",children:e.endDate?new Date(e.endDate).toLocaleDateString():"TBD"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("p",{className:"text-gray-400",children:"Teams"}),(0,bS.jsx)("p",{className:"text-white",children:e.teamsCount})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("p",{className:"text-gray-400",children:"Matches"}),(0,bS.jsx)("p",{className:"text-white",children:e.matchesCount})]})]}),(0,bS.jsx)("div",{className:"mt-6",children:(0,bS.jsx)(Pe,{to:"/tournaments/".concat(e.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"View Details"})})]})},e.id)),0===e.length&&(0,bS.jsx)("div",{className:"col-span-full text-center text-gray-400 py-10",children:"No tournaments found."})]})]})},pM=vP("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},gM=()=>{const{teams:e,tournaments:n,loading:r}=tM(),{isAdmin:s}=kS(),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("Baramulla"),c={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};if(r&&0===e.length)return(0,bS.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),(0,bS.jsx)("div",{className:"text-slate-400 font-medium animate-pulse",children:"Loading Teams..."})]})});const u=e.filter(e=>{const t=e.name.toLowerCase().includes(i.toLowerCase());if("All"===o)return t;const r=(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).some(e=>{const t=n.find(t=>t.name===e);return t&&t.district===o});return t&&r});return(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,bS.jsx)(tP.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-6",children:(0,bS.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:"Clubs"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"Manage and view all competing teams."})]}),(0,bS.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(sM,{className:"text-brand-400",size:20}),(0,bS.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"bg-dark-card/50 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-2.5 text-sm font-medium text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",children:[(0,bS.jsx)("option",{value:"All",children:"All Districts"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:mM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:mM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),s&&(0,bS.jsxs)(Pe,{to:"/admin/teams",className:"flex items-center gap-2 px-5 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-xl text-sm font-semibold transition-all shadow-lg shadow-brand-500/20 hover:scale-105 active:scale-95",children:[(0,bS.jsx)(pM,{size:18})," Add New Team"]})]})]})}),(0,bS.jsxs)(tP.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"relative max-w-md",children:[(0,bS.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,bS.jsx)(jP,{className:"h-5 w-5 text-slate-500"})}),(0,bS.jsx)("input",{type:"text",placeholder:"Search teams...",className:"block w-full pl-10 pr-3 py-3 border border-white/10 rounded-xl leading-5 bg-white/5 text-slate-300 placeholder-slate-500 focus:outline-none focus:bg-white/10 focus:ring-1 focus:ring-brand-500/50 focus:border-brand-500/50 sm:text-sm transition-colors",value:i,onChange:e=>a(e.target.value)})]}),(0,bS.jsx)(tP.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>(0,bS.jsxs)(tP.div,{variants:c,whileHover:{y:-5},className:"group relative glass-card rounded-2xl overflow-hidden hover:border-brand-500/30 transition-all duration-300",children:[(0,bS.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-brand-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,bS.jsx)("div",{className:"p-6 pb-4",children:(0,bS.jsxs)("div",{className:"flex items-center gap-4",children:[(0,bS.jsx)("div",{className:"flex-shrink-0",children:e.logoUrl?(0,bS.jsx)("div",{className:"w-16 h-16 rounded-xl bg-white/5 border border-white/10 p-2 flex items-center justify-center overflow-hidden",children:(0,bS.jsx)("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-contain"})}):(0,bS.jsx)("div",{className:"w-16 h-16 rounded-xl bg-brand-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-brand-500/20",children:e.shortName||e.name.substring(0,2).toUpperCase()})}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h3",{className:"text-xl font-display font-bold text-white group-hover:text-brand-400 transition-colors",children:e.name}),(0,bS.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,bS.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-brand-500/10 text-brand-400 border border-brand-500/10",children:e.status||"Active"}),(0,bS.jsxs)("span",{className:"text-slate-500 text-xs font-medium",children:["Est. ",e.founded||"N/A"]})]})]})]})}),(0,bS.jsxs)("div",{className:"px-6 py-4 border-t border-white/5 bg-black/20 flex justify-between items-center relative z-10",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[(0,bS.jsx)(wP,{size:14}),(0,bS.jsxs)("span",{children:["Squad: ",e.players||0]})]}),(0,bS.jsx)("span",{className:WR("text-[10px] uppercase font-bold px-2 py-0.5 rounded-full border tracking-wide","Inactive"===e.status?"bg-slate-800 text-slate-400 border-slate-700":"Suspended"===e.status?"bg-red-900/20 text-red-500 border-red-500/20":"Dissolved"===e.status?"bg-black text-slate-600 border-slate-800":"bg-green-500/10 text-brand-400 border-brand-500/20"),children:e.status||"Active"})]})]},e.id))}),0===u.length&&(0,bS.jsxs)(tP.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[(0,bS.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-white/5 text-slate-500 mb-4",children:(0,bS.jsx)(bP,{size:32,strokeWidth:1.5})}),(0,bS.jsx)("h3",{className:"text-lg font-medium text-white mb-1",children:"No teams found"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"Try adjusting your search criteria."})]})]})},vM=vP("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),yM=vP("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),xM=vP("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),bM=e=>{if(!e)return null;const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const s=n.getMonth()-t.getMonth();return(s<0||0===s&&n.getDate()<t.getDate())&&r--,r},wM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},kM=()=>{const{players:e,loading:n}=tM(),[r,s]=(0,t.useState)("All"),[i,a]=(0,t.useState)("Baramulla"),[o,l]=(0,t.useState)(""),{isAdmin:c}=kS(),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({}),p=(e,t,n)=>{f(r=>It(It({},r),{},{[e]:It(It({},r[e]),{},{[t]:Number(n)})}))},m=e.filter(e=>{const t="All"===r||e.position===r,n=e.name.toLowerCase().includes(o.toLowerCase())||e.team.toLowerCase().includes(o.toLowerCase()),s="All"===i||e.district===i;return t&&n&&s});return n&&0===e.length?(0,bS.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),(0,bS.jsx)("div",{className:"text-slate-400 font-medium animate-pulse",children:"Loading Players..."})]})}):(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,bS.jsxs)(tP.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-6",children:[(0,bS.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:"Players"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"View performance stats and player details."})]}),(0,bS.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(sM,{className:"text-brand-400",size:20}),(0,bS.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"bg-dark-card/50 backdrop-blur-sm border border-white/10 rounded-xl px-4 py-2.5 text-sm font-medium text-white focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",children:[(0,bS.jsx)("option",{value:"All",children:"All Districts"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:wM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:wM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),c&&(0,bS.jsxs)(Pe,{to:"/admin/players",className:"flex items-center gap-2 px-5 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-xl text-sm font-semibold transition-all shadow-lg shadow-brand-500/20 hover:scale-105 active:scale-95",children:[(0,bS.jsx)(pM,{size:18})," Add Player"]})]})]}),c&&(0,bS.jsx)("div",{className:"flex items-center gap-3",children:u?(0,bS.jsxs)(bS.Fragment,{children:[(0,bS.jsxs)("button",{onClick:async()=>{if(window.confirm("Save all changes?"))try{const e=Object.entries(h).map(e=>{let[t,n]=e;return _k(Sw(vS,"players",t),n)});await Promise.all(e),f({}),d(!1),alert("Changes saved!")}catch(e){console.error("Save failed:",e),alert("Error saving changes")}},className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-400 text-white rounded-lg text-sm font-medium transition-colors",children:[(0,bS.jsx)(vM,{size:16})," Save"]}),(0,bS.jsxs)("button",{onClick:()=>{d(!1),f({})},className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20 rounded-lg text-sm font-medium transition-colors",children:[(0,bS.jsx)(TP,{size:16})," Cancel"]})]}):(0,bS.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/5 rounded-lg text-sm font-medium transition-colors",children:[(0,bS.jsx)(yM,{size:16})," Edit Stats"]})})]}),(0,bS.jsxs)(tP.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4",children:[(0,bS.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,bS.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,bS.jsx)(jP,{className:"h-5 w-5 text-slate-500"})}),(0,bS.jsx)("input",{type:"text",placeholder:"Search players or teams...",className:"block w-full pl-10 pr-3 py-2.5 border border-white/10 rounded-xl leading-5 bg-white/5 text-slate-300 placeholder-slate-500 focus:outline-none focus:bg-white/10 focus:ring-1 focus:ring-brand-500/50 focus:border-brand-500/50 sm:text-sm transition-colors",value:o,onChange:e=>l(e.target.value)})]}),(0,bS.jsxs)("div",{className:"relative max-w-xs",children:[(0,bS.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,bS.jsx)(xM,{className:"h-4 w-4 text-slate-500"})}),(0,bS.jsx)("select",{className:"block w-full pl-9 pr-10 py-2.5 border border-white/10 rounded-xl leading-5 bg-dark-card text-slate-300 focus:outline-none focus:ring-1 focus:ring-brand-500/50 sm:text-sm appearance-none cursor-pointer",value:r,onChange:e=>s(e.target.value),children:["All","Forward","Midfielder","Defender","Goalkeeper"].map(e=>(0,bS.jsx)("option",{value:e,children:"All"===e?"All Positions":e},e))})]})]}),(0,bS.jsxs)(tP.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card rounded-2xl overflow-hidden border border-white/5",children:[(0,bS.jsx)("div",{className:"overflow-x-auto",children:(0,bS.jsxs)("table",{className:"min-w-full divide-y divide-white/5",children:[(0,bS.jsx)("thead",{className:"bg-white/5",children:(0,bS.jsxs)("tr",{children:[(0,bS.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Player"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Team"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Position"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Age"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Matches"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Goals"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Assists"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Cards"})]})}),(0,bS.jsx)("tbody",{className:"divide-y divide-white/5 bg-transparent",children:m.map(e=>{const t=h[e.id],n=It(It({},e),t);return(0,bS.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-300 overflow-hidden border border-white/10 group-hover:border-brand-500/30 transition-colors",children:e.photoUrl?(0,bS.jsx)("img",{src:e.photoUrl,alt:e.name,className:"h-full w-full object-cover"}):e.name.charAt(0)}),(0,bS.jsx)("div",{className:"text-sm font-medium text-white group-hover:text-brand-400 transition-colors",children:e.name})]})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bS.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,bS.jsx)(wP,{size:14,className:"text-slate-500"}),e.team]})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bS.jsx)("span",{className:WR("px-2.5 py-0.5 rounded-full text-xs font-medium border","Forward"===e.position?"bg-red-500/10 text-red-400 border-red-500/20":"Midfielder"===e.position?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"Defender"===e.position?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-green-500/10 text-green-400 border-green-500/20"),children:e.position})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,bS.jsxs)("div",{className:"flex flex-col items-center",children:[(0,bS.jsx)("span",{className:"text-sm text-white font-medium",children:e.dob?bM(e.dob):e.age||"-"}),e.dob&&(0,bS.jsxs)("span",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[(0,bS.jsx)(cM,{size:10})," ",new Date(e.dob).toLocaleDateString()]})]})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u?(0,bS.jsx)("input",{type:"number",className:"w-16 bg-black/50 border border-white/10 rounded px-2 py-1 text-white text-center focus:ring-1 focus:ring-brand-500 outline-none",value:n.matches||0,onChange:t=>p(e.id,"matches",t.target.value)}):(0,bS.jsx)("span",{className:"text-sm text-slate-400",children:n.matches})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u?(0,bS.jsx)("input",{type:"number",className:"w-16 bg-black/50 border border-white/10 rounded px-2 py-1 text-white text-center focus:ring-1 focus:ring-brand-500 outline-none",value:n.goals||0,onChange:t=>p(e.id,"goals",t.target.value)}):(0,bS.jsx)("span",{className:WR("text-sm font-bold",n.goals>0?"text-brand-400":"text-slate-600"),children:n.goals||0})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u?(0,bS.jsx)("input",{type:"number",className:"w-16 bg-black/50 border border-white/10 rounded px-2 py-1 text-white text-center focus:ring-1 focus:ring-brand-500 outline-none",value:n.assists||0,onChange:t=>p(e.id,"assists",t.target.value)}):(0,bS.jsx)("span",{className:WR("text-sm font-medium",n.assists>0?"text-blue-400":"text-slate-600"),children:n.assists||0})}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,bS.jsxs)("div",{className:"flex justify-center gap-1",children:[Array(n.yellowCards||0).fill(0).map((e,t)=>(0,bS.jsx)("div",{className:"h-4 w-3 bg-yellow-400 rounded-sm shadow-sm"},"y-".concat(t))),Array(n.redCards||0).fill(0).map((e,t)=>(0,bS.jsx)("div",{className:"h-4 w-3 bg-red-500 rounded-sm shadow-sm"},"r-".concat(t))),!n.yellowCards&&!n.redCards&&(0,bS.jsx)("span",{className:"text-slate-700",children:"-"})]})})]},e.id)})})]})}),0===m.length&&(0,bS.jsxs)("div",{className:"text-center py-20",children:[(0,bS.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-white/5 text-slate-500 mb-4",children:(0,bS.jsx)(kP,{size:32,strokeWidth:1.5})}),(0,bS.jsx)("h3",{className:"text-lg font-medium text-white mb-1",children:"No players found"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"Try adjusting your filters."})]})]})]})},NM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},SM=()=>{const{teams:e,matches:n,tournaments:r,loading:s}=tM(),[i,a]=(0,t.useState)("All"),[o,l]=(0,t.useState)("Baramulla"),c=["All",...("All"===o?r:r.filter(e=>e.district===o)).map(e=>e.name)],u=(()=>{if(s||0===e.length)return[];const t={};e.filter(e=>{if("All"===i)return!0;return(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(i)}).forEach(e=>{t[e.name]={id:e.id,name:e.name,shortName:e.shortName||e.name.substring(0,3).toUpperCase(),played:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,points:0,form:[]}});return n.filter(e=>("All"===i||!i||e.competition===i)&&"finished"===e.status).forEach(e=>{const n=t[e.teamA],r=t[e.teamB];if(!n||!r)return;n.played++,r.played++;const s=Number(e.scoreA),i=Number(e.scoreB);n.goalsFor+=s,n.goalsAgainst+=i,r.goalsFor+=i,r.goalsAgainst+=s,s>i?(n.wins++,n.points+=3,r.losses++,n.form.push("W"),r.form.push("L")):s<i?(r.wins++,r.points+=3,n.losses++,r.form.push("W"),n.form.push("L")):(n.draws++,r.draws++,n.points+=1,r.points+=1,n.form.push("D"),r.form.push("D"))}),Object.values(t).sort((e,t)=>{if(t.points!==e.points)return t.points-e.points;const n=e.goalsFor-e.goalsAgainst,r=t.goalsFor-t.goalsAgainst;return r!==n?r-n:t.goalsFor-e.goalsFor})})();return s&&0===e.length?(0,bS.jsx)("div",{className:"text-center text-white py-20",children:"Loading Standings..."}):(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,bS.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,bS.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Leaderboard"}),(0,bS.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(sM,{className:"text-brand-400",size:20}),(0,bS.jsxs)("select",{value:o,onChange:e=>{l(e.target.value),a("All")},className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-500 min-w-[160px]",children:[(0,bS.jsx)("option",{value:"All",children:"All Districts"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:NM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:NM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),(0,bS.jsx)("select",{value:i,onChange:e=>a(e.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-500 min-w-[200px]",children:c.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),(0,bS.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:(0,bS.jsxs)("div",{className:"overflow-x-auto",children:[(0,bS.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,bS.jsx)("thead",{className:"bg-gray-700",children:(0,bS.jsxs)("tr",{children:[(0,bS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"#"}),(0,bS.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Team"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"P"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"W"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"D"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"L"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"GF"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"GA"}),(0,bS.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"GD"}),(0,bS.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"PTS"}),(0,bS.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase",children:"Form"})]})}),(0,bS.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:u.map((e,t)=>{const n=e.goalsFor-e.goalsAgainst;return(0,bS.jsxs)("tr",{className:"hover:bg-gray-700 transition-colors",children:[(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300",children:t+1}),(0,bS.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-white font-medium",children:e.name}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.played}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.wins}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.draws}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.losses}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.goalsFor}),(0,bS.jsx)("td",{className:"px-3 py-4 text-center text-gray-300",children:e.goalsAgainst}),(0,bS.jsxs)("td",{className:"px-3 py-4 text-center font-medium ".concat(n>0?"text-green-400":n<0?"text-red-400":"text-gray-300"),children:[n>0?"+":"",n]}),(0,bS.jsx)("td",{className:"px-6 py-4 text-center font-bold text-yellow-400",children:e.points}),(0,bS.jsx)("td",{className:"px-6 py-4",children:(0,bS.jsx)("div",{className:"flex justify-center space-x-1",children:e.form.slice(-5).map((e,t)=>(0,bS.jsx)("span",{className:"w-5 h-5 flex items-center justify-center rounded-full text-xs text-white ".concat("W"===e?"bg-green-500":"D"===e?"bg-yellow-500":"bg-red-500"),children:e},t))})})]},e.id)})})]}),0===u.length&&(0,bS.jsx)("div",{className:"text-center py-10 text-gray-400",children:"No standings data available. Add teams and finish matches to see them here."})]})})]})},jM=e=>{var n,r;let{lineup:s,players:i,onSubstitutionComplete:a}=e;const[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),f=e=>i.find(t=>t.id===e);return(0,bS.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg border-2 border-yellow-500",children:[(0,bS.jsx)("h3",{className:"text-lg font-bold mb-4 text-yellow-400 flex items-center",children:"\ud83d\udd04 Make Substitution"}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Player to Replace (Starting 11)"}),(0,bS.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full bg-gray-700 text-white p-2 rounded border border-gray-600",children:[(0,bS.jsx)("option",{value:"",children:"Select player to replace"}),s.starting11.map(e=>{const t=f(e);return t?(0,bS.jsxs)("option",{value:e,children:[t.name," (",t.position,")"]},e):null})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Substitute (Bench)"}),(0,bS.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full bg-gray-700 text-white p-2 rounded border border-gray-600",children:[(0,bS.jsx)("option",{value:"",children:"Select substitute"}),s.bench&&s.bench.map(e=>{const t=f(e);return t?(0,bS.jsxs)("option",{value:e,children:[t.name," (",t.position,")"]},e):null})]})]})]}),o&&c&&(0,bS.jsx)("div",{className:"bg-gray-700 p-3 rounded mb-4 text-sm",children:(0,bS.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,bS.jsxs)("span",{className:"text-red-400",children:["\u2b07\ufe0f ",null===(n=f(o))||void 0===n?void 0:n.name]}),(0,bS.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,bS.jsxs)("span",{className:"text-green-400",children:["\u2b06\ufe0f ",null===(r=f(c))||void 0===r?void 0:r.name]})]})}),(0,bS.jsx)("button",{onClick:async()=>{if(o&&c){h(!0);try{const t=f(o),n=f(c),r=s.starting11.map(e=>e===o?c:e),i=s.bench.map(e=>e===c?o:e);if(await _k(Sw(vS,"lineups",s.id),{starting11:r,bench:i,lastSubstitution:{playerOut:o,playerIn:c,playerOutName:null===t||void 0===t?void 0:t.name,playerInName:null===n||void 0===n?void 0:n.name,timestamp:new Date}}),s.matchId)try{await Dk(Nw(vS,"matches",s.matchId,"events"),{type:"substitution",team:s.teamName,playerOut:(null===t||void 0===t?void 0:t.name)||"Unknown",playerIn:(null===n||void 0===n?void 0:n.name)||"Unknown",minute:(new Date).getMinutes(),timestamp:new Date})}catch(e){console.error("Error adding substitution event:",e)}l(""),u(""),a&&a(),alert("Substitution: ".concat(null===t||void 0===t?void 0:t.name," \u27a1\ufe0f ").concat(null===n||void 0===n?void 0:n.name))}catch(e){console.error("Error making substitution:",e),alert("Error making substitution: "+e.message)}finally{h(!1)}}else alert("Please select both a player to replace and a substitute")},disabled:!o||!c||d,className:"w-full bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded transition-colors",children:d?"Making Substitution...":"Confirm Substitution"}),(0,bS.jsx)("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"This will swap the selected players between starting 11 and bench"})]})},EM=vP("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),TM=e=>{let{matchId:n,teamA:r,teamB:s}=e;const[i,a]=(0,t.useState)({home:0,draw:0,away:0}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!n)return;try{const e=localStorage.getItem("vote_".concat(n));e&&l(e)}catch(uO){console.warn("LocalStorage not available")}const e=Pk(Sw(vS,"match_predictions",n),e=>{e.exists()?a(e.data()):a({home:0,draw:0,away:0}),u(!1)},e=>{console.error("Snapshot error:",e),u(!1)});return()=>e()},[n]);const m=async e=>{if(n&&!d){h(!0),p(null);try{const t=Sw(vS,"match_predictions",n);if(o){if(o===e)return void h(!1);await Ik(t,{[o]:Lk(-1),[e]:Lk(1)},{merge:!0})}else await Ik(t,{[e]:Lk(1)},{merge:!0});l(e);try{localStorage.setItem("vote_".concat(n),e)}catch(uO){console.warn("Could not save vote to LocalStorage")}}catch(t){console.error("Detailed Voting Error:",t),"permission-denied"===t.code?p("Permission Denied: Your Firestore rules are blocking guest writes to 'match_predictions'."):p("Error: ".concat(t.message||"Failed to save vote"))}finally{h(!1)}}},g=(i.home||0)+(i.draw||0)+(i.away||0),v=[{id:"home",label:r,color:"bg-brand-500"},{id:"draw",label:"Draw",color:"bg-slate-500"},{id:"away",label:s,color:"bg-indigo-500"}];return c&&0===g?(0,bS.jsx)("div",{className:"bg-slate-900/50 dark:bg-white/5 backdrop-blur-sm rounded-3xl p-6 border border-white/5 animate-pulse h-64"}):(0,bS.jsxs)("div",{className:"bg-slate-900/50 dark:bg-white/5 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[(0,bS.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("div",{className:"p-2 bg-brand-500/10 rounded-xl text-brand-400",children:(0,bS.jsx)(uM,{size:20})}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h3",{className:"font-display font-black text-slate-900 dark:text-white italic uppercase tracking-wider text-sm",children:"Win Probability"}),(0,bS.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Fan Predictions"})]})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full border border-white/5",children:[(0,bS.jsx)(kP,{size:12,className:"text-slate-500"}),(0,bS.jsxs)("span",{className:"text-xs font-black text-slate-400",children:[g," Votes"]})]})]}),(0,bS.jsxs)("div",{className:"space-y-6",children:[f&&(0,bS.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:(0,bS.jsx)("p",{className:"text-[10px] text-red-400 font-bold uppercase text-center",children:f})}),d&&(0,bS.jsx)("div",{className:"flex justify-center",children:(0,bS.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-brand-500 border-t-transparent rounded-full"})}),o?(0,bS.jsxs)("div",{className:"space-y-6",children:[(0,bS.jsx)("div",{className:"space-y-4",children:v.map(e=>{const t=(n=i[e.id],0===g?33.3:(n||0)/g*100);var n;const r=o===e.id;return(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)("span",{className:WR("text-xs font-black uppercase tracking-wider",r?"text-brand-400":"text-slate-400"),children:e.label}),r&&(0,bS.jsx)(EM,{size:14,className:"text-brand-400"})]}),(0,bS.jsxs)("span",{className:"text-lg font-impact text-slate-900 dark:text-white",children:[Math.round(t),"%"]})]}),(0,bS.jsx)("div",{className:"h-3 w-full bg-slate-100 dark:bg-white/5 rounded-full overflow-hidden border border-slate-200 dark:border-white/5 p-[1px]",children:(0,bS.jsx)(tP.div,{initial:{width:0},animate:{width:"".concat(t,"%")},className:WR("h-full rounded-full",e.color)})})]},e.id)})}),(0,bS.jsxs)("div",{className:"pt-4 border-t border-white/5",children:[(0,bS.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase mb-3 text-center",children:"Change your prediction:"}),(0,bS.jsx)("div",{className:"grid grid-cols-3 gap-2",children:v.map(e=>(0,bS.jsx)("button",{onClick:()=>m(e.id),className:WR("px-3 py-2 rounded-xl text-[10px] font-black uppercase transition-all border",o===e.id?"bg-brand-500 text-white border-brand-500 shadow-lg shadow-brand-500/20":"bg-white/5 text-slate-500 border-white/5 hover:bg-white/10 hover:text-white"),children:e.label},e.id))})]})]}):(0,bS.jsx)("div",{className:"grid grid-cols-3 gap-3",children:v.map(e=>(0,bS.jsx)("button",{onClick:()=>m(e.id),className:"group relative overflow-hidden bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl p-4 transition-all hover:border-brand-500/30 font-bold",children:(0,bS.jsx)("span",{className:"relative z-10 text-xs font-black text-slate-400 group-hover:text-white uppercase transition-colors",children:e.label})},e.id))})]})]})},CM=()=>{const{matchId:e}=ne(),[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!0),[y,x]=(0,t.useState)(""),{isAdmin:b}=kS(),{players:w,lineups:k,teams:N}=tM();(0,t.useEffect)(()=>{const t=Pk(Sw(vS,"matches",e),e=>{e.exists()?(r(It({id:e.id},e.data())),v(!1)):(x("Match not found"),v(!1))},e=>{console.error("Error getting match:",e),x("Error loading match data"),v(!1)}),n=Pk(Nw(vS,"matches",e,"events"),e=>{const t=[];e.forEach(e=>{t.push(It({id:e.id},e.data()))}),i(t.sort((e,t)=>t.minute-e.minute))},e=>{console.error("Error getting events:",e)});return()=>{t(),n()}},[e]),(0,t.useEffect)(()=>{if(e&&k){const t=k.filter(t=>t.matchId===e);o(t)}},[e,k]);const S=async(t,r)=>{const s="A"===t?"scoreA":"scoreB",i=(n[s]||0)+1;try{if(await _k(Sw(vS,"matches",e),{[s]:i}),await Dk(Nw(vS,"matches",e,"events"),{type:"goal",team:"A"===t?n.teamA:n.teamB,minute:n.currentMinute||0,player:r?r.name:"Unknown Player",playerId:r?r.id:null,timestamp:Date.now()}),r&&r.id){const e=Sw(vS,"players",r.id),t=w.find(e=>e.id===r.id);await _k(e,{goals:((null===t||void 0===t?void 0:t.goals)||0)+1})}d(null)}catch(a){console.error("Error recording goal:",a),alert("Error recording goal. Check console.")}},j=async(t,r)=>{if(r>0)return void(e=>{d({team:e})})(t);if(r<0)return void(e=>{m({team:e})})(t);const s="A"===t?"scoreA":"scoreB",i=(n[s]||0)+r;if(!(i<0))try{await _k(Sw(vS,"matches",e),{[s]:i})}catch(a){console.error("Error updating score:",a)}},E=async t=>{const r=(n.currentMinute||0)+t;if(!(r<0))try{await _k(Sw(vS,"matches",e),{currentMinute:r})}catch(s){console.error("Error updating minute:",s)}};return g?(0,bS.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,bS.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):y?(0,bS.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[(0,bS.jsx)("p",{className:"font-bold",children:"Error"}),(0,bS.jsx)("p",{children:y})]}):n?(0,bS.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,bS.jsxs)("div",{className:"max-w-4xl mx-auto",children:[b&&(0,bS.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg mb-6 border border-green-600",children:[(0,bS.jsx)("h3",{className:"text-green-400 font-bold mb-2",children:"Admin Controls (Live Updates)"}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,bS.jsxs)("div",{className:"p-2 border border-gray-600 rounded",children:[(0,bS.jsx)("p",{className:"text-white mb-2",children:n.teamA}),(0,bS.jsx)("button",{onClick:()=>j("A",1),className:"bg-green-600 text-white px-3 py-1 rounded mx-1 hover:bg-green-700",children:"+ Goal"}),(0,bS.jsx)("button",{onClick:()=>j("A",-1),className:"bg-red-600 text-white px-3 py-1 rounded mx-1 hover:bg-red-700",children:"- Goal"})]}),(0,bS.jsxs)("div",{className:"p-2 border border-gray-600 rounded",children:[(0,bS.jsxs)("p",{className:"text-white mb-2",children:["Minute: ",n.currentMinute,"'"]}),(0,bS.jsx)("button",{onClick:()=>E(-1),className:"bg-red-600 text-white px-3 py-1 rounded mx-1 hover:bg-red-700",children:"-1 Min"}),(0,bS.jsx)("button",{onClick:()=>E(1),className:"bg-blue-600 text-white px-3 py-1 rounded mx-1 hover:bg-blue-700",children:"+1 Min"}),(0,bS.jsx)("button",{onClick:()=>E(5),className:"bg-blue-600 text-white px-3 py-1 rounded mx-1 hover:bg-blue-700",children:"+5 Min"}),(0,bS.jsx)("div",{className:"mt-2",children:(0,bS.jsx)("button",{onClick:async()=>{const t="live"===n.status?"finished":"live";try{await _k(Sw(vS,"matches",e),{status:t})}catch(r){console.error("Error updating status:",r)}},className:"px-4 py-1 rounded text-white ".concat("live"===n.status?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"),children:"live"===n.status?"End Match":"Start Match"})})]}),(0,bS.jsxs)("div",{className:"p-2 border border-gray-600 rounded",children:[(0,bS.jsx)("p",{className:"text-white mb-2",children:n.teamB}),(0,bS.jsx)("button",{onClick:()=>j("B",1),className:"bg-green-600 text-white px-3 py-1 rounded mx-1 hover:bg-green-700",children:"+ Goal"}),(0,bS.jsx)("button",{onClick:()=>j("B",-1),className:"bg-red-600 text-white px-3 py-1 rounded mx-1 hover:bg-red-700",children:"- Goal"})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,bS.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,bS.jsx)("button",{onClick:()=>f({team:"A",type:"yellow"}),className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded text-xs",children:"Y-Card (A)"}),(0,bS.jsx)("button",{onClick:()=>f({team:"A",type:"red"}),className:"bg-red-600 text-white font-bold px-3 py-1 rounded text-xs",children:"R-Card (A)"})]}),(0,bS.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,bS.jsx)("button",{onClick:()=>f({team:"B",type:"yellow"}),className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded text-xs",children:"Y-Card (B)"}),(0,bS.jsx)("button",{onClick:()=>f({team:"B",type:"red"}),className:"bg-red-600 text-white font-bold px-3 py-1 rounded text-xs",children:"R-Card (B)"})]})]}),u&&(0,bS.jsxs)("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg border border-yellow-500 shadow-xl",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,bS.jsxs)("h4",{className:"text-yellow-400 font-bold uppercase tracking-wider",children:["Select Scorer for ","A"===u.team?n.teamA:n.teamB]}),(0,bS.jsx)("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-white",children:(0,bS.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:[w.filter(e=>e.team===("A"===u.team?n.teamA:n.teamB)).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,bS.jsx)("button",{onClick:()=>S(u.team,e),className:"bg-gray-600 hover:bg-green-600 text-white text-xs py-2 px-3 rounded transition-colors text-left truncate",title:e.name,children:e.name},e.id)),(0,bS.jsx)("button",{onClick:()=>S(u.team,null),className:"bg-gray-500 hover:bg-gray-400 text-white text-xs py-2 px-3 rounded transition-colors",children:"Unknown Player"})]})]}),h&&(0,bS.jsxs)("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg border border-red-500 shadow-xl",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,bS.jsxs)("h4",{className:"".concat("yellow"===h.type?"text-yellow-400":"text-red-500"," font-bold uppercase tracking-wider"),children:["Select Player for ",h.type.toUpperCase()," Card (","A"===h.team?n.teamA:n.teamB,")"]}),(0,bS.jsx)("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-white",children:(0,bS.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,bS.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:w.filter(e=>e.team===("A"===h.team?n.teamA:n.teamB)).sort((e,t)=>e.name.localeCompare(t.name)).map(t=>(0,bS.jsx)("button",{onClick:()=>(async(t,r,s)=>{try{if(await Dk(Nw(vS,"matches",e,"events"),{type:s,team:"A"===t?n.teamA:n.teamB,minute:n.currentMinute||0,player:r?r.name:"Unknown Player",playerId:r?r.id:null,timestamp:Date.now()}),r&&r.id){const e=Sw(vS,"players",r.id),t=w.find(e=>e.id===r.id),n="yellow"===s?"yellowCards":"redCards";await _k(e,{[n]:((null===t||void 0===t?void 0:t[n])||0)+1})}f(null)}catch(i){console.error("Error recording card:",i),alert("Error recording card. Check console.")}})(h.team,t,h.type),className:"bg-gray-600 hover:bg-brand-500 text-white text-xs py-2 px-3 rounded transition-colors text-left truncate",title:t.name,children:t.name},t.id))})]}),p&&(0,bS.jsxs)("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg border border-red-500 shadow-xl",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,bS.jsxs)("h4",{className:"text-red-400 font-bold uppercase tracking-wider",children:["Cancel Goal for ","A"===p.team?n.teamA:n.teamB]}),(0,bS.jsx)("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-white",children:(0,bS.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bS.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,bS.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:s.filter(e=>"goal"===e.type&&e.team===("A"===p.team?n.teamA:n.teamB)).length>0?s.filter(e=>"goal"===e.type&&e.team===("A"===p.team?n.teamA:n.teamB)).map(t=>(0,bS.jsxs)("div",{className:"flex justify-between items-center bg-gray-600 p-2 rounded",children:[(0,bS.jsxs)("span",{className:"text-sm text-white",children:[t.player," (",t.minute,"')"]}),(0,bS.jsx)("button",{onClick:()=>(async t=>{const r="A"===(t.team===n.teamA?"A":"B")?"scoreA":"scoreB",s=Math.max(0,(n[r]||0)-1);try{if(await _k(Sw(vS,"matches",e),{[r]:s}),await Ak(Sw(vS,"matches",e,"events",t.id)),t.playerId){const e=Sw(vS,"players",t.playerId),n=w.find(e=>e.id===t.playerId);n&&await _k(e,{goals:Math.max(0,(n.goals||0)-1)})}m(null)}catch(i){console.error("Error cancelling goal:",i),alert("Error cancelling goal. Check console.")}})(t),className:"bg-red-600 hover:bg-red-700 text-white text-[10px] py-1 px-3 rounded font-bold uppercase transition-colors",children:"Revoke"})]},t.id)):(0,bS.jsx)("div",{className:"text-center text-gray-400 py-4 text-sm",children:"No goal events found to cancel."})})]})]}),(0,bS.jsxs)("div",{className:"bg-gray-800 rounded-t-lg p-6 text-center shadow-lg border-b border-gray-700",children:[(0,bS.jsxs)("div",{className:"text-sm text-gray-400 mb-2 uppercase tracking-[0.2em]",children:[n.competition," \u2022 ","live"===n.status?"Live":"Finished"]}),(0,bS.jsx)("div",{className:"text-[11px] text-gray-500 mb-4 flex items-center justify-center gap-1",children:(0,bS.jsxs)("span",{children:["\ud83c\udfdf\ufe0f ",n.stadium||(T=n.teamA,(N||[]).find(e=>e.name===T)||{}).stadium||"Unknown Stadium"]})}),(0,bS.jsxs)("div",{className:"flex items-start justify-center space-x-4",children:[(0,bS.jsxs)("div",{className:"flex-1 text-right",children:[(0,bS.jsx)("div",{className:"text-2xl font-bold text-white",children:n.teamA}),(0,bS.jsxs)("div",{className:"text-xs text-gray-400 mb-3 italic",children:["Manager: ",n.managerA||"N/A"]}),(0,bS.jsx)("div",{className:"space-y-1",children:s.filter(e=>"goal"===e.type&&e.team===n.teamA).sort((e,t)=>e.minute-t.minute).map((e,t)=>(0,bS.jsxs)("div",{className:"text-[11px] text-gray-300 flex items-center justify-end gap-1.5",children:[(0,bS.jsx)("span",{children:e.player}),(0,bS.jsxs)("span",{className:"text-gray-500 font-mono",children:[e.minute,"'"]}),(0,bS.jsx)("span",{className:"text-yellow-500",children:"\u26bd"})]},t))})]}),(0,bS.jsxs)("div",{className:"mx-6 text-center min-w-[120px]",children:[(0,bS.jsxs)("div",{className:"text-6xl font-black text-white tracking-tighter mb-2",children:[n.scoreA," - ",n.scoreB]}),(0,bS.jsx)("div",{className:"text-sm",children:"live"===n.status?(0,bS.jsxs)("div",{className:"inline-flex items-center gap-2 bg-red-900/30 text-red-500 px-3 py-1 rounded-full font-bold border border-red-500/20",children:[(0,bS.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,bS.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,bS.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),n.currentMinute,"'"]}):(0,bS.jsx)("span",{className:"bg-gray-700 text-gray-300 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-widest",children:"Full Time"})})]}),(0,bS.jsxs)("div",{className:"flex-1 text-left",children:[(0,bS.jsx)("div",{className:"text-2xl font-bold text-white",children:n.teamB}),(0,bS.jsxs)("div",{className:"text-xs text-gray-400 mb-3 italic",children:["Manager: ",n.managerB||"N/A"]}),(0,bS.jsx)("div",{className:"space-y-1",children:s.filter(e=>"goal"===e.type&&e.team===n.teamB).sort((e,t)=>e.minute-t.minute).map((e,t)=>(0,bS.jsxs)("div",{className:"text-[11px] text-gray-300 flex items-center justify-start gap-1.5",children:[(0,bS.jsx)("span",{className:"text-yellow-500",children:"\u26bd"}),(0,bS.jsx)("span",{children:e.player}),(0,bS.jsxs)("span",{className:"text-gray-500 font-mono",children:[e.minute,"'"]})]},t))})]})]})]}),(0,bS.jsxs)("div",{className:"bg-gray-700 p-4 grid grid-cols-3 gap-4 text-center text-sm",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-medium",children:"Possession"}),(0,bS.jsxs)("div",{className:"flex items-center justify-center mt-1",children:[(0,bS.jsxs)("span",{className:"w-10 text-right",children:[n.possessionA||50,"%"]}),(0,bS.jsx)("div",{className:"mx-2 w-32 h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,bS.jsx)("div",{className:"h-full bg-green-500",style:{width:"".concat(n.possessionA||50,"%")}})}),(0,bS.jsxs)("span",{className:"w-10 text-left",children:[n.possessionB||50,"%"]})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-medium",children:"Shots"}),(0,bS.jsxs)("div",{children:[n.shotsA||0," - ",n.shotsB||0]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-medium",children:"Shots on Target"}),(0,bS.jsxs)("div",{children:[n.shotsOnTargetA||0," - ",n.shotsOnTargetB||0]})]})]}),(0,bS.jsx)("div",{className:"mb-8",children:(0,bS.jsx)(TM,{matchId:e,teamA:n.teamA,teamB:n.teamB})}),a.length>0&&(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 mt-6 rounded-lg",children:[(0,bS.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Team Lineups"}),(0,bS.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map(e=>(0,bS.jsxs)("div",{className:"space-y-4",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bS.jsx)("h4",{className:"text-lg font-semibold",children:e.teamName}),b&&"live"===n.status&&(0,bS.jsx)("button",{onClick:()=>c(l===e.id?null:e.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-sm",children:l===e.id?"Hide Substitution":"\ud83d\udd04 Make Substitution"})]}),b&&l===e.id&&(0,bS.jsx)(jM,{lineup:e,players:w,onSubstitutionComplete:()=>c(null)}),(0,bS.jsx)(rM,{lineup:e,players:w})]},e.id))})]}),(0,bS.jsxs)("div",{className:"bg-gray-800 rounded-b-lg p-6",children:[(0,bS.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,bS.jsx)("span",{className:"h-2 w-2 bg-brand-500 rounded-full"}),"Match Timeline"]}),s.length>0?(0,bS.jsx)("div",{className:"relative border-l-2 border-gray-700 ml-4 pl-8 space-y-8",children:s.sort((e,t)=>t.minute-e.minute).map(e=>(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("div",{className:"absolute -left-[41px] top-1 h-4 w-4 rounded-full bg-gray-800 border-2 border-brand-500 flex items-center justify-center z-10",children:(0,bS.jsx)("span",{className:"h-1.5 w-1.5 bg-brand-500 rounded-full"})}),(0,bS.jsxs)("div",{className:"flex items-center gap-4",children:[(0,bS.jsxs)("div",{className:"bg-gray-900 px-3 py-1 rounded text-xs font-bold text-brand-400 whitespace-nowrap min-w-[50px] text-center",children:[e.minute,"'"]}),(0,bS.jsxs)("div",{className:"flex-1 bg-gray-700/50 p-4 rounded-xl border border-white/5 hover:border-white/10 transition-colors",children:["goal"===e.type&&(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("span",{className:"text-xl",children:"\u26bd"}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("span",{className:"font-bold text-white text-lg",children:e.player}),(0,bS.jsxs)("span",{className:"text-gray-400 ml-2 block text-xs uppercase tracking-wider",children:["Goal for ",e.team]})]})]}),("yellow"===e.type||"red"===e.type)&&(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("div",{className:WR("h-5 w-4 rounded-sm shadow-sm","yellow"===e.type?"bg-yellow-400":"bg-red-600")}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("span",{className:"font-bold text-white text-lg",children:e.player}),(0,bS.jsxs)("span",{className:"text-gray-400 ml-2 block text-xs uppercase tracking-wider",children:["yellow"===e.type?"Yellow Card":"Red Card"," (",e.team,")"]})]})]}),"substitution"===e.type&&(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("span",{className:"text-xl",children:"\ud83d\udd04"}),(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsxs)("span",{className:"text-green-400 font-bold tracking-tight",children:["\u2b06\ufe0f ",e.playerIn]}),(0,bS.jsx)("span",{className:"text-gray-600",children:"/"}),(0,bS.jsxs)("span",{className:"text-red-400 font-bold tracking-tight opacity-80",children:["\u2b07\ufe0f ",e.playerOut]})]}),(0,bS.jsxs)("span",{className:"text-gray-400 block text-xs uppercase tracking-wider mt-0.5",children:["Substitution (",e.team,")"]})]})]})]})]})]},e.id))}):(0,bS.jsx)("div",{className:"text-center py-12 text-gray-500 bg-gray-900/50 rounded-2xl border border-dashed border-gray-700",children:"Awaiting match events..."})]})]})}):(0,bS.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4",role:"alert",children:(0,bS.jsx)("p",{children:"Match data not available"})});var T},IM=()=>{var e,n;const[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),{login:d}=kS(),h=te(),f=(null===(e=Z().state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname)||"/";return(0,bS.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,bS.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-gray-800 p-8 rounded-lg shadow-lg",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to your account"}),(0,bS.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",(0,bS.jsx)(Pe,{to:"/",className:"font-medium text-green-500 hover:text-green-400",children:"continue as guest"})]})]}),o&&(0,bS.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:[(0,bS.jsx)("p",{className:"font-bold",children:"Error"}),(0,bS.jsx)("p",{children:o})]}),(0,bS.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault();try{l(""),u(!0),await d(r,i),h(f,{replace:!0})}catch(t){l("Failed to sign in: "+t.message),console.error(t)}u(!1)},children:[(0,bS.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),(0,bS.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,bS.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 text-white placeholder-gray-400 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:e=>s(e.target.value)})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,bS.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 text-white placeholder-gray-400 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:e=>a(e.target.value)})]})]}),(0,bS.jsxs)("div",{className:"flex items-center justify-between",children:[(0,bS.jsxs)("div",{className:"flex items-center",children:[(0,bS.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-600 rounded"}),(0,bS.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),(0,bS.jsx)("div",{className:"text-sm",children:(0,bS.jsx)("a",{href:"#",className:"font-medium text-green-500 hover:text-green-400",children:"Forgot your password?"})})]}),(0,bS.jsx)("div",{children:(0,bS.jsx)("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:c?"Signing in...":"Sign in"})})]})]})})},_M=()=>(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,bS.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,bS.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"})}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,bS.jsxs)(Pe,{to:"/admin/matches",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manage Matches"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Update live scores and match details"})]}),(0,bS.jsxs)(Pe,{to:"/admin/teams",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manage Teams"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Add, edit, and remove teams"})]}),(0,bS.jsxs)(Pe,{to:"/admin/players",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manage Players"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Update player stats and info"})]}),(0,bS.jsxs)(Pe,{to:"/admin/lineups",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"\u26bd Manage Lineups"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Set starting 11 and bench players for matches"})]}),(0,bS.jsxs)(Pe,{to:"/admin/tournaments",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Manage Tournaments"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Create and manage tournaments"})]}),(0,bS.jsxs)(Pe,{to:"/admin/news",className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:bg-gray-700 transition duration-300",children:[(0,bS.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udcf0 Manage News"}),(0,bS.jsx)("p",{className:"text-gray-400",children:"Publish articles and announcements"})]})]})]}),AM=()=>{const{matches:e,teams:n,tournaments:r}=tM(),[s,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)({teamA:"",teamB:"",scoreA:0,scoreB:0,status:"scheduled",currentMinute:0,competition:"",date:"",time:"",managerA:"",managerB:"",round:""}),[l,c]=(0,t.useState)(""),u=()=>a.competition?n.filter(e=>(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(a.competition)):[],[d,h]=(0,t.useState)(null),f=e=>{const{name:t,value:r}=e.target;o(e=>{const s=It({},e);if(s[t]=t.includes("score")||"currentMinute"===t?parseInt(r)||0:r,"competition"===t&&(s.teamA="",s.teamB="",s.managerA="",s.managerB=""),"teamA"===t&&r){const e=n.find(e=>e.name===r);e&&(s.managerA=e.manager||"")}if("teamB"===t&&r){const e=n.find(e=>e.name===r);e&&(s.managerB=e.manager||"")}return s})},p=e=>{o(It(It({},e),{},{managerA:e.managerA||"",managerB:e.managerB||"",round:e.round||""})),h(e.id),c("")},m=async(t,n,r)=>{const s=e.find(e=>e.id===t);if(!s)return;const i="A"===n?(s.scoreA||0)+r:(s.scoreB||0)+r;if(!(i<0))try{await _k(Sw(vS,"matches",t),{["A"===n?"scoreA":"scoreB"]:i})}catch(a){console.error("Error updating score: ",a)}},g=e.filter(e=>"live"===e.status),v=e.filter(e=>"live"!==e.status);return(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8 text-white",children:[(0,bS.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Manage Matches"}),l&&(0,bS.jsx)("div",{className:"bg-green-600 text-white p-3 rounded mb-4 animate-pulse",children:l}),g.length>0&&(0,bS.jsxs)("div",{className:"mb-8 p-4 bg-gray-800 rounded-lg border border-green-500",children:[(0,bS.jsxs)("h3",{className:"text-xl font-bold mb-4 text-green-400 flex items-center",children:[(0,bS.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"}),"Live Matches Control"]}),(0,bS.jsx)("div",{className:"grid gap-4",children:g.map(e=>(0,bS.jsxs)("div",{className:"bg-gray-700 p-4 rounded flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,bS.jsxs)("div",{className:"text-center md:text-left flex-1",children:[(0,bS.jsxs)("div",{className:"font-medium text-gray-300",children:[e.competition," - ",e.currentMinute,"'"]}),(0,bS.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-4 text-2xl font-bold mt-2",children:[(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,bS.jsx)("span",{children:e.teamA}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)("button",{onClick:()=>m(e.id,"A",-1),className:"w-8 h-8 rounded bg-gray-600 hover:bg-gray-500 text-sm",children:"-"}),(0,bS.jsx)("span",{children:e.scoreA}),(0,bS.jsx)("button",{onClick:()=>m(e.id,"A",1),className:"w-8 h-8 rounded bg-green-600 hover:bg-green-500 text-sm",children:"+"})]})]}),(0,bS.jsx)("span",{className:"text-gray-400",children:"vs"}),(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,bS.jsx)("span",{children:e.teamB}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)("button",{onClick:()=>m(e.id,"B",-1),className:"w-8 h-8 rounded bg-gray-600 hover:bg-gray-500 text-sm",children:"-"}),(0,bS.jsx)("span",{children:e.scoreB}),(0,bS.jsx)("button",{onClick:()=>m(e.id,"B",1),className:"w-8 h-8 rounded bg-green-600 hover:bg-green-500 text-sm",children:"+"})]})]})]})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsx)("button",{onClick:()=>p(e),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm",children:"Edit Info"}),(0,bS.jsx)("button",{onClick:()=>(async(e,t)=>{try{await _k(Sw(vS,"matches",e),{status:t}),c("Match marked as ".concat(t,"!")),setTimeout(()=>c(""),3e3)}catch(n){console.error("Error updating status: ",n)}})(e.id,"finished"),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-sm",children:"End Match"})]})]},e.id))})]}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:d?"Edit Match":"Add New Match"}),(0,bS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(!0),c("");(d?_k(Sw(vS,"matches",d),a):Dk(Nw(vS,"matches"),a)).then(()=>{c(d?"Match updated successfully!":"Match added successfully!"),o({teamA:"",teamB:"",scoreA:0,scoreB:0,status:"scheduled",currentMinute:0,competition:"",date:"",time:"",managerA:"",managerB:"",round:""}),h(null),window.scrollTo(0,0),setTimeout(()=>c(""),3e3)}).catch(e=>{console.error("Error saving match: ",e),alert("Error saving: "+e.message)}).finally(()=>{i(!1)})},className:"grid grid-cols-1 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Competition / Tournament"}),(0,bS.jsxs)("select",{name:"competition",value:a.competition,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",disabled:!0,children:"Select Competition"}),r.map(e=>(0,bS.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Home Team"}),(0,bS.jsxs)("select",{name:"teamA",value:a.teamA,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",disabled:!0,children:"Select Home Team"}),u().map(e=>(0,bS.jsx)("option",{value:e.name,disabled:e.name===a.teamB,children:e.name},e.id))]}),(0,bS.jsx)("input",{type:"text",name:"managerA",placeholder:"Home Manager",value:a.managerA||"",onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full mt-2 text-sm"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Away Team"}),(0,bS.jsxs)("select",{name:"teamB",value:a.teamB,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",disabled:!0,children:"Select Away Team"}),u().map(e=>(0,bS.jsx)("option",{value:e.name,disabled:e.name===a.teamA,children:e.name},e.id))]}),(0,bS.jsx)("input",{type:"text",name:"managerB",placeholder:"Away Manager",value:a.managerB||"",onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full mt-2 text-sm"})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Match Date"}),(0,bS.jsx)("input",{type:"date",name:"date",value:a.date,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Match Time"}),(0,bS.jsx)("input",{type:"time",name:"time",value:a.time,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Round / Group (e.g. 'Group A', 'Final', 'Quarter-Final')"}),(0,bS.jsx)("input",{type:"text",name:"round",placeholder:"Round / Group",value:a.round||"",onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Home Score"}),(0,bS.jsx)("input",{type:"number",name:"scoreA",placeholder:"0",value:a.scoreA,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Away Score"}),(0,bS.jsx)("input",{type:"number",name:"scoreB",placeholder:"0",value:a.scoreB,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Match Status"}),(0,bS.jsxs)("select",{name:"status",value:a.status,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full",children:[(0,bS.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,bS.jsx)("option",{value:"live",children:"Live"}),(0,bS.jsx)("option",{value:"finished",children:"Finished"})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Current Minute"}),(0,bS.jsx)("input",{type:"number",name:"currentMinute",placeholder:"0'",value:a.currentMinute,onChange:f,className:"bg-gray-700 p-2 rounded text-white w-full"})]})]}),(0,bS.jsx)("button",{type:"submit",disabled:s,className:"bg-green-600 hover:bg-green-700 p-2 rounded text-white col-span-full ".concat(s?"opacity-50 cursor-not-allowed":""),children:s?"Saving...":d?"Update Match":"Add Match"}),d&&(0,bS.jsx)("button",{type:"button",onClick:()=>{h(null),o({teamA:"",teamB:"",scoreA:0,scoreB:0,status:"scheduled",currentMinute:0,competition:"",date:"",time:"",managerA:"",managerB:"",round:""})},className:"bg-gray-600 hover:bg-gray-500 p-2 rounded text-white col-span-full",children:"Cancel Edit"})]})]}),(0,bS.jsx)("h3",{className:"text-xl font-bold mb-4",children:"All Matches"}),(0,bS.jsxs)("div",{className:"grid gap-4",children:[v.map(e=>(0,bS.jsxs)("div",{className:"bg-gray-800 p-4 rounded flex justify-between items-center",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("div",{className:"font-bold text-lg",children:[e.teamA," ",(0,bS.jsx)("span",{className:"text-green-400",children:e.scoreA})," - ",(0,bS.jsx)("span",{className:"text-green-400",children:e.scoreB})," ",e.teamB]}),(0,bS.jsxs)("div",{className:"text-sm text-gray-400",children:[e.competition," ",e.round&&"\u2022 ".concat(e.round)," \u2022 ",e.status," ","live"===e.status&&"\u2022 ".concat(e.currentMinute,"'")]})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsx)("button",{onClick:()=>p(e),className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm",children:"Edit"}),(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this match?"))try{await Ak(Sw(vS,"matches",e)),c("Match deleted successfully!"),setTimeout(()=>c(""),3e3)}catch(t){console.error("Error deleting match: ",t)}})(e.id),className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm",children:"Delete"})]})]},e.id)),0===v.length&&!s&&(0,bS.jsx)("p",{className:"text-center text-gray-400",children:"No scheduled or finished matches found."})]})]})},DM=vP("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),PM=vP("folders",[["path",{d:"M20 5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h2.5a1.5 1.5 0 0 1 1.2.6l.6.8a1.5 1.5 0 0 0 1.2.6z",key:"a4852j"}],["path",{d:"M3 8.268a2 2 0 0 0-1 1.738V19a2 2 0 0 0 2 2h11a2 2 0 0 0 1.732-1",key:"yxbcw3"}]]),RM=vP("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),MM=vP("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),OM=(e,t)=>e.keys().map(n=>{const r=n.replace("./","").split(".").slice(0,-1).join(".").replace(/[-_]/g," ");return{id:"".concat(t.toLowerCase(),"-").concat(n.replace("./","")),name:r.charAt(0).toUpperCase()+r.slice(1),url:e(n),category:t}});let LM=[],FM=[],UM=[];try{LM=OM(n(368),"Teams")}catch(uO){console.warn("Teams image folder not found or empty")}try{FM=OM(n(972),"Players")}catch(uO){console.warn("Players image folder not found or empty")}try{UM=OM(n(427),"News")}catch(uO){console.warn("News image folder not found or empty")}const VM=[...LM,...FM,...UM],BM=e=>{let{isOpen:n,onClose:r,onSelect:s,category:i}=e;const[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!n)return;const e=Pk(dk(Nw(vS,"assets"),mk("createdAt","desc")),e=>{const t=e.docs.map(e=>It({id:e.id},e.data()));c(t),d(!1)});return()=>e()},[n]);const h=[...VM,...l].filter(e=>{const t=e.name.toLowerCase().includes(a.toLowerCase()),n=!i||e.category===i;return t&&n});return n?(0,bS.jsx)(uP,{children:(0,bS.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:(0,bS.jsxs)(tP.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-800 border border-white/10 rounded-2xl w-full max-w-2xl overflow-hidden shadow-2xl",children:[(0,bS.jsxs)("div",{className:"p-4 border-b border-white/5 flex items-center justify-between bg-gray-800/50",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(DM,{className:"text-brand-500",size:20}),(0,bS.jsx)("h3",{className:"text-lg font-bold text-white",children:"Select from Repository"})]}),(0,bS.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/5 rounded-full text-gray-400",children:(0,bS.jsx)(TP,{size:20})})]}),(0,bS.jsx)("div",{className:"p-4 border-b border-white/5 bg-gray-900/20",children:(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)(jP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),(0,bS.jsx)("input",{type:"text",placeholder:"Search ".concat(i||"repository"," assets..."),value:a,onChange:e=>o(e.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-white focus:ring-2 focus:ring-brand-500 outline-none"})]})}),(0,bS.jsx)("div",{className:"p-4 max-h-[60vh] overflow-y-auto min-h-[300px]",children:u?(0,bS.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-20 gap-3",children:[(0,bS.jsx)(RM,{className:"animate-spin text-brand-500",size:40}),(0,bS.jsx)("p",{className:"text-gray-500 text-sm",children:"Fetching repository assets..."})]}):h.length>0?(0,bS.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:h.map(e=>(0,bS.jsxs)("div",{onClick:()=>{s(e.url),r()},className:"group relative cursor-pointer aspect-square rounded-xl overflow-hidden border border-white/5 hover:border-brand-500/50 transition-all shadow-lg bg-black/20",children:[(0,bS.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),(0,bS.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2",children:(0,bS.jsx)("p",{className:"text-[10px] text-white font-medium truncate",children:e.name})}),(0,bS.jsx)("div",{className:"absolute top-2 right-2 bg-brand-500 h-6 w-6 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 shadow-lg scale-0 group-hover:scale-100 transition-all",children:(0,bS.jsx)(MM,{size:14,className:"text-white font-bold"})})]},e.id))}):(0,bS.jsxs)("div",{className:"col-span-full py-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[(0,bS.jsx)(DM,{size:48,className:"opacity-20"}),(0,bS.jsx)("p",{children:"No assets found in this category."})]})}),(0,bS.jsx)("div",{className:"p-4 border-t border-white/5 bg-gray-900/50 text-right",children:(0,bS.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"Cancel"})})]})})}):null},zM=async(e,t,n)=>{try{await Dk(Nw(vS,"assets"),{name:e,url:t,category:n,createdAt:Ok(),type:"uploaded"}),console.log("Asset registered: ".concat(e))}catch(r){console.error("Error registering asset:",r)}},qM=()=>{const{teams:e,tournaments:n}=tM(),[r,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)({name:"",shortName:"",founded:"",stadium:"",manager:"",status:"Active",players:0,logoUrl:"",tournaments:[]}),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),x=e=>{const{name:t,value:n}=e.target;a(e=>It(It({},e),{},{[t]:"founded"===t||"players"===t?Number(n):n}))},b=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.shortName.toLowerCase().includes(c.toLowerCase()));return(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8 text-white",children:[(0,bS.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Manage Teams"}),d&&(0,bS.jsx)("div",{className:"bg-green-600 text-white p-3 rounded mb-4 animate-pulse",children:d}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:o?"Edit Team":"Add New Team"}),(0,bS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(!0),h("");const t=It(It({},i),{},{tournaments:Array.isArray(i.tournaments)?i.tournaments:[]});(o?_k(Sw(vS,"teams",o),t):Dk(Nw(vS,"teams"),t)).catch(e=>{console.error("Error saving team: ",e),alert("Error saving team: "+e.message),h("")}),h(o?"Team updated successfully!":"Team added successfully!"),a({name:"",shortName:"",founded:"",stadium:"",manager:"",status:"Active",players:0,logoUrl:"",tournaments:[]}),l(null),window.scrollTo(0,0),setTimeout(()=>h(""),3e3),s(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bS.jsx)("div",{className:"md:col-span-2 flex flex-col items-center p-4 border-2 border-dashed border-gray-600 rounded-xl bg-gray-700/30",children:i.logoUrl?(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("img",{src:i.logoUrl,alt:"Logo Preview",className:"w-24 h-24 object-contain rounded-lg bg-white/10 p-2"}),(0,bS.jsx)("button",{type:"button",onClick:()=>{a(e=>It(It({},e),{},{logoUrl:""}))},className:"absolute -top-2 -right-2 p-1 bg-red-500 rounded-full text-white shadow-lg hover:bg-red-600 transition-colors",children:(0,bS.jsx)(TP,{size:14})})]}):(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsxs)("label",{className:"flex flex-col items-center justify-center cursor-pointer group",children:[(0,bS.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center text-gray-400 group-hover:bg-gray-600 transition-colors",children:m?(0,bS.jsxs)("div",{className:"flex flex-col items-center",children:[(0,bS.jsx)("div",{className:"w-8 h-8 border-2 border-brand-500 border-t-transparent animate-spin rounded-full mb-1"}),(0,bS.jsxs)("span",{className:"text-[10px] text-brand-400",children:[Math.round(f),"%"]})]}):(0,bS.jsx)(DM,{size:32})}),(0,bS.jsx)("span",{className:"mt-2 text-sm text-gray-400 group-hover:text-gray-300",children:m?"Uploading...":"Upload Team Logo"}),(0,bS.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("Image size should be less than 5MB");else{g(!0),p(0);try{const e=hS(pS(xS,"team-logos/".concat(Date.now(),"_").concat(t.name)),t);await new Promise((t,n)=>{e.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;p(t)},e=>n(e),()=>t())});const n=await fS(e.snapshot.ref);a(e=>It(It({},e),{},{logoUrl:n})),await zM(t.name,n,"Teams"),g(!1)}catch(n){console.error("Upload error:",n),alert("Upload failed: ".concat(n.code||n.message)),g(!1)}}else alert("Please upload an image file")},disabled:m})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("div",{className:"h-[1px] w-12 bg-gray-600"}),(0,bS.jsx)("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"OR"}),(0,bS.jsx)("div",{className:"h-[1px] w-12 bg-gray-600"})]}),(0,bS.jsxs)("button",{type:"button",onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-500/10 hover:bg-brand-500/20 text-brand-400 border border-brand-500/20 rounded-xl text-sm font-semibold transition-all",children:[(0,bS.jsx)(PM,{size:18}),"Choose from Repository"]})]})}),(0,bS.jsx)(BM,{isOpen:v,onClose:()=>y(!1),onSelect:e=>a(t=>It(It({},t),{},{logoUrl:e})),category:"Teams"}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Team Name"}),(0,bS.jsx)("input",{type:"text",name:"name",placeholder:"Team Name",value:i.name,onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Short Name"}),(0,bS.jsx)("input",{type:"text",name:"shortName",placeholder:"e.g. MUN",value:i.shortName,onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Founded Year"}),(0,bS.jsx)("input",{type:"number",name:"founded",placeholder:"Year",value:i.founded,onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Stadium"}),(0,bS.jsx)("input",{type:"text",name:"stadium",placeholder:"Stadium",value:i.stadium,onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Manager Name"}),(0,bS.jsx)("input",{type:"text",name:"manager",placeholder:"Manager's Name",value:i.manager||"",onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Squad Size"}),(0,bS.jsx)("input",{type:"number",name:"players",placeholder:"0",value:i.players,onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Team Status"}),(0,bS.jsxs)("select",{name:"status",value:i.status||"Active",onChange:x,className:"bg-gray-700 p-2 rounded text-white w-full",children:[(0,bS.jsx)("option",{value:"Active",children:"Active"}),(0,bS.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,bS.jsx)("option",{value:"Suspended",children:"Suspended"}),(0,bS.jsx)("option",{value:"Dissolved",children:"Dissolved"})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Participating Tournaments"}),(0,bS.jsxs)("div",{className:"flex flex-wrap gap-2 bg-gray-700 p-2 rounded min-h-[42px] items-center",children:[n.map(e=>(0,bS.jsx)("button",{type:"button",onClick:()=>{return t=e.name,void a(e=>{const n=Array.isArray(e.tournaments)?e.tournaments:[];return n.includes(t)?It(It({},e),{},{tournaments:n.filter(e=>e!==t)}):It(It({},e),{},{tournaments:[...n,t]})});var t},className:"text-xs px-2 py-1 rounded transition-colors ".concat(Array.isArray(i.tournaments)&&i.tournaments.includes(e.name)?"bg-green-600 text-white shadow-sm":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:e.name},e.id)),0===n.length&&(0,bS.jsx)("span",{className:"text-gray-500 text-xs italic",children:"No tournaments available. Create one first."})]})]}),(0,bS.jsx)("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 p-2 rounded text-white col-span-full ".concat(r?"opacity-50 cursor-not-allowed":""),children:r?"Saving...":o?"Update Team":"Add Team"}),o&&(0,bS.jsx)("button",{type:"button",onClick:()=>{l(null),a({name:"",shortName:"",founded:"",stadium:"",manager:"",status:"Active",players:0,tournaments:""})},className:"bg-gray-600 hover:bg-gray-500 p-2 rounded text-white col-span-full",children:"Cancel Edit"})]})]}),(0,bS.jsxs)("div",{className:"mb-6 relative",children:[(0,bS.jsx)(jP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,bS.jsx)("input",{type:"text",placeholder:"Search teams by name or short name...",value:c,onChange:e=>u(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:ring-2 focus:ring-brand-500 outline-none"})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.map(e=>(0,bS.jsxs)("div",{className:"bg-gray-800 p-4 rounded flex justify-between items-center",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("div",{className:"font-bold text-lg",children:[e.name," (",e.shortName,")"]}),(0,bS.jsxs)("div",{className:"text-sm text-gray-400",children:["Stadium: ",e.stadium," \u2022 Manager: ",e.manager||"N/A"]})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsx)("button",{onClick:()=>(e=>{a(It(It({},e),{},{tournaments:Array.isArray(e.tournaments)?e.tournaments:[]})),l(e.id),h("")})(e),className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm",children:"Edit"}),(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this team?"))try{await Ak(Sw(vS,"teams",e)),h("Team deleted successfully!"),setTimeout(()=>h(""),3e3)}catch(t){console.error("Error deleting team: ",t)}})(e.id),className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm",children:"Delete"})]})]},e.id)),0===b.length&&!r&&(0,bS.jsx)("p",{className:"text-center text-gray-400 col-span-full",children:"No teams found matching your search."})]})]})},KM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},HM=()=>{const{players:e,teams:n}=tM(),[r,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("All"),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)({name:"",team:"",position:"Forward",nationality:"",district:"",dob:"",age:"",photoUrl:"",matches:0,goals:0,assists:0,yellowCards:0,redCards:0}),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,k]=(0,t.useState)(""),N=e=>{const{name:t,value:n}=e.target,r=["age","matches","goals","assists","yellowCards","redCards"];h(e=>{const s=It(It({},e),{},{[t]:r.includes(t)?Number(n):n});if("dob"===t){const e=bM(n);null!==e&&(s.age=e)}return s})},S=e.filter(e=>{const t=e.name.toLowerCase().includes(i.toLowerCase())||e.team.toLowerCase().includes(i.toLowerCase()),n="All"===o||e.team===o;return t&&n});return(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8 text-white",children:[(0,bS.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Manage Players"}),w&&(0,bS.jsx)("div",{className:"bg-green-600 text-white p-3 rounded mb-4 animate-pulse",children:w}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:f?"Edit Player":"Add New Player"}),(0,bS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(!0),k("");(f?_k(Sw(vS,"players",f),d):Dk(Nw(vS,"players"),d)).catch(e=>{console.error("Error saving player: ",e),alert("Error saving player: "+e.message)}),k(f?"Player updated successfully!":"Player added successfully!"),h({name:"",team:"",position:"Forward",nationality:"",district:"",dob:"",age:"",photoUrl:"",matches:0,goals:0,assists:0,yellowCards:0,redCards:0}),p(null),window.scrollTo(0,0),setTimeout(()=>k(""),3e3),s(!1)},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,bS.jsx)("div",{className:"lg:col-span-4 flex flex-col items-center p-4 border-2 border-dashed border-gray-600 rounded-xl bg-gray-700/30",children:d.photoUrl?(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)("img",{src:d.photoUrl,alt:"Preview",className:"w-24 h-24 object-cover rounded-full border-2 border-brand-500"}),(0,bS.jsx)("button",{type:"button",onClick:()=>{h(e=>It(It({},e),{},{photoUrl:""}))},className:"absolute -top-1 -right-1 p-1 bg-red-500 rounded-full text-white shadow-lg hover:bg-red-600",children:(0,bS.jsx)(TP,{size:12})})]}):(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsxs)("label",{className:"flex flex-col items-center cursor-pointer group",children:[(0,bS.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-700 flex items-center justify-center text-gray-400 group-hover:bg-gray-600 transition-colors",children:v?(0,bS.jsxs)("div",{className:"flex flex-col items-center",children:[(0,bS.jsx)("div",{className:"w-8 h-8 border-2 border-brand-500 border-t-transparent animate-spin rounded-full mb-1"}),(0,bS.jsxs)("span",{className:"text-[10px] text-brand-400",children:[Math.round(m),"%"]})]}):(0,bS.jsx)(SP,{size:32})}),(0,bS.jsx)("span",{className:"mt-2 text-sm text-gray-400",children:v?"Uploading...":"Upload Profile Picture"}),(0,bS.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>2097152)alert("Image size should be less than 2MB");else{y(!0),g(0);try{const e=hS(pS(xS,"player-photos/".concat(Date.now(),"_").concat(t.name)),t);await new Promise((t,n)=>{e.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;g(t)},e=>n(e),()=>t())});const n=await fS(e.snapshot.ref);h(e=>It(It({},e),{},{photoUrl:n})),await zM(t.name,n,"Players"),y(!1)}catch(n){console.error("Upload error:",n),alert("Upload failed: ".concat(n.code||n.message)),y(!1)}}else alert("Please upload an image file")},disabled:v})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-3",children:[(0,bS.jsx)("div",{className:"h-[1px] w-12 bg-gray-600"}),(0,bS.jsx)("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"OR"}),(0,bS.jsx)("div",{className:"h-[1px] w-12 bg-gray-600"})]}),(0,bS.jsxs)("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-500/10 hover:bg-brand-500/20 text-brand-400 border border-brand-500/20 rounded-xl text-sm font-semibold transition-all",children:[(0,bS.jsx)(PM,{size:18}),"Choose from Repository"]})]})}),(0,bS.jsx)(BM,{isOpen:x,onClose:()=>b(!1),onSelect:e=>h(t=>It(It({},t),{},{photoUrl:e})),category:"Players"}),(0,bS.jsxs)("div",{className:"md:col-span-2",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Player Name"}),(0,bS.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:d.name,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("label",{className:"text-xs text-gray-400 block mb-1 flex justify-between items-center",children:[(0,bS.jsx)("span",{children:"Team"}),n.length>5&&(0,bS.jsxs)("div",{className:"flex items-center gap-1 bg-gray-900/50 px-2 py-0.5 rounded border border-white/5",children:[(0,bS.jsx)(jP,{size:10,className:"text-gray-500"}),(0,bS.jsx)("input",{type:"text",placeholder:"Find team...",value:c,onChange:e=>u(e.target.value),className:"bg-transparent border-none text-[10px] w-16 outline-none text-brand-400 placeholder:text-gray-600"})]})]}),(0,bS.jsxs)("select",{name:"team",value:d.team,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",disabled:!0,children:"Select Team"}),n.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(0,bS.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Position"}),(0,bS.jsx)("select",{name:"position",value:d.position,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full",children:["Forward","Midfielder","Defender","Goalkeeper"].map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"District"}),(0,bS.jsxs)("select",{name:"district",value:d.district,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",disabled:!0,children:"Select District"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:KM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:KM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Nationality"}),(0,bS.jsx)("input",{type:"text",name:"nationality",placeholder:"Nationality",value:d.nationality,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Date of Birth"}),(0,bS.jsx)("input",{type:"date",name:"dob",value:d.dob,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Age (Auto)"}),(0,bS.jsx)("input",{type:"number",name:"age",placeholder:"0",value:d.age,readOnly:!0,className:"bg-gray-700/50 p-2 rounded text-gray-400 w-full cursor-not-allowed"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Matches"}),(0,bS.jsx)("input",{type:"number",name:"matches",placeholder:"0",value:d.matches,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Goals"}),(0,bS.jsx)("input",{type:"number",name:"goals",placeholder:"0",value:d.goals,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Assists"}),(0,bS.jsx)("input",{type:"number",name:"assists",placeholder:"0",value:d.assists,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Yellow Cards"}),(0,bS.jsx)("input",{type:"number",name:"yellowCards",placeholder:"0",value:d.yellowCards,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Red Cards"}),(0,bS.jsx)("input",{type:"number",name:"redCards",placeholder:"0",value:d.redCards,onChange:N,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsx)("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 p-2 rounded text-white col-span-full ".concat(r?"opacity-50 cursor-not-allowed":""),children:r?"Saving...":f?"Update Player":"Add Player"}),f&&(0,bS.jsx)("button",{type:"button",onClick:()=>{p(null),h({name:"",team:"",position:"Forward",nationality:"",district:"",age:"",matches:0,goals:0,assists:0,yellowCards:0,redCards:0})},className:"bg-gray-600 hover:bg-gray-500 p-2 rounded text-white col-span-full",children:"Cancel Edit"})]})]}),(0,bS.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,bS.jsxs)("div",{className:"relative flex-1",children:[(0,bS.jsx)(jP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,bS.jsx)("input",{type:"text",placeholder:"Search players by name or team...",value:i,onChange:e=>a(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:ring-2 focus:ring-brand-500 outline-none"})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(xM,{className:"text-gray-400",size:18}),(0,bS.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-brand-500 outline-none",children:[(0,bS.jsx)("option",{value:"All",children:"All Teams"}),n.map(e=>(0,bS.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]}),(0,bS.jsxs)("div",{className:"overflow-x-auto",children:[(0,bS.jsxs)("table",{className:"w-full text-left text-gray-300",children:[(0,bS.jsx)("thead",{className:"bg-gray-800 text-xs uppercase",children:(0,bS.jsxs)("tr",{children:[(0,bS.jsx)("th",{className:"px-4 py-3",children:"Name"}),(0,bS.jsx)("th",{className:"px-4 py-3",children:"Team"}),(0,bS.jsx)("th",{className:"px-4 py-3",children:"District"}),(0,bS.jsx)("th",{className:"px-4 py-3",children:"Pos"}),(0,bS.jsx)("th",{className:"px-4 py-3",children:"Stats"}),(0,bS.jsx)("th",{className:"px-4 py-3",children:"Action"})]})}),(0,bS.jsx)("tbody",{children:S.map(e=>(0,bS.jsxs)("tr",{className:"border-b border-gray-700 bg-gray-800 hover:bg-gray-700",children:[(0,bS.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.name}),(0,bS.jsx)("td",{className:"px-4 py-3",children:e.team}),(0,bS.jsx)("td",{className:"px-4 py-3",children:(0,bS.jsx)("span",{className:"text-xs bg-brand-500/20 text-brand-400 px-2 py-1 rounded",children:e.district||"N/A"})}),(0,bS.jsx)("td",{className:"px-4 py-3",children:e.position}),(0,bS.jsxs)("td",{className:"px-4 py-3",children:[e.goals," G, ",e.assists," A"]}),(0,bS.jsxs)("td",{className:"px-4 py-3",children:[(0,bS.jsx)("button",{onClick:()=>(e=>{h(e),p(e.id),k("")})(e),className:"text-blue-500 hover:text-blue-400 mr-3",children:"Edit"}),(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this player?"))try{await Ak(Sw(vS,"players",e)),k("Player deleted successfully!"),setTimeout(()=>k(""),3e3)}catch(t){console.error("Error deleting player: ",t)}})(e.id),className:"text-red-500 hover:text-red-400",children:"Delete"})]})]},e.id))})]}),0===S.length&&!r&&(0,bS.jsx)("p",{className:"text-center text-gray-400 mt-4",children:"No players found matching your criteria."})]})]})},GM={JAMMU:["Jammu","Samba","Kathua","Udhampur","Reasi","Rajouri","Poonch","Doda","Ramban","Kishtwar"],KASHMIR:["Srinagar","Ganderbal","Budgam","Baramulla","Bandipora","Kupwara","Pulwama","Shopian","Kulgam","Anantnag"]},WM=()=>{const{tournaments:e}=tM(),[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)({name:"",district:"",startDate:"",endDate:"",teamsCount:0,matchesCount:0,status:"upcoming",type:"league"}),[l,c]=(0,t.useState)(null),u=e=>{const{name:t,value:n}=e.target;o(e=>It(It({},e),{},{[t]:"teamsCount"===t||"matchesCount"===t?Number(n):n}))};return(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8 text-white",children:[(0,bS.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Manage Tournaments"}),s&&(0,bS.jsx)("div",{className:"bg-green-600 text-white p-3 rounded mb-4 animate-pulse",children:s}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:l?"Edit Tournament":"Add New Tournament"}),(0,bS.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(!0),i("");(l?_k(Sw(vS,"tournaments",l),a):Dk(Nw(vS,"tournaments"),a)).catch(e=>{console.error("Error saving tournament: ",e),alert("Error saving: "+e.message)}),i(l?"Tournament updated successfully!":"Tournament added successfully!"),o({name:"",district:"",startDate:"",endDate:"",teamsCount:0,matchesCount:0,status:"upcoming",type:"league"}),c(null),window.scrollTo(0,0),setTimeout(()=>i(""),3e3),r(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Tournament Name"}),(0,bS.jsx)("input",{type:"text",name:"name",placeholder:"Tournament Name",value:a.name,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0})]}),(0,bS.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"District"}),(0,bS.jsxs)("select",{name:"district",value:a.district,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full",required:!0,children:[(0,bS.jsx)("option",{value:"",children:"Select District"}),(0,bS.jsx)("optgroup",{label:"Jammu Division",children:GM.JAMMU.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))}),(0,bS.jsx)("optgroup",{label:"Kashmir Division",children:GM.KASHMIR.map(e=>(0,bS.jsx)("option",{value:e,children:e},e))})]})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Start Date"}),(0,bS.jsx)("input",{type:"date",name:"startDate",value:a.startDate,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"End Date"}),(0,bS.jsx)("input",{type:"date",name:"endDate",value:a.endDate,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full"})]})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Teams Count"}),(0,bS.jsx)("input",{type:"number",name:"teamsCount",placeholder:"0",value:a.teamsCount,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full"})]}),(0,bS.jsxs)("div",{className:"w-full",children:[(0,bS.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Matches Count"}),(0,bS.jsx)("input",{type:"number",name:"matchesCount",placeholder:"0",value:a.matchesCount,onChange:u,className:"bg-gray-700 p-2 rounded text-white w-full"})]})]}),(0,bS.jsxs)("select",{name:"status",value:a.status,onChange:u,className:"bg-gray-700 p-2 rounded text-white",children:[(0,bS.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,bS.jsx)("option",{value:"ongoing",children:"Ongoing"}),(0,bS.jsx)("option",{value:"finished",children:"Finished"})]}),(0,bS.jsxs)("select",{name:"type",value:a.type,onChange:u,className:"bg-gray-700 p-2 rounded text-white",children:[(0,bS.jsx)("option",{value:"league",children:"League"}),(0,bS.jsx)("option",{value:"knockout",children:"Knockout"})]}),(0,bS.jsx)("button",{type:"submit",disabled:n,className:"bg-green-600 hover:bg-green-700 p-2 rounded text-white col-span-full ".concat(n?"opacity-50 cursor-not-allowed":""),children:n?"Saving...":l?"Update Tournament":"Add Tournament"}),l&&(0,bS.jsx)("button",{type:"button",onClick:()=>{c(null),o({name:"",district:"",startDate:"",endDate:"",teamsCount:0,matchesCount:0,status:"upcoming",type:"league"})},className:"bg-gray-600 hover:bg-gray-500 p-2 rounded text-white col-span-full",children:"Cancel Edit"})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map(e=>(0,bS.jsxs)("div",{className:"bg-gray-800 p-4 rounded flex justify-between items-start",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-bold text-lg text-white",children:e.name}),e.district&&(0,bS.jsxs)("div",{className:"text-xs text-brand-400 font-medium mt-0.5",children:["\ud83d\udccd ",e.district]}),(0,bS.jsxs)("div",{className:"text-sm text-gray-400",children:[e.status," \u2022 ",e.type]}),(0,bS.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.startDate," - ",e.endDate]})]}),(0,bS.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,bS.jsx)("button",{onClick:()=>(e=>{o(e),c(e.id),i("")})(e),className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm text-white",children:"Edit"}),(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this tournament?"))try{await Ak(Sw(vS,"tournaments",e)),i("Tournament deleted successfully!"),setTimeout(()=>i(""),3e3)}catch(t){console.error("Error deleting: ",t)}})(e.id),className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm text-white",children:"Delete"})]})]},e.id)),0===e.length&&!n&&(0,bS.jsx)("div",{className:"text-gray-400 col-span-full text-center",children:"No tournaments found."})]})]})},QM=()=>{const{matches:e,players:n,teams:r,lineups:s}=tM(),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)({id:"",matchId:"",teamName:"",starting11:[],bench:[]}),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),m=e.find(e=>e.id===i),g=n.filter(e=>{const t=e.team===o,n=e.name.toLowerCase().includes(d.toLowerCase());return t&&n}),v=[...c.starting11,...c.bench],y=e=>{l(e);const t=s.find(t=>t.matchId===i&&t.teamName===e);u(t?{id:t.id,matchId:t.matchId,teamName:t.teamName,starting11:t.starting11||[],bench:t.bench||[]}:{id:"",matchId:i,teamName:e,starting11:[],bench:[]})},x=e=>n.find(t=>t.id===e);return(0,bS.jsxs)("div",{className:"container mx-auto px-4 py-8 text-white",children:[(0,bS.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"\u26bd Manage Match Lineups"}),f&&(0,bS.jsx)("div",{className:"bg-green-600 text-white p-3 rounded mb-4 animate-pulse",children:f}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mb-6",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:"Select Match"}),(0,bS.jsxs)("select",{value:i,onChange:e=>{return t=e.target.value,a(t),l(""),void u({id:"",matchId:"",teamName:"",starting11:[],bench:[]});var t},className:"bg-gray-700 p-3 rounded text-white w-full mb-4",children:[(0,bS.jsx)("option",{value:"",children:"Select a match"}),e.filter(e=>"finished"!==e.status).map(e=>(0,bS.jsxs)("option",{value:e.id,children:[e.competition," - ",e.teamA," vs ",e.teamB,e.date&&" (".concat(new Date(e.date).toLocaleDateString(),")")]},e.id))]}),m&&(0,bS.jsxs)("div",{className:"mt-4",children:[(0,bS.jsx)("h4",{className:"text-lg mb-2",children:"Select Team"}),(0,bS.jsxs)("div",{className:"flex gap-4",children:[(0,bS.jsx)("button",{onClick:()=>y(m.teamA),className:"flex-1 p-3 rounded ".concat(o===m.teamA?"bg-green-600":"bg-gray-700 hover:bg-gray-600"),children:m.teamA}),(0,bS.jsx)("button",{onClick:()=>y(m.teamB),className:"flex-1 p-3 rounded ".concat(o===m.teamB?"bg-green-600":"bg-gray-700 hover:bg-gray-600"),children:m.teamB})]})]})]}),o&&(0,bS.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,bS.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,bS.jsx)("h3",{className:"text-xl mb-2",children:"Available Players"}),(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)(jP,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500",size:14}),(0,bS.jsx)("input",{type:"text",placeholder:"Search team players...",value:d,onChange:e=>h(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded pl-8 pr-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-green-500 outline-none"})]})]}),(0,bS.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-1",children:[g.filter(e=>!v.includes(e.id)).map(e=>(0,bS.jsxs)("div",{className:"bg-gray-700 p-3 rounded flex justify-between items-center",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-medium",children:e.name}),(0,bS.jsx)("div",{className:"text-xs text-gray-400",children:e.position})]}),(0,bS.jsxs)("div",{className:"flex gap-2",children:[(0,bS.jsx)("button",{onClick:()=>{return t=e.id,void(c.starting11.length<11&&u(e=>It(It({},e),{},{starting11:[...e.starting11,t]})));var t},disabled:c.starting11.length>=11,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-3 py-1 rounded text-xs",children:"Starting"}),(0,bS.jsx)("button",{onClick:()=>{return t=e.id,void(c.bench.length<6&&u(e=>It(It({},e),{},{bench:[...e.bench,t]})));var t},disabled:c.bench.length>=6,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-3 py-1 rounded text-xs",children:"Bench"})]})]},e.id)),0===g.filter(e=>!v.includes(e.id)).length&&(0,bS.jsx)("p",{className:"text-gray-400 text-sm text-center py-4",children:"All players assigned"})]})]}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,bS.jsxs)("h3",{className:"text-xl mb-4",children:["Starting 11",(0,bS.jsxs)("span",{className:"ml-2 text-sm ".concat(11===c.starting11.length?"text-green-400":"text-yellow-400"),children:["(",c.starting11.length,"/11)"]})]}),(0,bS.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[c.starting11.map((e,t)=>{const n=x(e);return n?(0,bS.jsxs)("div",{className:"bg-green-900 p-3 rounded flex justify-between items-center",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsxs)("div",{className:"font-medium",children:["#",t+1," ",n.name]}),(0,bS.jsx)("div",{className:"text-xs text-gray-300",children:n.position})]}),(0,bS.jsx)("button",{onClick:()=>(e=>{u(t=>It(It({},t),{},{starting11:t.starting11.filter(t=>t!==e)}))})(e),className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-xs",children:"Remove"})]},e):null}),0===c.starting11.length&&(0,bS.jsx)("p",{className:"text-gray-400 text-sm text-center py-4",children:"No players selected"})]})]}),(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg",children:[(0,bS.jsxs)("h3",{className:"text-xl mb-4",children:["Bench",(0,bS.jsxs)("span",{className:"ml-2 text-sm ".concat(6===c.bench.length?"text-green-400":"text-gray-400"),children:["(",c.bench.length,"/6)"]})]}),(0,bS.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[c.bench.map(e=>{const t=x(e);return t?(0,bS.jsxs)("div",{className:"bg-blue-900 p-3 rounded flex justify-between items-center",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("div",{className:"font-medium",children:t.name}),(0,bS.jsx)("div",{className:"text-xs text-gray-300",children:t.position})]}),(0,bS.jsx)("button",{onClick:()=>(e=>{u(t=>It(It({},t),{},{bench:t.bench.filter(t=>t!==e)}))})(e),className:"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-xs",children:"Remove"})]},e):null}),0===c.bench.length&&(0,bS.jsx)("p",{className:"text-gray-400 text-sm text-center py-4",children:"No bench players"})]})]})]}),o&&(0,bS.jsx)("div",{className:"mt-6 flex justify-center",children:(0,bS.jsx)("button",{onClick:async()=>{if(11===c.starting11.length)try{c.id?(await _k(Sw(vS,"lineups",c.id),{starting11:c.starting11,bench:c.bench,updatedAt:new Date}),p("Lineup updated successfully!")):(await Dk(Nw(vS,"lineups"),{matchId:c.matchId,teamName:c.teamName,starting11:c.starting11,bench:c.bench,createdAt:new Date}),p("Lineup saved successfully!")),setTimeout(()=>p(""),3e3),u({id:"",matchId:"",teamName:"",starting11:[],bench:[]}),a(""),l("")}catch(e){console.error("Error saving lineup:",e),alert("Error saving lineup: "+e.message)}else alert("Please select exactly 11 starting players")},disabled:11!==c.starting11.length,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed px-8 py-3 rounded-lg text-lg font-medium",children:"Save Lineup"})}),!i&&(0,bS.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg mt-6",children:[(0,bS.jsx)("h3",{className:"text-xl mb-4",children:"\ud83d\udccb How to Create a Lineup"}),(0,bS.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[(0,bS.jsx)("li",{children:"Select a match from the dropdown"}),(0,bS.jsx)("li",{children:"Choose which team you want to create a lineup for"}),(0,bS.jsx)("li",{children:"Add 11 players to the Starting 11"}),(0,bS.jsx)("li",{children:"Add up to 6 players to the Bench (optional)"}),(0,bS.jsx)("li",{children:'Click "Save Lineup" to confirm'})]})]})]})},XM=vP("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),YM=vP("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),$M=vP("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),JM=()=>{const{isAdmin:e}=kS(),[n,r]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(null),g=(0,t.useRef)(null),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)({title:"",excerpt:"",content:"",imageUrl:"",category:"Club News"});(0,t.useEffect)(()=>(w(),()=>{h&&h.getTracks().forEach(e=>e.stop())}),[]);const w=async()=>{i(!0);try{const e=dk(Nw(vS,"news"),mk("createdAt","desc")),t=(await Ck(e)).docs.map(e=>It({id:e.id},e.data()));r(t)}catch(e){console.error("Error fetching news:",e)}finally{i(!1)}},[k,N]=(0,t.useState)(0),[S,j]=(0,t.useState)(""),E=()=>{h&&(h.getTracks().forEach(e=>e.stop()),f(null)),d(!1)},T=()=>{b({title:"",excerpt:"",content:"",imageUrl:"",category:"Club News"}),c(null)};return e?(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,bS.jsx)("h1",{className:"text-3xl font-display font-bold text-white mb-6",children:"Manage News"}),(0,bS.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,bS.jsx)("div",{className:"lg:col-span-1",children:(0,bS.jsxs)("div",{className:"glass-card p-6 rounded-2xl sticky top-24",children:[(0,bS.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center justify-between",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[l?(0,bS.jsx)(yM,{size:20,className:"text-brand-400"}):(0,bS.jsx)(pM,{size:20,className:"text-brand-400"}),l?"Edit Article":"New Article"]}),l&&(0,bS.jsx)("button",{type:"button",onClick:T,className:"text-xs text-slate-400 hover:text-white underline",children:"Cancel"})]}),(0,bS.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(l){const e=Sw(vS,"news",l);await _k(e,It(It({},x),{},{updatedAt:Ok()})),alert("News article updated successfully!")}else await Dk(Nw(vS,"news"),It(It({},x),{},{createdAt:Ok()})),alert("News article added successfully!");T(),w()}catch(t){console.error("Error saving news:",t),alert("Error saving news: ".concat(t.message))}},className:"space-y-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Title"}),(0,bS.jsx)("input",{type:"text",required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-brand-500 outline-none",value:x.title,onChange:e=>b(It(It({},x),{},{title:e.target.value}))})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Category"}),(0,bS.jsxs)("select",{className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-brand-500 outline-none",value:x.category,onChange:e=>b(It(It({},x),{},{category:e.target.value})),children:[(0,bS.jsx)("option",{value:"Club News",children:"Club News"}),(0,bS.jsx)("option",{value:"Match Report",children:"Match Report"}),(0,bS.jsx)("option",{value:"Transfer",children:"Transfer"}),(0,bS.jsx)("option",{value:"Announcement",children:"Announcement"})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Article Image"}),(0,bS.jsx)("input",{type:"file",ref:g,onChange:async e=>{let t=e.target.files[0];if(t){o(!0),N(0),j("Processing...");try{if(t.type.match(/image.*/)){j("Compressing...");try{const e=await(async e=>new Promise((t,n)=>{const r=document.createElement("img"),s=URL.createObjectURL(e);r.src=s,r.onload=()=>{URL.revokeObjectURL(s);const n=document.createElement("canvas"),i=1e3;let a=r.width,o=r.height;if(r.width>i){const e=i/r.width;a=i,o=r.height*e}n.width=a,n.height=o,n.getContext("2d").drawImage(r,0,0,a,o),n.toBlob(n=>{if(!n)return console.error("Canvas compression failed"),void t(e);const r=new File([n],e.name,{type:"image/jpeg"});t(r)},"image/jpeg",.7)},r.onerror=n=>{URL.revokeObjectURL(s),console.error("Image load failed",n),t(e)}}))(t);e.size<t.size&&(t=e)}catch(n){console.warn("Compression failed, using original file:",n)}}j("Starting Upload...");const e=hS(pS(xS,"news/".concat(Date.now(),"_").concat(t.name)),t);await new Promise((t,n)=>{e.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;N(t),j("Uploading ".concat(Math.round(t),"%..."))},e=>{console.error("Upload error:",e),n(e)},()=>{t()})});const r=await fS(e.snapshot.ref);b(e=>It(It({},e),{},{imageUrl:r})),await zM(t.name,r,"News"),j("Done!")}catch(r){console.error("Error uploading image:",r),alert("Failed to upload image. Error: ".concat(r.code||r.message)),j("Error")}finally{o(!1),e.target.value=null,setTimeout(()=>j(""),2e3)}}},accept:"image/*",className:"hidden"}),(0,bS.jsxs)("div",{className:"space-y-3",children:[(0,bS.jsx)(uP,{children:u&&(0,bS.jsxs)(tP.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"relative overflow-hidden rounded-lg bg-black border border-brand-500/30",children:[(0,bS.jsx)("video",{ref:p,autoPlay:!0,playsInline:!0,className:"w-full aspect-video object-cover",onLoadedMetadata:e=>e.target.play()}),(0,bS.jsx)("canvas",{ref:m,className:"hidden"}),(0,bS.jsxs)("div",{className:"absolute bottom-4 inset-x-0 flex justify-center gap-4",children:[(0,bS.jsx)("button",{type:"button",onClick:async()=>{if(!p.current||!m.current)return;const e=p.current,t=m.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0,t.width,t.height),E(),o(!0),t.toBlob(async e=>{if(e)try{const t=new File([e],"capture_".concat(Date.now(),".jpg"),{type:"image/jpeg"});console.log("Webcam capture size: ".concat((t.size/1024).toFixed(2)," KB"));const n=pS(xS,"news/".concat(t.name));j("Starting Upload...");const r=hS(n,t);await new Promise((e,t)=>{r.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;N(t),j("Uploading ".concat(Math.round(t),"%..."))},e=>{console.error("Upload error:",e),t(e)},()=>{e()})});const s=await fS(r.snapshot.ref);b(e=>It(It({},e),{},{imageUrl:s})),j("Done!")}catch(t){console.error("Error uploading capture:",t),alert("Failed to upload photo. Error: ".concat(t.code||t.message)),j("Error")}finally{o(!1),setTimeout(()=>j(""),2e3)}},"image/jpeg",.6)},className:"h-12 w-12 rounded-full bg-white border-4 border-slate-300 flex items-center justify-center hover:bg-slate-200 transition-colors shadow-lg",children:(0,bS.jsx)("div",{className:"h-10 w-10 rounded-full border-2 border-slate-800"})}),(0,bS.jsx)("button",{type:"button",onClick:E,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white hover:bg-red-500 transition-colors",children:(0,bS.jsx)(TP,{size:20})})]})]})}),(0,bS.jsx)("input",{type:"url",placeholder:"Or paste image URL...",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-brand-500 outline-none text-sm",value:x.imageUrl,onChange:e=>b(It(It({},x),{},{imageUrl:e.target.value})),disabled:u}),!u&&(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,bS.jsxs)("button",{type:"button",onClick:()=>{g.current.click()},disabled:a,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm text-slate-300 transition-colors",children:[(0,bS.jsx)(XM,{size:16}),(0,bS.jsx)("span",{children:"Upload"})]}),(0,bS.jsxs)("button",{type:"button",onClick:()=>y(!0),disabled:a,className:"flex items-center justify-center gap-2 px-4 py-2 bg-brand-600/10 hover:bg-brand-600/20 text-brand-400 border border-brand-500/20 rounded-lg text-sm transition-colors",children:[(0,bS.jsx)(PM,{size:16}),(0,bS.jsx)("span",{children:"Repo"})]}),(0,bS.jsxs)("button",{type:"button",onClick:async()=>{o(!0);try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});f(e),d(!0),p.current&&(p.current.srcObject=e),o(!1)}catch(e){console.error("Error accessing webcam:",e),alert("Could not access camera. Please allow permissions."),o(!1)}},disabled:a,className:"flex items-center justify-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg text-sm transition-colors col-span-2",children:[(0,bS.jsx)(YM,{size:16}),(0,bS.jsx)("span",{children:"Take Photo"})]})]}),(0,bS.jsx)(BM,{isOpen:v,onClose:()=>y(!1),onSelect:e=>b(t=>It(It({},t),{},{imageUrl:e})),category:"News"}),x.imageUrl&&!u&&(0,bS.jsxs)("div",{className:"relative mt-2 rounded-lg overflow-hidden aspect-video border border-white/10 bg-black/40 group",children:[(0,bS.jsx)("img",{src:x.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}),(0,bS.jsx)("button",{type:"button",onClick:()=>b(It(It({},x),{},{imageUrl:""})),className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full hover:bg-red-500 transition-colors opacity-0 group-hover:opacity-100",children:(0,bS.jsx)(TP,{size:14})}),a&&(0,bS.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,bS.jsx)("div",{className:"text-white text-xs font-medium animate-pulse",children:"Processing..."})})]})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Summary (Excerpt)"}),(0,bS.jsx)("textarea",{required:!0,rows:"2",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-brand-500 outline-none",value:x.excerpt,onChange:e=>b(It(It({},x),{},{excerpt:e.target.value}))})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Full Content"}),(0,bS.jsx)("textarea",{required:!0,rows:"6",className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:ring-1 focus:ring-brand-500 outline-none",value:x.content,onChange:e=>b(It(It({},x),{},{content:e.target.value}))})]}),(0,bS.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-brand-600 hover:bg-brand-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-brand-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?(0,bS.jsxs)(bS.Fragment,{children:[(0,bS.jsx)("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,bS.jsx)("span",{children:S||"Processing..."})]}):(0,bS.jsx)("span",{children:l?"Update Article":"Publish Article"})})]})]})}),(0,bS.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,bS.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Published Articles"}),s?(0,bS.jsx)("div",{className:"text-center py-10 text-slate-400",children:"Loading..."}):(0,bS.jsxs)("div",{className:"space-y-4",children:[n.map(e=>{var t;return(0,bS.jsxs)(tP.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-card p-4 rounded-xl flex gap-4 group",children:[(0,bS.jsx)("div",{className:"w-24 h-24 bg-slate-800 rounded-lg overflow-hidden flex-shrink-0 relative",children:e.imageUrl?(0,bS.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}):(0,bS.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:(0,bS.jsx)(DM,{size:24})})}),(0,bS.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-start",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("span",{className:"text-xs font-bold text-brand-400 uppercase tracking-wider mb-1 block",children:e.category}),(0,bS.jsx)("h3",{className:"font-bold text-white text-lg leading-tight truncate",children:e.title})]}),(0,bS.jsxs)("div",{className:"flex gap-1",children:[(0,bS.jsx)("button",{onClick:()=>(e=>{b({title:e.title,excerpt:e.excerpt,content:e.content,imageUrl:e.imageUrl,category:e.category}),c(e.id),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"text-slate-500 hover:text-brand-400 p-2 transition-colors",children:(0,bS.jsx)(yM,{size:18})}),(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this article?"))try{await Ak(Sw(vS,"news",e)),w(),l===e&&T()}catch(t){console.error("Error deleting news:",t)}})(e.id),className:"text-slate-500 hover:text-red-500 p-2 transition-colors",children:(0,bS.jsx)($M,{size:18})})]})]}),(0,bS.jsx)("p",{className:"text-slate-400 text-sm mt-2 line-clamp-2",children:e.excerpt}),(0,bS.jsx)("div",{className:"mt-2 text-xs text-slate-600",children:null!==(t=e.createdAt)&&void 0!==t&&t.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"Just now"})]})]},e.id)}),0===n.length&&(0,bS.jsx)("div",{className:"text-center py-10 bg-white/5 rounded-xl border border-dashed border-white/10 text-slate-500",children:"No news articles yet. Add your first story!"})]})]})]})]}):(0,bS.jsx)("div",{className:"text-white text-center py-20",children:"Access Denied"})},ZM=vP("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),eO=()=>{var e;const[n,r]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{i(!0);try{const e=dk(Nw(vS,"news"),mk("createdAt","desc")),t=(await Ck(e)).docs.map(e=>It({id:e.id},e.data()));0===t.length?r([{id:1,title:"Season Kickoff Announced",excerpt:"The new season starts this weekend with exciting fixtures.",imageUrl:"https://images.unsplash.com/photo-1579952363873-27f3bade9f55?auto=format&fit=crop&q=80",category:"Announcement",createdAt:{seconds:Date.now()/1e3}},{id:2,title:"Star Player Transfer Rumors",excerpt:"Top clubs are eyeing the league's top scorer.",imageUrl:"https://images.unsplash.com/photo-1518609878373-06d740f60d8b?auto=format&fit=crop&q=80",category:"Transfer",createdAt:{seconds:Date.now()/1e3-86400}}]):r(t)}catch(e){console.error("Error fetching news:",e)}finally{i(!1)}})()},[]);const a={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return s?(0,bS.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,bS.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,bS.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"}),(0,bS.jsx)("div",{className:"text-slate-400 font-medium animate-pulse",children:"Loading News..."})]})}):(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[(0,bS.jsxs)(tP.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center max-w-2xl mx-auto",children:[(0,bS.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white mb-4",children:"Latest News"}),(0,bS.jsx)("p",{className:"text-slate-400 text-lg",children:"Stay updated with the latest match reports, transfer news, and club announcements."})]}),n.length>0?(0,bS.jsxs)(tP.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,bS.jsxs)(tP.div,{variants:a,className:"lg:col-span-2 group cursor-pointer relative rounded-3xl overflow-hidden aspect-[16/9] md:aspect-[21/9]",onClick:()=>window.location.href="/news/".concat(n[0].id),children:[(0,bS.jsx)("img",{src:n[0].imageUrl||"https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&q=80",alt:n[0].title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),(0,bS.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-bg via-dark-bg/50 to-transparent"}),(0,bS.jsxs)("div",{className:"absolute bottom-0 left-0 p-8 space-y-3",children:[(0,bS.jsx)("span",{className:"inline-block px-3 py-1 bg-brand-600 text-white text-xs font-bold uppercase tracking-wider rounded-lg shadow-lg",children:n[0].category}),(0,bS.jsx)("h2",{className:"text-2xl md:text-4xl font-display font-bold text-white leading-tight max-w-2xl group-hover:text-brand-400 transition-colors",children:n[0].title}),(0,bS.jsx)("p",{className:"text-slate-300 line-clamp-2 max-w-xl text-sm md:text-base",children:n[0].excerpt}),(0,bS.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-xs font-medium pt-2",children:[(0,bS.jsx)(cM,{size:14}),null!==(e=n[0].createdAt)&&void 0!==e&&e.seconds?new Date(1e3*n[0].createdAt.seconds).toLocaleDateString(void 0,{dateStyle:"long"}):"Today"]})]})]}),n.slice(1).map(e=>{var t;return(0,bS.jsx)(Pe,{to:"/news/".concat(e.id),className:"group flex flex-col glass-card rounded-2xl overflow-hidden hover:border-brand-500/30 transition-all duration-300 h-full",children:(0,bS.jsxs)(tP.div,{variants:a,className:"h-full flex flex-col",children:[(0,bS.jsxs)("div",{className:"relative aspect-video overflow-hidden",children:[(0,bS.jsx)("img",{src:e.imageUrl||"https://images.unsplash.com/photo-1517466787929-bc90951d0974?auto=format&fit=crop&q=80",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),(0,bS.jsx)("div",{className:"absolute top-4 left-4",children:(0,bS.jsx)("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-md text-white text-[10px] font-bold uppercase tracking-wider rounded border border-white/10",children:e.category})})]}),(0,bS.jsxs)("div",{className:"p-5 flex flex-col flex-1",children:[(0,bS.jsx)("h3",{className:"text-xl font-display font-bold text-white mb-2 line-clamp-2 group-hover:text-brand-400 transition-colors",children:e.title}),(0,bS.jsx)("p",{className:"text-slate-400 text-sm line-clamp-3 mb-4 flex-1",children:e.excerpt}),(0,bS.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-white/5 mt-auto",children:[(0,bS.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1.5",children:[(0,bS.jsx)(cM,{size:12}),null!==(t=e.createdAt)&&void 0!==t&&t.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"Recent"]}),(0,bS.jsxs)("span",{className:"text-xs font-bold text-brand-500 flex items-center gap-1 group-hover:translate-x-1 transition-transform",children:["Read More ",(0,bS.jsx)(ZM,{size:12})]})]})]})]})},e.id)})]}):(0,bS.jsxs)("div",{className:"text-center py-20 bg-white/5 rounded-3xl border border-dashed border-white/10",children:[(0,bS.jsx)(xP,{className:"w-16 h-16 text-slate-600 mx-auto mb-4",strokeWidth:1.5}),(0,bS.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No News Yet"}),(0,bS.jsx)("p",{className:"text-slate-400",children:"Check back later for the latest updates from the league."})]})]})},tO=vP("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),nO=vP("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),rO=vP("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),sO=()=>{var e;const{id:n}=ne(),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{(async()=>{try{const e=Sw(vS,"news",n),t=await function(e){e=vw(e,bw);const t=vw(e.firestore,Tw);return cw(Cw(t),e._key).then(n=>Mk(t,e,n))}(e);t.exists()&&s(It({id:t.id},t.data()))}catch(e){console.error("Error fetching article:",e)}finally{a(!1)}})()},[n]),i)return(0,bS.jsx)("div",{className:"flex h-[80vh] items-center justify-center",children:(0,bS.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-brand-500 border-t-transparent"})});if(!r)return(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-20 text-center",children:[(0,bS.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Article Not Found"}),(0,bS.jsxs)(Pe,{to:"/news",className:"text-brand-400 hover:text-brand-300 flex items-center justify-center gap-2",children:[(0,bS.jsx)(tO,{size:20})," Back to News"]})]});const o=null!==(e=r.createdAt)&&void 0!==e&&e.seconds?new Date(1e3*r.createdAt.seconds).toLocaleDateString(void 0,{dateStyle:"long"}):"Recently Published";return(0,bS.jsxs)(tP.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto px-4 py-8 md:py-12",children:[(0,bS.jsxs)(Pe,{to:"/news",className:"inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[(0,bS.jsx)(tO,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Latest News"]}),(0,bS.jsxs)("article",{className:"space-y-8",children:[(0,bS.jsxs)("div",{className:"space-y-4",children:[(0,bS.jsx)(tP.span,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"inline-block px-3 py-1 bg-brand-600/20 text-brand-400 text-xs font-bold uppercase tracking-wider rounded-lg border border-brand-500/20",children:r.category||"Updates"}),(0,bS.jsx)(tP.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-3xl md:text-5xl font-display font-bold text-white leading-tight",children:r.title}),(0,bS.jsxs)(tP.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex flex-wrap items-center gap-6 text-slate-400 text-sm py-4 border-y border-white/5",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(cM,{size:16,className:"text-brand-500"}),o]}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(lM,{size:16,className:"text-brand-500"}),"5 min read"]}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(SP,{size:16,className:"text-brand-500"}),"Goal Kashmir Editorial"]})]})]}),(0,bS.jsx)(tP.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"relative aspect-video rounded-3xl overflow-hidden shadow-2xl shadow-black/50",children:(0,bS.jsx)("img",{src:r.imageUrl||"https://images.unsplash.com/photo-1508098682722-e99c43a406b2?auto=format&fit=crop&q=80",alt:r.title,className:"w-full h-full object-cover"})}),(0,bS.jsxs)(tP.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"prose prose-invert prose-brand max-w-none",children:[(0,bS.jsx)("p",{className:"text-xl text-slate-300 font-medium leading-relaxed mb-8",children:r.excerpt}),(0,bS.jsx)("div",{className:"text-slate-400 leading-relaxed text-lg whitespace-pre-wrap",children:r.content})]}),(0,bS.jsxs)(tP.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"pt-12 mt-12 border-t border-white/5 flex items-center justify-between",children:[(0,bS.jsx)("div",{className:"flex items-center gap-4",children:(0,bS.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-xl transition-colors",children:[(0,bS.jsx)(nO,{size:18}),"Share"]})}),(0,bS.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[(0,bS.jsx)(rO,{size:16}),r.tags||r.category||"Soccer"]})]})]})]})},iO=vP("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),aO=()=>{const{id:e}=ne(),{tournaments:n,matches:r,teams:s,loading:i}=tM(),{isAdmin:a}=kS(),[o,l]=(0,t.useState)("fixtures"),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)({teamA:"",teamB:"",date:"",time:"",round:"",scoreA:0,scoreB:0,status:"scheduled",currentMinute:0,managerA:"",managerB:""}),[v,y]=(0,t.useState)(!1),x=(0,t.useMemo)(()=>n.find(t=>t.id===e),[n,e]),b=(0,t.useMemo)(()=>x?r.filter(e=>e.competition===x.name):[],[r,x]),w=(0,t.useMemo)(()=>x?s.filter(e=>(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(x.name)):[],[s,x]),k=(0,t.useMemo)(()=>x?s.filter(e=>!(Array.isArray(e.tournaments)?e.tournaments:"string"===typeof e.tournaments?e.tournaments.split(",").map(e=>e.trim()):[]).includes(x.name)).filter(e=>e.name.toLowerCase().includes(f.toLowerCase())):[],[s,x,f]),N=e=>{const{name:t,value:n}=e.target;g(e=>{const r=It(It({},e),{},{[t]:n});if("teamA"===t){const e=w.find(e=>e.name===n);e&&(r.managerA=e.manager||"")}if("teamB"===t){const e=w.find(e=>e.name===n);e&&(r.managerB=e.manager||"")}return r})},S=(0,t.useMemo)(()=>{if(!x||"league"!==x.type)return[];const e={};return w.forEach(t=>{e[t.name]={id:t.id,name:t.name,logoUrl:t.logoUrl,played:0,wins:0,draws:0,losses:0,gf:0,ga:0,pts:0,gd:0}}),b.filter(e=>"finished"===e.status).forEach(t=>{const n=e[t.teamA],r=e[t.teamB];n&&r&&(n.played++,r.played++,n.gf+=t.scoreA,n.ga+=t.scoreB,r.gf+=t.scoreB,r.ga+=t.scoreA,t.scoreA>t.scoreB?(n.wins++,n.pts+=3,r.losses++):t.scoreB>t.scoreA?(r.wins++,r.pts+=3,n.losses++):(n.draws++,n.pts+=1,r.draws++,r.pts+=1),n.gd=n.gf-n.ga,r.gd=r.gf-r.ga)}),Object.values(e).sort((e,t)=>t.pts!==e.pts?t.pts-e.pts:t.gd!==e.gd?t.gd-e.gd:t.gf-e.gf)},[x,w,b]),j=(0,t.useMemo)(()=>{const e={};return b.forEach(t=>{const n=t.round||"General";e[n]||(e[n]=[]),e[n].push(t)}),e},[b]);if(i)return(0,bS.jsx)("div",{className:"flex h-screen items-center justify-center text-white",children:"Loading..."});if(!x)return(0,bS.jsx)("div",{className:"text-white p-20 text-center",children:"Tournament not found"});const E=[{id:"fixtures",label:"Fixtures",icon:cM},..."league"===x.type?[{id:"standings",label:"Standings",icon:iO}]:[],..."knockout"===x.type?[{id:"bracket",label:"Bracket",icon:bP}]:[],{id:"teams",label:"Teams",icon:kP}];return(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8",children:[(0,bS.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-brand-900 to-slate-900 border border-white/10 p-8 shadow-2xl",children:[(0,bS.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:(0,bS.jsx)(bP,{size:200})}),(0,bS.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-center",children:[(0,bS.jsx)("div",{className:"h-32 w-32 rounded-2xl bg-brand-500/20 flex items-center justify-center border border-brand-500/30 shadow-lg",children:(0,bS.jsx)(bP,{size:64,className:"text-brand-400"})}),(0,bS.jsxs)("div",{className:"text-center md:text-left flex-1",children:[(0,bS.jsxs)("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-3 mb-3",children:[(0,bS.jsx)("span",{className:"px-3 py-1 rounded-full bg-brand-500/10 text-brand-400 text-xs font-bold uppercase tracking-wider border border-brand-500/20",children:x.type}),(0,bS.jsx)("span",{className:WR("px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border","live"===x.status?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-500 border-green-500/20"),children:x.status})]}),(0,bS.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-black text-white mb-4 italic",children:x.name}),(0,bS.jsxs)("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-6 text-slate-400",children:[(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(aM,{size:18,className:"text-brand-500"}),(0,bS.jsx)("span",{children:x.district})]}),(0,bS.jsxs)("div",{className:"flex items-center gap-2",children:[(0,bS.jsx)(cM,{size:18,className:"text-brand-500"}),(0,bS.jsxs)("span",{children:[x.startDate," - ",x.endDate]})]})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-4 border border-white/5 text-center",children:[(0,bS.jsx)("div",{className:"text-2xl font-black text-white",children:x.teamsCount}),(0,bS.jsx)("div",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Teams"})]}),(0,bS.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-4 border border-white/5 text-center",children:[(0,bS.jsx)("div",{className:"text-2xl font-black text-white",children:x.matchesCount}),(0,bS.jsx)("div",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Matches"})]})]})]})]}),(0,bS.jsx)("div",{className:"flex overflow-x-auto gap-2 pb-2 scrollbar-none",children:E.map(e=>(0,bS.jsxs)("button",{onClick:()=>l(e.id),className:WR("flex items-center gap-2 px-6 py-3 rounded-xl font-bold text-sm transition-all whitespace-nowrap",o===e.id?"bg-brand-500 text-white shadow-lg shadow-brand-500/20":"bg-white/5 text-slate-400 hover:bg-white/10"),children:[(0,bS.jsx)(e.icon,{size:18}),e.label]},e.id))}),(0,bS.jsxs)("div",{className:"min-h-[400px]",children:["fixtures"===o&&(0,bS.jsxs)("div",{className:"space-y-8",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bS.jsxs)("h3",{className:"text-xl font-display font-black text-white flex items-center gap-3",children:[(0,bS.jsx)("span",{className:"h-6 w-1 bg-brand-500 rounded-full"}),"Match Schedule"]}),a&&(0,bS.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-xl font-bold text-sm hover:bg-brand-600 transition-all shadow-lg",children:[(0,bS.jsx)(pM,{size:18}),"Schedule Match"]})]}),Object.keys(j).length>0?Object.entries(j).map(e=>{let[t,n]=e;return(0,bS.jsxs)("div",{className:"space-y-4",children:[(0,bS.jsxs)("h3",{className:"text-xl font-display font-black text-white flex items-center gap-3",children:[(0,bS.jsx)("span",{className:"h-6 w-1 bg-brand-500 rounded-full"}),t]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(e=>{const t=w.find(t=>t.name===e.teamA),n=w.find(t=>t.name===e.teamB);return(0,bS.jsx)(Pe,{to:"/live/".concat(e.id),className:"group bg-slate-900 border border-white/5 rounded-2xl p-5 hover:border-brand-500/30 transition-all shadow-lg",children:(0,bS.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,bS.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,bS.jsx)("div",{className:"w-12 h-12 bg-white/5 rounded-full flex items-center justify-center mb-2 overflow-hidden border border-white/5 group-hover:border-brand-500/30 transition-colors p-2",children:null!==t&&void 0!==t&&t.logoUrl?(0,bS.jsx)("img",{src:t.logoUrl,alt:"",className:"w-full h-full object-contain"}):(0,bS.jsx)("span",{className:"text-sm font-black text-slate-500",children:e.teamA.substring(0,2).toUpperCase()})}),(0,bS.jsx)("span",{className:"text-sm font-bold text-white text-center group-hover:text-brand-400 transition-colors truncate w-full",children:e.teamA})]}),(0,bS.jsxs)("div",{className:"text-center px-4",children:[(0,bS.jsx)("div",{className:"text-2xl font-black text-white mb-1 tracking-tighter",children:"scheduled"===e.status?"".concat(e.time):"".concat(e.scoreA," - ").concat(e.scoreB)}),(0,bS.jsx)("div",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest whitespace-nowrap",children:"scheduled"===e.status?e.date:e.status})]}),(0,bS.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,bS.jsx)("div",{className:"w-12 h-12 bg-white/5 rounded-full flex items-center justify-center mb-2 overflow-hidden border border-white/5 group-hover:border-brand-500/30 transition-colors p-2",children:null!==n&&void 0!==n&&n.logoUrl?(0,bS.jsx)("img",{src:n.logoUrl,alt:"",className:"w-full h-full object-contain"}):(0,bS.jsx)("span",{className:"text-sm font-black text-slate-500",children:e.teamB.substring(0,2).toUpperCase()})}),(0,bS.jsx)("span",{className:"text-sm font-bold text-white text-center group-hover:text-brand-400 transition-colors truncate w-full",children:e.teamB})]})]})},e.id)})})]},t)}):(0,bS.jsxs)("div",{className:"text-center py-20 bg-white/5 rounded-3xl border border-dashed border-white/10",children:[(0,bS.jsx)(cM,{size:48,className:"mx-auto text-slate-600 mb-4"}),(0,bS.jsx)("h3",{className:"text-lg font-bold text-white",children:"No fixtures found"}),(0,bS.jsx)("p",{className:"text-slate-500",children:"Wait for the organizers to schedule matches."})]}),d&&(0,bS.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:(0,bS.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-3xl shadow-2xl w-full max-w-xl overflow-hidden",children:[(0,bS.jsxs)("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-brand-500/5",children:[(0,bS.jsx)("h3",{className:"text-xl font-black text-white italic",children:"Schedule New Match"}),(0,bS.jsx)("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,bS.jsx)(TP,{size:24})})]}),(0,bS.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m.teamA&&m.teamB){y(!0);try{await Dk(Nw(vS,"matches"),It(It({},m),{},{competition:x.name})),h(!1),g({teamA:"",teamB:"",date:"",time:"",round:"",scoreA:0,scoreB:0,status:"scheduled",currentMinute:0,managerA:"",managerB:""})}catch(t){console.error("Error scheduling match:",t),alert("Error scheduling match")}finally{y(!1)}}else alert("Please select both teams")},className:"p-6 space-y-4",children:[(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] text-slate-500 uppercase font-black mb-1 block",children:"Home Team"}),(0,bS.jsxs)("select",{name:"teamA",value:m.teamA,onChange:N,className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all",required:!0,children:[(0,bS.jsx)("option",{value:"",children:"Select Home Team"}),w.map(e=>(0,bS.jsx)("option",{value:e.name,disabled:e.name===m.teamB,children:e.name},e.id))]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] text-slate-500 uppercase font-black mb-1 block",children:"Away Team"}),(0,bS.jsxs)("select",{name:"teamB",value:m.teamB,onChange:N,className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all",required:!0,children:[(0,bS.jsx)("option",{value:"",children:"Select Away Team"}),w.map(e=>(0,bS.jsx)("option",{value:e.name,disabled:e.name===m.teamA,children:e.name},e.id))]})]})]}),(0,bS.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] text-slate-500 uppercase font-black mb-1 block",children:"Date"}),(0,bS.jsx)("input",{type:"date",name:"date",value:m.date,onChange:N,className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all",required:!0})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] text-slate-500 uppercase font-black mb-1 block",children:"Time"}),(0,bS.jsx)("input",{type:"time",name:"time",value:m.time,onChange:N,className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all",required:!0})]})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] text-slate-500 uppercase font-black mb-1 block",children:"Round / Group"}),(0,bS.jsx)("input",{type:"text",name:"round",placeholder:"e.g. Round 1, Semi-Final, Group A",value:m.round,onChange:N,className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all",required:!0})]}),(0,bS.jsx)("button",{type:"submit",disabled:v,className:"w-full py-4 bg-brand-500 hover:bg-brand-600 disabled:opacity-50 text-white font-black uppercase tracking-widest rounded-2xl transition-all shadow-xl shadow-brand-500/20",children:v?"Scheduling...":"Create Match"})]})]})})]}),"standings"===o&&(0,bS.jsx)("div",{className:"bg-slate-900 rounded-3xl border border-white/10 overflow-hidden",children:(0,bS.jsxs)("table",{className:"w-full text-left",children:[(0,bS.jsx)("thead",{className:"bg-white/5 border-b border-white/10 text-[10px] uppercase font-black text-slate-500 tracking-widest",children:(0,bS.jsxs)("tr",{children:[(0,bS.jsx)("th",{className:"px-6 py-4",children:"Pos"}),(0,bS.jsx)("th",{className:"px-6 py-4",children:"Team"}),(0,bS.jsx)("th",{className:"px-4 py-4 text-center",children:"P"}),(0,bS.jsx)("th",{className:"px-4 py-4 text-center",children:"W"}),(0,bS.jsx)("th",{className:"px-4 py-4 text-center",children:"D"}),(0,bS.jsx)("th",{className:"px-4 py-4 text-center",children:"L"}),(0,bS.jsx)("th",{className:"px-4 py-4 text-center",children:"GD"}),(0,bS.jsx)("th",{className:"px-6 py-4 text-center",children:"Pts"})]})}),(0,bS.jsx)("tbody",{className:"divide-y divide-white/5",children:S.map((e,t)=>(0,bS.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,bS.jsx)("td",{className:"px-6 py-4 font-black text-slate-500",children:t+1}),(0,bS.jsx)("td",{className:"px-6 py-4",children:(0,bS.jsxs)("div",{className:"flex items-center gap-3 text-white font-bold",children:[e.logoUrl?(0,bS.jsx)("img",{src:e.logoUrl,className:"w-8 h-8 object-contain",alt:""}):(0,bS.jsx)("div",{className:"w-8 h-8 bg-brand-500 rounded flex items-center justify-center text-[10px]",children:e.name.substring(0,2).toUpperCase()}),e.name]})}),(0,bS.jsx)("td",{className:"px-4 py-4 text-center font-bold text-slate-400",children:e.played}),(0,bS.jsx)("td",{className:"px-4 py-4 text-center font-bold text-slate-400",children:e.wins}),(0,bS.jsx)("td",{className:"px-4 py-4 text-center font-bold text-slate-400",children:e.draws}),(0,bS.jsx)("td",{className:"px-4 py-4 text-center font-bold text-slate-400",children:e.losses}),(0,bS.jsx)("td",{className:"px-4 py-4 text-center font-bold text-brand-400",children:e.gd}),(0,bS.jsx)("td",{className:"px-6 py-4 text-center font-black text-white bg-brand-500/5",children:e.pts})]},e.id))})]})}),"bracket"===o&&(0,bS.jsx)("div",{className:"space-y-12 py-8 overflow-x-auto",children:(0,bS.jsx)("div",{className:"flex gap-16 min-w-[800px] justify-center",children:["Quarter-Final","Semi-Final","Final"].map(e=>j[e]?(0,bS.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,bS.jsx)("h4",{className:"text-center text-xs font-black uppercase tracking-widest text-slate-500",children:e}),(0,bS.jsx)("div",{className:"flex flex-col gap-8 justify-around flex-1",children:j[e].map(e=>(0,bS.jsxs)("div",{className:"w-48 bg-slate-800 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:[(0,bS.jsxs)("div",{className:WR("p-2 border-b border-white/5 flex justify-between items-center",e.scoreA>e.scoreB&&"bg-brand-500/10"),children:[(0,bS.jsx)("span",{className:"text-xs font-bold text-white truncate max-w-[100px]",children:e.teamA}),(0,bS.jsx)("span",{className:"text-xs font-black text-white",children:e.scoreA})]}),(0,bS.jsxs)("div",{className:WR("p-2 flex justify-between items-center",e.scoreB>e.scoreA&&"bg-brand-500/10"),children:[(0,bS.jsx)("span",{className:"text-xs font-bold text-white truncate max-w-[100px]",children:e.teamB}),(0,bS.jsx)("span",{className:"text-xs font-black text-white",children:e.scoreB})]})]},e.id))})]},e):null)})}),"teams"===o&&(0,bS.jsxs)("div",{className:"space-y-6",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bS.jsxs)("h3",{className:"text-xl font-display font-black text-white flex items-center gap-3",children:[(0,bS.jsx)("span",{className:"h-6 w-1 bg-brand-500 rounded-full"}),"Participating Teams (",w.length,")"]}),a&&(0,bS.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-xl font-bold text-sm hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/20",children:[(0,bS.jsx)(pM,{size:18}),"Add Team"]})]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map(e=>(0,bS.jsxs)("div",{className:"relative group bg-slate-900 border border-white/5 p-6 rounded-3xl hover:border-brand-500/20 transition-all text-center flex flex-col items-center",children:[a&&(0,bS.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove ".concat(e.name," from this tournament?")))try{const t=Sw(vS,"teams",e.id),n=Array.isArray(e.tournaments)?e.tournaments:[];await _k(t,{tournaments:n.filter(e=>e!==x.name)})}catch(t){console.error("Error removing team from tournament:",t),alert("Error removing team")}})(e),className:"absolute top-2 right-2 p-2 bg-red-500/10 text-red-500 rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-500 hover:text-white transition-all",children:(0,bS.jsx)(TP,{size:14})}),e.logoUrl?(0,bS.jsx)("img",{src:e.logoUrl,className:"w-20 h-20 object-contain mb-4",alt:""}):(0,bS.jsx)("div",{className:"w-20 h-20 bg-brand-500 rounded-3xl flex items-center justify-center text-2xl font-black text-white mb-4 shadow-xl",children:e.name.substring(0,2).toUpperCase()}),(0,bS.jsx)("h4",{className:"text-lg font-bold text-white mb-1",children:e.name}),(0,bS.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-widest font-bold",children:e.shortName||"Club"})]},e.id))}),c&&(0,bS.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:(0,bS.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden",children:[(0,bS.jsxs)("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-brand-500/5",children:[(0,bS.jsxs)("h3",{className:"text-xl font-black text-white italic",children:["Add Team to ",x.name]}),(0,bS.jsx)("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,bS.jsx)(TP,{size:24})})]}),(0,bS.jsxs)("div",{className:"p-6 space-y-4",children:[(0,bS.jsxs)("div",{className:"relative",children:[(0,bS.jsx)(jP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),(0,bS.jsx)("input",{type:"text",placeholder:"Search available teams...",value:f,onChange:e=>p(e.target.value),className:"w-full bg-slate-800 border border-white/5 rounded-2xl py-3 pl-10 pr-4 text-white placeholder:text-slate-500 focus:border-brand-500 focus:ring-1 focus:ring-brand-500 outline-none transition-all"})]}),(0,bS.jsx)("div",{className:"max-h-[300px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10",children:k.length>0?(0,bS.jsx)("div",{className:"grid grid-cols-1 gap-2",children:k.map(e=>(0,bS.jsxs)("button",{onClick:()=>(async e=>{try{const t=Sw(vS,"teams",e.id),n=Array.isArray(e.tournaments)?e.tournaments:[];await _k(t,{tournaments:[...n,x.name]}),u(!1)}catch(t){console.error("Error adding team to tournament:",t),alert("Error adding team")}})(e),className:"flex items-center gap-4 p-3 rounded-2xl bg-white/5 hover:bg-brand-500/10 border border-transparent hover:border-brand-500/20 transition-all text-left",children:[(0,bS.jsx)("div",{className:"w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center border border-white/5",children:e.logoUrl?(0,bS.jsx)("img",{src:e.logoUrl,className:"w-6 h-6 object-contain",alt:""}):(0,bS.jsx)("span",{className:"text-xs font-black text-slate-500",children:e.name.substring(0,2).toUpperCase()})}),(0,bS.jsxs)("div",{className:"flex-1",children:[(0,bS.jsx)("div",{className:"font-bold text-white",children:e.name}),(0,bS.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold",children:e.shortName})]}),(0,bS.jsx)(pM,{size:18,className:"text-brand-500"})]},e.id))}):(0,bS.jsx)("div",{className:"text-center py-8 text-slate-500 font-medium",children:"No available teams found"})})]})]})})]})]})]})},oO=()=>{const{teams:e,players:n,matches:r,tournaments:s,loading:i}=tM(),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("all"),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)("all"),y=(0,t.useMemo)(()=>{if(!a&&"all"===l)return{teams:[],players:[],matches:[],tournaments:[]};const t=a.toLowerCase(),i="all"===l||"teams"===l?e.filter(e=>{var n;return e.name.toLowerCase().includes(t)||(null===(n=e.shortName)||void 0===n?void 0:n.toLowerCase().includes(t))}):[],o="all"===l||"players"===l?n.filter(e=>{var n;return e.name.toLowerCase().includes(t)||e.team.toLowerCase().includes(t)||(null===(n=e.position)||void 0===n?void 0:n.toLowerCase().includes(t))}):[];return{teams:i,players:o,matches:"all"===l||"matches"===l?r.filter(e=>{var n,r;const s="".concat(e.teamA," vs ").concat(e.teamB).toLowerCase(),i=(!h||e.date>=h)&&(!p||e.date<=p),a="all"===g||e.status===g;return(s.includes(t)||(null===(n=e.competition)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.stadium)||void 0===r?void 0:r.toLowerCase().includes(t)))&&i&&a}):[],tournaments:"all"===l||"tournaments"===l?s.filter(e=>{var n;return e.name.toLowerCase().includes(t)||(null===(n=e.district)||void 0===n?void 0:n.toLowerCase().includes(t))}):[]}},[a,l,e,n,r,s,h,p,g]),x=y.teams.length+y.players.length+y.matches.length+y.tournaments.length,b={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};return(0,bS.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 min-h-[80vh]",children:[(0,bS.jsxs)("div",{className:"flex flex-col gap-6 mb-12",children:[(0,bS.jsxs)("div",{className:"relative group",children:[(0,bS.jsx)(jP,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-brand-500 transition-colors",size:24}),(0,bS.jsx)("input",{type:"text",placeholder:"Search for teams, players, matches or tournaments...",className:"w-full bg-slate-900/50 backdrop-blur-xl border border-white/10 rounded-2xl py-6 pl-16 pr-6 text-xl text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-brand-500/50 focus:border-brand-500 transition-all shadow-2xl",value:a,onChange:e=>o(e.target.value),autoFocus:!0}),a&&(0,bS.jsx)("button",{onClick:()=>o(""),className:"absolute right-6 top-1/2 -translate-y-1/2 p-2 bg-white/5 hover:bg-white/10 rounded-full text-slate-400 transition-all",children:(0,bS.jsx)(TP,{size:18})})]}),(0,bS.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,bS.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-none",children:[{id:"all",label:"All Results",icon:jP},{id:"matches",label:"Matches",icon:cM},{id:"teams",label:"Teams",icon:wP},{id:"players",label:"Players",icon:kP},{id:"tournaments",label:"Tournaments",icon:bP}].map(e=>(0,bS.jsxs)("button",{onClick:()=>c(e.id),className:WR("flex items-center gap-2 px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap border",l===e.id?"bg-brand-500 text-white border-brand-500 shadow-lg shadow-brand-500/20":"bg-white/5 text-slate-400 border-white/5 hover:bg-white/10"),children:[(0,bS.jsx)(e.icon,{size:16}),e.label]},e.id))}),(0,bS.jsxs)("button",{onClick:()=>d(!u),className:WR("flex items-center gap-2 px-6 py-2.5 rounded-xl font-bold text-sm transition-all border",u?"bg-white/10 text-white border-white/20":"bg-white/5 text-slate-400 border-white/5 hover:bg-white/10"),children:[(0,bS.jsx)(xM,{size:16}),"Advanced Filters"]})]}),(0,bS.jsx)(uP,{children:u&&(0,bS.jsx)(tP.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,bS.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-6 bg-slate-900/50 rounded-2xl border border-white/10",children:[(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] uppercase font-black text-slate-500 mb-2 block",children:"Date From"}),(0,bS.jsx)("input",{type:"date",value:h,onChange:e=>f(e.target.value),className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all font-medium"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] uppercase font-black text-slate-500 mb-2 block",children:"Date To"}),(0,bS.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all font-medium"})]}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("label",{className:"text-[10px] uppercase font-black text-slate-500 mb-2 block",children:"Match Status"}),(0,bS.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full bg-slate-800 border border-white/5 rounded-xl p-3 text-white outline-none focus:border-brand-500 transition-all font-medium",children:[(0,bS.jsx)("option",{value:"all",children:"All Status"}),(0,bS.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,bS.jsx)("option",{value:"live",children:"Live"}),(0,bS.jsx)("option",{value:"finished",children:"Finished"})]})]})]})})})]}),x>0?(0,bS.jsxs)(tP.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"show",className:"space-y-12",children:[y.tournaments.length>0&&(0,bS.jsxs)("section",{children:[(0,bS.jsxs)("h2",{className:"text-sm font-black text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,bS.jsx)(bP,{size:16}),"Tournaments (",y.tournaments.length,")"]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.tournaments.map(e=>(0,bS.jsx)(tP.div,{variants:b,children:(0,bS.jsx)(Pe,{to:"/tournaments/".concat(e.id),className:"block group p-4 bg-slate-900 border border-white/5 rounded-2xl hover:border-brand-500/30 transition-all shadow-lg",children:(0,bS.jsxs)("div",{className:"flex items-center gap-4",children:[(0,bS.jsx)("div",{className:"w-12 h-12 bg-brand-500/10 rounded-xl flex items-center justify-center text-brand-400 group-hover:bg-brand-500 group-hover:text-white transition-all",children:(0,bS.jsx)(bP,{size:20})}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h3",{className:"font-bold text-white group-hover:text-brand-400 transition-colors",children:e.name}),(0,bS.jsxs)("p",{className:"text-xs text-slate-500",children:[e.district," \u2022 ",e.type]})]}),(0,bS.jsx)(IP,{className:"ml-auto text-slate-700 group-hover:text-brand-500 transition-colors",size:18})]})})},e.id))})]}),y.teams.length>0&&(0,bS.jsxs)("section",{children:[(0,bS.jsxs)("h2",{className:"text-sm font-black text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,bS.jsx)(wP,{size:16}),"Teams (",y.teams.length,")"]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.teams.map(e=>(0,bS.jsx)(tP.div,{variants:b,children:(0,bS.jsx)(Pe,{to:"/teams",className:"block group p-4 bg-slate-900 border border-white/5 rounded-2xl hover:border-brand-500/30 transition-all shadow-lg",children:(0,bS.jsxs)("div",{className:"flex items-center gap-4",children:[(0,bS.jsx)("div",{className:"w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center overflow-hidden border border-white/5",children:e.logoUrl?(0,bS.jsx)("img",{src:e.logoUrl,className:"w-8 h-8 object-contain",alt:""}):(0,bS.jsx)("span",{className:"text-[10px] font-black text-slate-500",children:e.shortName||e.name.substring(0,2).toUpperCase()})}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h3",{className:"font-bold text-white group-hover:text-brand-400 transition-colors",children:e.name}),(0,bS.jsx)("p",{className:"text-xs text-slate-500",children:e.stadium||"Club"})]}),(0,bS.jsx)(IP,{className:"ml-auto text-slate-700 group-hover:text-brand-500 transition-colors",size:18})]})})},e.id))})]}),y.players.length>0&&(0,bS.jsxs)("section",{children:[(0,bS.jsxs)("h2",{className:"text-sm font-black text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,bS.jsx)(kP,{size:16}),"Players (",y.players.length,")"]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.players.map(e=>(0,bS.jsx)(tP.div,{variants:b,children:(0,bS.jsx)(Pe,{to:"/players",className:"block group p-4 bg-slate-900 border border-white/5 rounded-2xl hover:border-brand-500/30 transition-all shadow-lg",children:(0,bS.jsxs)("div",{className:"flex items-center gap-4",children:[(0,bS.jsx)("div",{className:"w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center overflow-hidden border border-white/5",children:e.photoUrl?(0,bS.jsx)("img",{src:e.photoUrl,className:"w-full h-full object-cover",alt:""}):(0,bS.jsx)("span",{className:"text-xs font-black text-slate-500",children:e.name.substring(0,2).toUpperCase()})}),(0,bS.jsxs)("div",{children:[(0,bS.jsx)("h3",{className:"font-bold text-white group-hover:text-brand-400 transition-colors",children:e.name}),(0,bS.jsxs)("p",{className:"text-xs text-slate-500",children:[e.team," \u2022 ",e.position]})]}),(0,bS.jsx)(IP,{className:"ml-auto text-slate-700 group-hover:text-brand-500 transition-colors",size:18})]})})},e.id))})]}),y.matches.length>0&&(0,bS.jsxs)("section",{children:[(0,bS.jsxs)("h2",{className:"text-sm font-black text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,bS.jsx)(cM,{size:16}),"Matches (",y.matches.length,")"]}),(0,bS.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.matches.map(e=>(0,bS.jsx)(tP.div,{variants:b,children:(0,bS.jsxs)(Pe,{to:"/live/".concat(e.id),className:"block group p-6 bg-slate-900 border border-white/5 rounded-2xl hover:border-brand-500/30 transition-all shadow-lg",children:[(0,bS.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,bS.jsx)("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:e.competition}),(0,bS.jsx)("span",{className:WR("px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider border","live"===e.status?"bg-red-500/10 text-red-500 border-red-500/20 animate-pulse":"bg-white/5 text-slate-500 border-white/5"),children:e.status})]}),(0,bS.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,bS.jsx)("div",{className:"flex-1 flex flex-col items-center",children:(0,bS.jsx)("span",{className:"font-bold text-white group-hover:text-brand-400 transition-colors text-center truncate w-full",children:e.teamA})}),(0,bS.jsx)("div",{className:"px-4 py-2 bg-black/40 rounded-xl border border-white/5",children:(0,bS.jsx)("span",{className:"font-black text-xl text-white",children:"scheduled"===e.status?e.time:"".concat(e.scoreA," - ").concat(e.scoreB)})}),(0,bS.jsx)("div",{className:"flex-1 flex flex-col items-center",children:(0,bS.jsx)("span",{className:"font-bold text-white group-hover:text-brand-400 transition-colors text-center truncate w-full",children:e.teamB})})]}),(0,bS.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/5 flex justify-between items-center",children:[(0,bS.jsx)("div",{className:"text-[10px] text-slate-500",children:e.date&&new Date(e.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,bS.jsx)(IP,{size:16,className:"text-slate-700 group-hover:text-brand-500 transition-colors"})]})]})},e.id))})]})]}):a&&(0,bS.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,bS.jsx)("div",{className:"w-20 h-20 bg-white/5 rounded-3xl flex items-center justify-center text-slate-500 mb-6 border border-white/5",children:(0,bS.jsx)(jP,{size:40})}),(0,bS.jsxs)("h3",{className:"text-2xl font-black text-white italic mb-2",children:['No results found for "',a,'"']}),(0,bS.jsx)("p",{className:"text-slate-500 max-w-sm",children:"Try searching with different keywords or check your spelling."})]}),!a&&(0,bS.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-40",children:[(0,bS.jsx)(jP,{size:80,className:"text-slate-700 mb-6"}),(0,bS.jsx)("h3",{className:"text-2xl font-black text-slate-700 italic",children:"Start searching GoalKashmir..."})]})]})};function lO(e){let{children:t}=e;const{currentUser:n}=kS(),r=Z();return n?t:(0,bS.jsx)(ve,{to:"/login",state:{from:r},replace:!0})}const cO=function(){return(0,bS.jsx)(XR,{children:(0,bS.jsx)(nM,{children:(0,bS.jsxs)("div",{className:"min-h-screen bg-white dark:bg-dark-bg text-slate-900 dark:text-white transition-colors duration-300",children:[(0,bS.jsx)(ZR,{}),(0,bS.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,bS.jsxs)(be,{children:[(0,bS.jsx)(ye,{path:"/",element:(0,bS.jsx)(hM,{})}),(0,bS.jsx)(ye,{path:"/tournaments",element:(0,bS.jsx)(fM,{})}),(0,bS.jsx)(ye,{path:"/tournaments/:id",element:(0,bS.jsx)(aO,{})}),(0,bS.jsx)(ye,{path:"/search",element:(0,bS.jsx)(oO,{})}),(0,bS.jsx)(ye,{path:"/teams",element:(0,bS.jsx)(gM,{})}),(0,bS.jsx)(ye,{path:"/players",element:(0,bS.jsx)(kM,{})}),(0,bS.jsx)(ye,{path:"/leaderboard",element:(0,bS.jsx)(SM,{})}),(0,bS.jsx)(ye,{path:"/news",element:(0,bS.jsx)(eO,{})}),(0,bS.jsx)(ye,{path:"/news/:id",element:(0,bS.jsx)(sO,{})}),(0,bS.jsx)(ye,{path:"/live/:matchId",element:(0,bS.jsx)(CM,{})}),(0,bS.jsx)(ye,{path:"/login",element:(0,bS.jsx)(IM,{})}),(0,bS.jsx)(ye,{path:"/admin",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(_M,{})})}),(0,bS.jsx)(ye,{path:"/admin/matches",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(AM,{})})}),(0,bS.jsx)(ye,{path:"/admin/teams",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(qM,{})})}),(0,bS.jsx)(ye,{path:"/admin/players",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(HM,{})})}),(0,bS.jsx)(ye,{path:"/admin/lineups",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(QM,{})})}),(0,bS.jsx)(ye,{path:"/admin/tournaments",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(WM,{})})}),(0,bS.jsx)(ye,{path:"/admin/news",element:(0,bS.jsx)(lO,{children:(0,bS.jsx)(JM,{})})})]})})]})})})};s.createRoot(document.getElementById("root")).render((0,bS.jsx)(t.StrictMode,{children:(0,bS.jsx)(_e,{children:(0,bS.jsx)(NS,{children:(0,bS.jsx)(cO,{})})})}))})()})();
//# sourceMappingURL=main.19a3801e.js.map